<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>RBAC Examples - v0.34-x | Kong - Open-Source API Management and Microservice Management</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1591209063"
  />

  <script>
    !(function(w) {
      var clearbit = (w.clearbit = w.clearbit || []);
      if (!clearbit.initialize)
        if (clearbit.invoked)
          w.console &&
            console.error &&
            console.error("Clearbit snippet included twice.");
        else {
          clearbit.invoked = !0;
          clearbit.methods = [
            "trackSubmit",
            "trackClick",
            "trackLink",
            "trackForm",
            "pageview",
            "identify",
            "reset",
            "group",
            "track",
            "ready",
            "alias",
            "page",
            "once",
            "off",
            "on"
          ];
          clearbit.factory = function(t) {
            return function() {
              var e = Array.prototype.slice.call(arguments);
              e.unshift(t);
              clearbit.push(e);
              return clearbit;
            };
          };
          for (var t = 0; t < clearbit.methods.length; t++) {
            var e = clearbit.methods[t];
            clearbit[e] = clearbit.factory(e);
          }
          clearbit.load = function(t) {
            var e = document.createElement("script");
            e.async = !0;
            e.src =
              ("https:" === document.location.protocol
                ? "https://"
                : "http://") +
              "x.clearbitjs.com/v1/" +
              t +
              "/clearbit.js";
            var n = document.getElementsByTagName("script")[0];
            n.parentNode.insertBefore(e, n);
          };
          clearbit.SNIPPET_VERSION = "3.1.0";
          clearbit.load("pk_1bdbdbad26342e32516473510e95c3ff");
          clearbit.page();
        }
    })(window);
  </script>

  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id=""
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top lower_nav expand">
  <div class="container d-flex">
    <a href="https://konghq.com/" class="navbar-brand col col-xl-auto">
    <img src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/img/gradient-logo.svg" alt="Kong Logo">
    </a>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
    <nav class="navbar full-width">
      <div class="collapse navbar-collapse col justify-content-md-end kong-navbar_nav">
        <ul id="menu-primary-nav" class="menu">
          <li class="btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12447 navbar-item"><a href="https://konghq.com/get-started?itm_source=website&itm_medium=nav" class="nav-link">Get Started</a></li>
          <li class="btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12448 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link">Install</a></li>
          <li class="two-row nav1 menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor menu-item-has-children menu-item-12449 navbar-item">
            <a href="#" class="nav-link">Products</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children menu-item-12450 navbar-item">
                <a href="https://konghq.com/kong?itm_source=website&itm_medium=nav" class="nav-link">Kong Gateway</a>
                <div class="nav-btns"><a class="navbtn" href="https://konghq.com/install?itm_source=website&itm_medium=nav">Install Kong Open Source</a></div>
                <ul class="sub-menu">
                  <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12451 navbar-item"><a href="https://konghq.com/kong?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                  <li class="stacked menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-12452 navbar-item">
                    <a href="https://konghq.com/products/kong-gateway/control-api?itm_source=website&itm_medium=nav" aria-current="page" class="nav-link">
                      <img src="/assets/images/nav/control.svg"> Control API
                      <p class="description">Own your Kong experience to customize your API and microservices workflows.</p>
                    </a>
                  </li>
                  <li id="menu-item-12453" class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12453 navbar-item">
                    <a href="https://konghq.com/products/kong-gateway/kong-proxy?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/proxy.svg"> Kong Proxy
                      <p class="description">Deliver performance needed for microservices, service mesh, and cloud native deployments.</p>
                    </a>
                    <ul class="sub-menu">
                      <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12466 navbar-item"><a href="https://konghq.com/products/kong-gateway/kong-proxy?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12467 navbar-item"><a href="https://konghq.com/products/kong-enterprise/multi-protocol?itm_source=website&itm_medium=nav" class="nav-link">Multi-protocol</a></li>
                    </ul>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12454 navbar-item">
                    <a href="https://konghq.com/products/kong-gateway/kong-plugins?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/plugins.svg"> Kong Plugins
                      <p class="description">Unleash the full power of Kong with a robust ecosystem of plugins.</p>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12455 navbar-item">
                <a href="https://konghq.com/products/kong-enterprise?itm_source=website&itm_medium=nav" class="nav-link">Kong Enterprise</a>
                <div class="nav-btns"><a class="navbtn" href="https://konghq.com/get-started?itm_source=website&itm_medium=nav">Get Started</a></div>
                <ul class="sub-menu">
                  <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12456 navbar-item"><a href="https://konghq.com/products/kong-enterprise" class="nav-link">Overview</a></li>
                  <li class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12457 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-manager?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/manager.svg"> Kong Manager
                      <p class="description">Monitor and manage all your services with a consumer-grade interface.</p>
                    </a>
                    <ul class="sub-menu">
                      <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12458 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-manager?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                    </ul>
                  </li>
                  <li class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12461 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/teams?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/teams.svg"> Teams
                      <p class="description">Organize developers and assign permissions to improve efficiency and compliance.</p>
                    </a>
                    <ul class="sub-menu">
                      <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12462 navbar-item"><a href="https://konghq.com/products/kong-enterprise/teams?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12463 navbar-item"><a href="https://konghq.com/products/kong-enterprise/role-based-access-control?itm_source=website&itm_medium=nav" class="nav-link">RBAC</a></li>
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12464 navbar-item"><a href="https://konghq.com/products/kong-enterprise/workspaces?itm_source=website&itm_medium=nav" class="nav-link">Workspaces</a></li>
                    </ul>
                  </li>
                  <li class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-12465 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-studio?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/studio.svg"> Kong Studio
                      <p class="description">Empower your developers with the Kong Studio Integrated Development Environment.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12468 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/dev-portal?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/dev-portal.svg"> Dev Portal
                      <p class="description">Accelerate innovation across your organization with the Kong Developer Portal.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12469 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-brain?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/brain-updated.svg"> Brain
                      <p class="description">Automatically standardize documentation and create a visual map of your services.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12470 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-immunity?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/immunity.svg"> Immunity
                      <p class="description">Autonomously identify service issues with machine learning-powered anomaly detection.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12468 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-kubernetes?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/icn-kubernetes.svg"> Kong for Kubernetes
                      <p class="description">The only fully native Kubernetes Ingress Controller for enhanced API management.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12469 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/enterprise-plugins?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/icn-enterprise-plugins.svg"> Enterprise Plugins
                      <p class="description">Instantly implement policies built for global scale with Kong Enterprise Plugins.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12470 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-immunity?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/icn-vitals.svg"> Vitals
                      <p class="description">Monitor your Kong Enterprise health and microservice API transactions traversing Kong.</p>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="menu-item-12471" class="multicol wide nav1 toplabel menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12471 navbar-item"><a href="#" class="nav-link solutions">Solutions</a>
            <ul class="sub-menu">
              <li id="menu-item-12472" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12472 navbar-item"><a href="#" class="nav-link use-cases">Use Cases</a>
              <ul class="sub-menu">
                <li id="menu-item-12473" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12473 navbar-item"><a href="https://konghq.com/solutions/use-cases/decentralize-applications-and-services?itm_source=website&amp;itm_medium=nav" class="nav-link decentralize-apps-and-services<p-class=&quot;description&quot;>accelerate-your-journey-into-microservices</p>">Decentralize Apps and Services<p class="description">Accelerate your journey into microservices</p></a></li>
                <li id="menu-item-14131" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14131 navbar-item"><a href="https://konghq.com/solutions/use-cases/secure-and-govern-apis-and-services/?itm_source=website&amp;itm_medium=nav" class="nav-link secure-and-govern-apis<p-class=&quot;description&quot;>empower-teams-to-provide-security,-governance-and-compliance</p>">Secure and Govern APIs<p class="description">Empower teams to provide security, governance and compliance</p></a></li>
                <li id="menu-item-17469" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17469 navbar-item"><a href="https://konghq.com/solutions/use-cases/create-a-developer-platform/?itm_source=website&amp;itm_medium=nav" class="nav-link create-a-developer-platform<p-class=&quot;description&quot;>rapidly-design,-publish-and-consume-apis-and-services</p>">Create a Developer Platform<p class="description">Rapidly design, publish and consume APIs and services</p></a></li>
              </ul>
            </li>
              <li id="menu-item-17470" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-17470 navbar-item"><a href="#" class="nav-link deployment-patterns">Deployment Patterns</a>
              <ul class="sub-menu">
                <li id="menu-item-17471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17471 navbar-item"><a href="https://konghq.com/solutions/gateway/?itm_source=website&amp;itm_medium=nav" class="nav-link api-gateway<p-class=&quot;description&quot;>take-control-of-your-microservices-with-the-world's-most-popular-api-gateway</p>">API Gateway<p class="description">Take control of your microservices with the worldâ€™s most popular API gateway</p></a></li>
                <li id="menu-item-17472" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17472 navbar-item"><a href="https://konghq.com/solutions/kubernetes-ingress/?itm_source=website&amp;itm_medium=nav" class="nav-link kubernetes<p-class=&quot;description&quot;>own-your-kubernetes-cluster-by-using-kong-as-an-ingress-controller</p>">Kubernetes<p class="description">Own your Kubernetes cluster by using Kong as an Ingress Controller</p></a></li>
                <li id="menu-item-17473" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17473 navbar-item"><a target="_blank" rel="noopener noreferrer" href="https://kuma.io/?itm_source=website&amp;itm_medium=nav" class="nav-link service-mesh<p-class=&quot;description&quot;>build,-secure-and-observe-your-modern-service-mesh</p>">Service Mesh<p class="description">Build, secure and observe your modern Service Mesh</p></a></li>
              </ul>
            </li>
            </ul>
            </li>
          <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12471 navbar-item">
              <a href="/hub" class="nav-link">Plugins</a>
          </li>
          <li class="one-col nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12475 navbar-item">
            <a href="#" class="nav-link">Open Source</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12476 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/install.svg"> Install Kong Gateway</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12477 navbar-item"><a href="https://konghq.com/community?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/community.svg"> Kong Community</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12478 navbar-item"><a target="_blank" href="https://github.com/Kong/kubernetes-ingress-controller" class="nav-link"><img src="/assets/images/nav/kubernetes.svg"> Kubernetes Ingress</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12479 navbar-item"><a target="_blank" href="https://kuma.io" class="nav-link"><img src="/assets/images/nav/kuma.svg"> Kuma</a></li>
              <li class="nav2 hidden menu-item menu-item-type-custom menu-item-object-custom menu-item-12480 navbar-item"><a target="_blank" href="https://insomnia.rest/" class="nav-link"><img src="/assets/images/nav/insomnia.svg"> Insomnia</a></li>
            </ul>
          </li>
          <li class="multicol wide nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12481 navbar-item docs">
            <a target="_blank" href="https://docs.konghq.com/?itm_source=website&itm_medium=nav" class="nav-link">Docs</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12482 navbar-item">
                <a class="nav-link">Get Started</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12484 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/install-thick.svg"> Install Kong Gateway</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12485 navbar-item"><a target="_blank" href="https://docs.konghq.com/enterprise/1.5.x/deployment/installation/overview/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/getting-started-thick.svg"> Install Kong Enterprise</a></li>
                </ul>
              </li>
              <li id="menu-item-12483" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12483 navbar-item">
                <a class="nav-link">Learn</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12486 navbar-item"><a target="_blank" href="https://docs.konghq.com/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Gateway</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12487 navbar-item"><a target="_blank" href="https://docs.konghq.com/enterprise/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Enterprise</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12488 navbar-item"><a target="_blank" href="https://docs.konghq.com/studio/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Studio</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12489 navbar-item"><a target="_blank" href="https://docs.konghq.com/hub/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Plugins Hub</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="multicol nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12490 navbar-item">
            <a href="#" class="nav-link">Resources</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12491 navbar-item">
                <a class="nav-link">Learning</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12495 navbar-item"><a href="https://konghq.com/resources/?content=ebooks&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/ebooks.svg"> eBooks</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12496 navbar-item"><a href="https://konghq.com/resources/?content=webinars&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/webinars.svg"> Webinars</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12497 navbar-item"><a href="https://konghq.com/resources/?content=whitepaper&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/briefs.svg"> Briefs</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12494 navbar-item"><a href="https://konghq.com/blog?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/blog.svg"> Blog</a></li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12492 navbar-item">
                <a class="nav-link">Community</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12500 navbar-item"><a href="https://konghq.com/community?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/meetups.svg"> Community</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12498 navbar-item"><a target="_blank" href="https://discuss.konghq.com/?_ga=2.147363831.1919773651.1569859116-132287075.1554308608" class="nav-link"><img src="/assets/images/nav/kong-nation.svg"> Kong Nation</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12501 navbar-item"><a href="https://konghq.com/kong-summit?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/summit.svg"> Kong Summit</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12499 navbar-item"><a target="_blank" href="https://github.com/Kong/" class="nav-link"><img src="/assets/images/nav/github.svg"> GitHub</a></li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12493 navbar-item">
                <a class="nav-link">Support</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12502 navbar-item"><a target="_blank" href="https://support.konghq.com/s/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Enterprise Support Portal</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12503 navbar-item"><a href="https://konghq.com/faqs?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> FAQS</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12502 navbar-item"><a href="https://konghq.com/support/kong-professional-services?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Kong Professional Services</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12503 navbar-item"><a href="https://konghq.com/support/kong-university/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Kong University</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="menu-item-12504" class="one-col icn-sm nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12504 navbar-item">
            <a href="#" class="nav-link">Company</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12505 navbar-item"><a href="https://konghq.com/about-kong-inc?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/about.svg"> About</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12505 navbar-item"><a href="https://konghq.com/customers?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/meetups.svg"> Customers</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12506 navbar-item"><a href="https://konghq.com/investors?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/investors.svg"> Investors</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12507 navbar-item"><a href="https://konghq.com/careers?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/careers.svg"> Careers</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12508 navbar-item"><a href="https://konghq.com/partners?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/partners.svg"> Partners</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12509 navbar-item"><a href="https://konghq.com/press-room?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/press.svg"> Press</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12510 navbar-item"><a href="https://konghq.com/contact?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/contact.svg"> Contact</a></li>
            </ul>
          </li>
          <li class="demo-btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12511 navbar-item"><a href="https://konghq.com/get-started?itm_source=website&itm_medium=nav" class="nav-link">Get Started</a></li>
        </ul>
      </div>
    </nav>
  </div>
</header>


    <div class="page v2  ">
  <header class="page-header">
    
    <div class="container">
      <nav class="docs-navigation v2">
        <a href="/" >Kong Gateway</a>
        <a href="/enterprise"  class="active" >Kong Enterprise</a>
        <a href="/getting-started-guide/latest/overview" >Getting Started</a>

        <div class="edit-this-page v2">
          <a target="_blank" href="https://github.com/Kong/docs.konghq.com/tree/master/app/enterprise/0.34-x/rbac/examples.md">
            <i class="fa fa-pencil"></i>
            <span>Edit this Page</span>
          </a>
        </div>
      </nav>

      <div class="title-version-search-container">
        <div class="page-header-title">
          <h1>RBAC Examples</h1>
        </div>
        <div class="search-version-row">
          <div class="versions-dropdown dropdown no-right-border">
            <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
              Version 0.34-x
              
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
              
              
              
              <li >
                <a href="/enterprise/1.5.x"
                    
                >
                  1.5.x
                  <em>(latest)</em>
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/1.3-x"
                    
                >
                  1.3-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.36-x"
                    
                >
                  0.36-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.35-x"
                    
                >
                  0.35-x
                  
                </a>
              </li>
              
              
              
              <li  class="active" >
                <a href="/enterprise/0.34-x/rbac/examples/"
                     class="active" 
                >
                  0.34-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.33-x/rbac/examples/"
                    
                >
                  0.33-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.32-x"
                    
                >
                  0.32-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.31-x"
                    
                >
                  0.31-x
                  
                </a>
              </li>
              
            </ul>
          </div>
          <div class="dropdown" id="searchBar">
            <div id="getkong-algolia-search" class="search-input v2 small">
              <img class="icon" src="/assets/images/icons/icn-magnifying-glass.svg" alt="search">
              <input type="text" placeholder="Type to search " id="getkong-algolia-search-input" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>
  

  <ul class="accordion-container">
    
    





<li class="accordion-item">
  
  <input id="accordion-1" type="checkbox" />
  
  
  <label for="accordion-1">
    
    
    Getting Started
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/introduction"  >
      Introduction
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/quickstart"  >
      Five-minute quickstart
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/configuring-a-service"  >
      Configuring a Service
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/enabling-plugins"  >
      Enabling Plugins
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/adding-consumers"  >
      Adding Consumers
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/licensing"  >
      Licensing
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/getting-started/accessing-your-license"  >
      Accessing Your License
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-2" type="checkbox" />
  
  
  <label for="accordion-2">
    
    
    Installation
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/installation/docker"  >
      Docker
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/installation/centos"  >
      CentOS
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/installation/amazon-linux"  >
      Amazon Linux
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-3" type="checkbox" />
  
  
  <label for="accordion-3">
    
    
    APIs and Plugins
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/canary-release"  >
      Canary Release Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/rate-limiting-advanced"  >
      Rate Limiting Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/request-transformer"  >
      Request Transformer Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/oauth2-introspection"  >
      OAuth2 Introspection Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/openid-connect"  >
      OpenID Connect Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/http-proxy-caching"  >
      HTTP Proxy Caching
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/forward-proxy"  >
      Forward Proxy
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/statsd-advanced"  >
      StatsD Advanced Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/plugins/ldap-authentication-advanced"  >
      LDAP Auth Advanced Plugin
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-4" type="checkbox" />
  
  
  <label for="accordion-4">
    
    
    <a href="/enterprise/0.34-x/admin-api/">Admin API</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#supported-content-types"  >
      Supported Content Types
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#information-routes"  >
      Information
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#service-object"  >
      Service Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#route-object"  >
      Route Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#api-object"  >
      API Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#consumer-object"  >
      Consumer Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#plugin-object"  >
      Plugin Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#certificate-object"  >
      Certificate Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#sni-objects"  >
      SNI Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#upstream-objects"  >
      Upstream Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api/#target-object"  >
      Target Object
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-5" type="checkbox" />
  
  
  <label for="accordion-5">
    
    
    Workspaces
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/workspaces/overview"  >
      Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/workspaces/admin-api"  >
      Admin API
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/workspaces/examples"  >
      Examples
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-6" type="checkbox" />
  
  
  <label for="accordion-6">
    
    
    RBAC
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/rbac/overview"  >
      Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/rbac/admin-api"  >
      Admin API
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/rbac/examples"  class="active">
      Examples
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-7" type="checkbox" />
  
  
  <label for="accordion-7">
    
    
    Vitals
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/vitals"  >
      Kong Vitals
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/vitals-influx-strategy"  >
      Kong Vitals with InfluxDB
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/vitals-prometheus-strategy"  >
      Kong Vitals with Prometheus
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-8" type="checkbox" />
  
  
  <label for="accordion-8">
    
    
    Kong Manager
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/overview"  >
      Overview
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-8-2" type="checkbox" />
  
  
  <label for="accordion-8-2">
    
    
    <a href="/enterprise/0.34-x/kong-manager/configuration/getting-started/">Configuration</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/configuration/getting-started"  >
      Getting Started
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/configuration/authentication"  >
      Authentication
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/configuration/networking"  >
      Networking
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-8-3" type="checkbox" />
  
  
  <label for="accordion-8-3">
    
    
    <a href="/enterprise/0.34-x/kong-manager/organization-management/workspaces/">Organization Management</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/organization-management/workspaces"  >
      Workspaces
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/organization-management/rbac-and-perms"  >
      RBAC and Permissions
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/organization-management/managing-admins"  >
      Managing Admins
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-manager/vitals"  >
      Vitals
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-9" type="checkbox" />
  
  
  <label for="accordion-9">
    
    
    Kong Dev Portal
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/introduction"  >
      Overview
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-9-2" type="checkbox" />
  
  
  <label for="accordion-9-2">
    
    
    <a href="/enterprise/0.34-x/developer-portal/configuration/getting-started/">Configuration</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/configuration/getting-started"  >
      Getting Started
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/configuration/authentication"  >
      Authentication
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/configuration/networking"  >
      Networking
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/configuration/smtp"  >
      SMTP
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/configuration/workspaces"  >
      Working with Workspaces
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-9-3" type="checkbox" />
  
  
  <label for="accordion-9-3">
    
    
    <a href="/enterprise/0.34-x/developer-portal/management/file-management/">Management</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/management/file-management"  >
      File Management
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/management/developers"  >
      Managing Developers
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-9-4" type="checkbox" />
  
  
  <label for="accordion-9-4">
    
    
    <a href="/enterprise/0.34-x/developer-portal/customization/customization/">Customization</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/customization/customization"  >
      Customizing the Dev Portal
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/customization/smart-components"  >
      Smart Components
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-9-5" type="checkbox" />
  
  
  <label for="accordion-9-5">
    
    
    <a href="/enterprise/0.34-x/developer-portal/developers/developer-access/">Developers</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/developers/developer-access"  >
      Account Management
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/developer-portal/faq"  >
      FAQ & Troubleshooting
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-10" type="checkbox" />
  
  
  <label for="accordion-10">
    
    
    Guides &amp; References
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/property-reference"  >
      Configuration Property Reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/deployment-guide"  >
      Kong Deployment Guide
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/changelog"  >
      Changelog
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-architecture-overview"  >
      Architecture Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-architecture-patterns"  >
      Architecture Patterns
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/rate-limiting"  >
      Rate Limiting Library
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/admin-api-audit-log"  >
      Admin API Audit Logging
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/edition-versioning"  >
      Kong Enterprise Versioning
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/allowing-multiple-authentication-methods"  >
      Multiple Authentication Methods
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/postgresql-redhat"  >
      PostgreSQL on RedHat
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/oidc-google"  >
      OpenID Connect with Google
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/oidc-auth0"  >
      OpenID Connect with Auth0
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/upgrades-migrations"  >
      Upgrades and Migrations
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.34-x/kong-aws"  >
      AWS Guide and Best Practices
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
  </ul>
</aside>


    
    <aside class="docs-toc">
      <i class="fa fa-times close-sidebar"></i>
      <i class="fa fa-chevron-right collapse-toc"></i>
      <i class="far fa-list-alt expand-toc"></i>
      <div class="docs-toc-title">On this page</div>
      <ul>
  <li><a href="#introduction" class="active scroll-to">Introduction</a></li>
  <li><a href="#use-case" class="scroll-to">Use Case</a></li>
  <li><a href="#bootstrapping-the-first-rbac-userthe-super-admin" class="scroll-to">Bootstrapping the first RBAC userâ€”the Super Admin</a></li>
  <li><a href="#enforcing-rbac" class="scroll-to">Enforcing RBAC</a></li>
  <li><a href="#super-admin-creates-the-teams-workspaces" class="scroll-to">Super Admin creates the teams Workspaces</a></li>
  <li><a href="#super-admin-creates-one-admin-for-each-team" class="scroll-to">Super Admin Creates one Admin for each Team:</a></li>
  <li><a href="#super-admin-creates-admin-roles-for-teams" class="scroll-to">Super Admin Creates Admin Roles for Teams</a></li>
  <li><a href="#team-admins-create-team-regular-users" class="scroll-to">Team Admins Create Team Regular Users</a></li>
  <li><a href="#regular-team-users-use-their-tokens" class="scroll-to">Regular Team Users use their tokens!</a></li>
  <li><a href="#creating-entity-level-permissions" class="scroll-to">Creating Entity-Level Permissions</a></li>
  <li><a href="#closing-remarks" class="scroll-to">Closing Remarks</a></li>
  <li><a href="#wildcards-in-permissions" class="scroll-to">Wildcards in Permissions</a></li>
  <li><a href="#entities-concealing-in-entity-level-rbac" class="scroll-to">Entities Concealing in Entity-Level RBAC</a></li>
  <li><a href="#creating-entities-in-entity-level-rbac" class="scroll-to">Creating Entities in Entity-Level RBAC</a></li>
</ul>

    </aside>
    

    <div class="page-content-container v2" id="documentation">
      <div class="toggles">
        <i class="fas fa-stream sidebar-toggle"></i>
        
        <i class="far fa-list-alt toc-sidebar-toggle"></i>
        
      </div>

      <div class="page-content">
        <div class="content show-anchor-links">
          
          
          <div class="alert alert-warning">
            <strong>Careful!</strong> You are browsing documentation for an outdated version of Kong Enterprise. Go <a
                  href="/enterprise/latest">here</a>
            to browse the documentation for the latest version.
          </div>
          

          
          <span class="reading-time" title="Estimated reading time">
  Estimated reading time:
  
  
    17 minutes
  
</span>

          

          <h2 id="introduction">Introduction</h2>

<p>This chapter aims to provide a step-by-step tutorial on how to set up
RBAC and see it in action, with an end-to-end use case. The chosen
use case demonstrates how <strong>RBAC with workspaces</strong> can be coupled
to achieve a flexible organization of teams and users in complex
hierarchies. Make sure to read the <a href="/enterprise/0.34-x/rbac/overview">RBAC Overview</a> page
and to glance over the <a href="/enterprise/0.34-x/rbac/admin-api">RBAC Admin API</a> chapter, keeping it
open as a reference.</p>

<h2 id="use-case">Use Case</h2>

<p>For the sake of example, letâ€™s say a given company has a Kong Enterprise
cluster to be shared with 3 teams: teamA, teamB, and teamC. While the Kong
cluster are shared among these teams, they want to be able to segment
their entities in such a way that management of entities in one team doesnâ€™t
disrupt operation in some other team. As shown in the
<a href="/enterprise/0.34-x/rbac/examples">Workspaces Examples Page</a>, such a use case is possible
with workspaces. On top of workspaces, though, each team wants to enforce
access control over their Workspace, which is possible with RBAC. <strong>To sum up,
Workspaces and RBAC are complementary: Workspaces provide segmentation of
Admin API entities, while RBAC provides access control</strong>.</p>

<h2 id="bootstrapping-the-first-rbac-userthe-super-admin">Bootstrapping the first RBAC userâ€”the Super Admin</h2>

<p><strong>Note:</strong> It is possible to create the first Super Admin at the time
of migration as described in the <a href="/enterprise/0.34-x/getting-started/quickstart/#1-start-kong-enterprise">Getting Started Guide</a>. 
If you chose this option, skip to <a href="#enforcing-rbac">Enforcing RBAC</a>.</p>

<p>Before anything, we will assume the Kong Adminâ€”or, more interestingly,
the KongOps Engineerâ€”in charge of operating Kong, will create a Super Admin
user, before actually enforcing RBAC and restarting Kong with RBAC enabled.</p>

<p>As Kong ships with a handy set of default RBAC Rolesâ€”the <code class="highlighter-rouge">super-admin</code>,
the <code class="highlighter-rouge">admin</code>, and <code class="highlighter-rouge">read-only</code>â€”the task of creating a Super Admin user is
quite easy:</p>

<p>Create the RBAC user, named <code class="highlighter-rouge">super-admin</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/rbac/users name=super-admin
{
  "user_token": "M8J5A88xKXa7FNKsMbgLMjkm6zI2anOY",
  "id": "da80838d-49f8-40f6-b673-6fff3e2c305b",
  "enabled": true,
  "created_at": 1531009435000,
  "name": "super-admin"
}
</code></pre></div></div>

<p>As the <code class="highlighter-rouge">super-admin</code> user name coincides with an existing <code class="highlighter-rouge">super-admin</code>
role, it gets automatically added to the <code class="highlighter-rouge">super-admin</code> roleâ€”which can be
confirmed with the following command:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/rbac/users/super-admin/roles
{
  "roles": [
    {
      "comment": "Full access to all endpoints, across all workspaces",
      "created_at": 1531009724000,
      "name": "super-admin",
      "id": "b924ac91-e83f-4136-a5a4-4a7ff92594a8"
    }
  ],
  "user": {
    "created_at": 1531009858000,
    "id": "e6897cc0-0c34-4a9c-9f0b-cc65b4f04d68",
    "name": "super-admin",
    "enabled": true,
    "user_token": "vajeOlkybsn0q0VD9qw9B3nHYOErgY7b8"
  }
}

</code></pre></div></div>

<h2 id="enforcing-rbac">Enforcing RBAC</h2>

<p>As the <code class="highlighter-rouge">super-admin</code> user has just been created, the Kong Admin may now
restart Kong with RBAC enforced, with, e.g.:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>KONG_ENFORCE_RBAC=on kong restart
</code></pre></div></div>

<p><strong>NOTE</strong>: This is one of the possible ways of enforcing RBAC and restarting
Kong; another possibility is editing the Kong configuration file and
restarting.</p>

<p>Before we move on, note that we will be using the Super Admin user, but we
could, in fact, be moving without RBAC enabled, and having our Kong Admin do
all the job of setting up the RBAC hierarchy. We want, however, to stress the
fact that RBAC is powerful enough to allow a flexible separation of tasks. To
summarize:</p>

<ul>
  <li><strong>Kong Admin</strong>: this user has physical access to Kong infrastructure; her
task is to bootstrap the Kong cluster as well as its configuration, including
initial RBAC users;</li>
  <li><strong>RBAC Super Admin</strong>: created by the Kong Admin, has the role of managing
RBAC users, roles, etc; this could all be done by the <strong>Kong Admin</strong>, but letâ€™s
give him a break.</li>
</ul>

<h2 id="super-admin-creates-the-teams-workspaces">Super Admin creates the teams Workspaces</h2>

<p>The Super Admin will now set up our 3 teams: teamA, teamB, and teamC, creating
one workspace for each, one admin for each. Enough talking.</p>

<p>Creating workspaces for each teamâ€”this overlaps a bit with
<a href="/enterprise/0.34-x/rbac/examples">Workspaces Examples</a>, yes, but it will make our
exploration of RBAC + Workspaces easier:</p>

<p><strong>Team A</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/workspaces name=teamA Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "name": "teamA",
  "created_at": 1531014100000,
  "id": "1412f3a6-4d9b-4b9d-964e-60d8d63a9d46"
}

</code></pre></div></div>

<p><strong>Team B</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/workspaces name=teamB Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "name": "teamB",
  "created_at": 1531014143000,
  "id": "7dee8c56-c6db-4125-b87a-b508baa33c66"
}
</code></pre></div></div>

<p><strong>Team C</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/workspaces name=teamC Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "name": "teamC",
  "created_at": 1531014171000,
  "id": "542c8662-17cc-49eb-af50-6eb14f3b2e8a"
}
</code></pre></div></div>

<p><strong>NOTE</strong>: this is the RBAC Super Admin creating workspacesâ€”note his
token being passed in through the <code class="highlighter-rouge">Kong-Admin-Token</code> HTTP header.</p>

<h2 id="super-admin-creates-one-admin-for-each-team">Super Admin Creates one Admin for each Team:</h2>

<p><strong>Team A</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users name=adminA Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "user_token": "qv1VLIpl8kHj7lC1QOKwRdCMXanqEDii",
  "id": "4d315ff9-8c1a-4844-9ea2-21b16204a154",
  "enabled": true,
  "created_at": 1531015165000,
  "name": "adminA"
}
</code></pre></div></div>

<p><strong>Team B</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamB/rbac/users name=adminB Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "user_token": "IX5vHVgYqM40tLcctdmzRtHyfxB4ToYv",
  "id": "49641fc0-8c9d-4507-bc7a-2acac8f2903a",
  "enabled": true,
  "created_at": 1531015221000,
  "name": "adminB"
}
</code></pre></div></div>

<p><strong>Team C</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamC/rbac/users name=adminC Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "user_token": "w2f7tsuUW4BerXocZIMRQHE84nK2ZAo7",
  "id": "74643f69-8852-49f9-b363-21971bac4f52",
  "enabled": true,
  "created_at": 1531015304000,
  "name": "teamC"
}
</code></pre></div></div>

<p>With this, all of the teams have one admin and each admin can only be seen
in his corresponding workspace. To verify:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "total": 1,
  "data": [
    {
      "created_at": 1531014784000,
      "id": "1faaacd1-709f-4762-8c3e-79f268ec8faf",
      "name": "adminA",
      "enabled": true,
      "user_token": "n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG"
    }
  ]
}
</code></pre></div></div>

<p>Similarly, workspaces teamB and teamC only show their respective admins:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamB/rbac/users Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "total": 1,
  "data": [
    {
      "created_at": 1531014805000,
      "id": "3a829408-c1ee-4764-8222-2d280a5de441",
      "name": "adminB",
      "enabled": true,
      "user_token": "C8b6kTTN10JFyU63ORjmCQwVbvK4maeq"
    }
  ]
}
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamC/rbac/users Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "total": 1,
  "data": [
    {
      "created_at": 1531014813000,
      "id": "84d43cdb-5274-4b74-ad22-615e50f005e3",
      "name": "adminC",
      "enabled": true,
      "user_token": "zN5Nj8U1MiGR7vVQKvl8odaGBDI6mjgY"
    }
  ]
}
</code></pre></div></div>

<h2 id="super-admin-creates-admin-roles-for-teams">Super Admin Creates Admin Roles for Teams</h2>

<p>Super Admin is now done creating RBAC Admin users for each team; his next
task is to create admin roles that will effectively grant permissions to admin
users.</p>

<p>The admin role must have access to all of the Admin API, restricted to his
workspace.</p>

<p>Setting up the Admin roleâ€”pay close attention to the request parameters:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/ name=admin Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "created_at": 1531016728000,
  "id": "d40e61ab-8dad-4ef2-a48b-d11379f7b8d1",
  "name": "admin"
}
</code></pre></div></div>

<p>Creating role endpoint permissions:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/admin/endpoints/ endpoint=* workspace=teamA actions=* Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "total": 1,
  "data": [
    {
      "endpoint": "*",
      "created_at": 1531017322000,
      "role_id": "d40e61ab-8dad-4ef2-a48b-d11379f7b8d1",
      "actions": [
        "delete",
        "create",
        "update",
        "read"
      ],
      "negative": false,
      "workspace": "teamA"
    }
  ]
}
</code></pre></div></div>

<p>Next logical step is to add the adminA userâ€”admin of Team Aâ€”to the Admin
role in his workspace:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/adminA/roles/ roles=admin Kong-Admin-Token:vajeOlkbsn0q0VD9qw9B3nHYOErgY7b8
{
  "roles": [
    {
      "comment": "Default user role generated for adminA",
      "created_at": 1531014784000,
      "id": "e2941b41-92a4-4f49-be89-f1a452bdecd0",
      "name": "adminA"
    },
    {
      "created_at": 1531016728000,
      "id": "d40e61ab-8dad-4ef2-a48b-d11379f7b8d1",
      "name": "admin"
    }
  ],
  "user": {
    "created_at": 1531014784000,
    "id": "1faaacd1-709f-4762-8c3e-79f268ec8faf",
    "name": "adminA",
    "enabled": true,
    "user_token": "n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG"
  }
}
</code></pre></div></div>

<p>Note the admin role in the list above.</p>

<p>With these steps, Team Aâ€™s admin user is now able to manage his team. To
validate that, letâ€™s try to list RBAC users in Team B using Team Aâ€™s admin
user tokenâ€”and see that we are not allowed to do so:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamB/rbac/users Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "message": "Invalid RBAC credentials"
}
</code></pre></div></div>

<p>Said admin is, however, allowed to list RBAC users in Team Aâ€™s workspace:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "total": 1,
  "data": [
    {
      "created_at": 1531014784000,
      "id": "1faaacd1-709f-4762-8c3e-79f268ec8faf",
      "name": "adminA",
      "enabled": true,
      "user_token": "n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG"
    }
  ]
}
</code></pre></div></div>

<p>If the same procedure is repeated for Team B and Team C, they will end up with
a similar set up, with an admin role and an admin user, both restricted to the
teamâ€™s workspace.</p>

<p>And so Super Admin ends his participation; individual team admins are now able
to set up his teams users and entities!</p>

<h2 id="team-admins-create-team-regular-users">Team Admins Create Team Regular Users</h2>

<p>From this point on, team admins are able to drive the process; the next logical
step is for Team users to be created; such team users could be, for example,
engineers that are part of Team A (or B or C). Letâ€™s go ahead and do that,
using Admin Aâ€™s user token.</p>

<p>Before regular users can be created, a role needs to be available for them.
Such a role needs to have permissions to all of Admin API endpoints, except
RBAC and Workspacesâ€”regular users will not need access to these in general
and, if they do, the Admin can grant them.</p>

<p><strong>Creating the regular users role</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/ name=users Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "created_at": 1531020346000,
  "id": "9846b92c-6820-4741-ac31-425b3d6abc5b",
  "name": "users"
}
</code></pre></div></div>

<p><strong>Creating permissions in the regular users role</strong>:</p>

<p>First, permission to all of Admin APIâ€”positive permission on *:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/users/endpoints/ endpoint=* workspace=teamA actions=* Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "endpoint": "*",
  "created_at": 1531020573000,
  "role_id": "9846b92c-6820-4741-ac31-425b3d6abc5b",
  "actions": [
    "delete",
    "create",
    "update",
    "read"
  ],
  "negative": false,
  "workspace": "teamA"
}
</code></pre></div></div>

<p>Then, filter out RBAC and workspaces with negative permissions:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/users/endpoints/ endpoint=/rbac/* workspace=teamA actions=* Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "endpoint": "/rbac/*",
  "created_at": 1531020744000,
  "role_id": "9846b92c-6820-4741-ac31-425b3d6abc5b",
  "actions": [
    "delete",
    "create",
    "update",
    "read"
  ],
  "negative": true,
  "workspace": "teamA"
}
</code></pre></div></div>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/users/endpoints/ endpoint=/workspaces/* workspace=teamA actions=* Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "endpoint": "/workspaces/*",
  "created_at": 1531020778000,
  "role_id": "9846b92c-6820-4741-ac31-425b3d6abc5b",
  "actions": [
    "delete",
    "create",
    "update",
    "read"
  ],
  "negative": true,
  "workspace": "teamA"
}
</code></pre></div></div>

<p><strong>IMPORTANT</strong>: as explained in the [Wildcards in Permissions][rbac-wildcards]
section, the meaning of <code class="highlighter-rouge">*</code> is not the expected generic globbing one might
be used to. As such, <code class="highlighter-rouge">/rbac/*</code> or <code class="highlighter-rouge">/workspaces/*</code> do not match all of the
RBAC and Workspaces endpoints. For example, to cover all of the RBAC API,
one would have to define permissions for the following endpoints:</p>

<ul>
  <li><code class="highlighter-rouge">/rbac/*</code></li>
  <li><code class="highlighter-rouge">/rbac/*/*</code></li>
  <li><code class="highlighter-rouge">/rbac/*/*/*</code></li>
  <li><code class="highlighter-rouge">/rbac/*/*/*/*</code></li>
  <li><code class="highlighter-rouge">/rbac/*/*/*/*/*</code></li>
</ul>

<p>Team A just got 3 new members: foogineer, bargineer, and bazgineer. Admin A
will welcome them to the team by creating RBAC users for them and giving them
access to Kong!</p>

<p>Create foogineer:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users name=foogineer Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "created_at": 1531019797000,
  "id": "0b4111da-2827-4767-8651-a327f7a559e9",
  "name": "foogineer",
  "enabled": true,
  "user_token": "dNeYvYAwvjOJdoReVJZXF8vLBXQioKkI"
}
</code></pre></div></div>

<p>Add foogineer to the <code class="highlighter-rouge">users</code> role:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/foogineer/roles roles=users Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "roles": [
    {
      "comment": "Default user role generated for foogineer",
      "created_at": 1531019797000,
      "id": "125c4212-b882-432d-a323-9cbe38b1d0df",
      "name": "foogineer"
    },
    {
      "created_at": 1531020346000,
      "id": "9846b92c-6820-4741-ac31-425b3d6abc5b",
      "name": "users"
    }
  ],
  "user": {
    "created_at": 1531019797000,
    "id": "0b4111da-2827-4767-8651-a327f7a559e9",
    "name": "foogineer",
    "enabled": true,
    "user_token": "dNeYvYAwvjOJdoReVJZXF8vLBXQioKkI"
  }
}
</code></pre></div></div>

<p>Create bargineer:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users name=bargineer Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "created_at": 1531019837000,
  "id": "25dfa68e-32e8-48d8-815f-6fedfd2fb4a6",
  "name": "bargineer",
  "enabled": true,
  "user_token": "eZj3WUc46wO3zEJbLP3Y4VGvNaUgGlyv"
}
</code></pre></div></div>

<p>Add bargineer to the <code class="highlighter-rouge">users</code> role:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/bargineer/roles roles=users Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "roles": [
    {
      "comment": "Default user role generated for bargineer",
      "created_at": 1531019837000,
      "id": "3edb00c2-9ae1-423d-ac81-bec702c29e37",
      "name": "bargineer"
    },
    {
      "created_at": 1531020346000,
      "id": "9846b92c-6820-4741-ac31-425b3d6abc5b",
      "name": "users"
    }
  ],
  "user": {
    "created_at": 1531019837000,
    "id": "25dfa68e-32e8-48d8-815f-6fedfd2fb4a6",
    "name": "bargineer",
    "enabled": true,
    "user_token": "eZj3WUc46wO3zEJbLP3Y4VGvNaUgGlyv"
  }
}
</code></pre></div></div>

<p>Create bazgineer:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users name=bazgineer Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "created_at": 1531019937000,
  "id": "ea7207d7-0d69-427b-b288-ce696b7f4690",
  "name": "bazgineer",
  "enabled": true,
  "user_token": "r8NhaT213Zm8o1woQF4ZyQyCVjFRgGp3"
}
</code></pre></div></div>

<p>Add bazgineer to the <code class="highlighter-rouge">users</code> role:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/bazgineer/roles roles=users Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "roles": [
    {
      "comment": "Default user role generated for bazgineer",
      "created_at": 1531019937000,
      "id": "fa409bb6-c86c-45d2-8a6b-ac8e71de2cc9",
      "name": "bazgineer"
    },
    {
      "created_at": 1531020346000,
      "name": "users",
      "id": "9846b92c-6820-4741-ac31-425b3d6abc5b"
    }
  ],
  "user": {
    "created_at": 1531019937000,
    "id": "ea7207d7-0d69-427b-b288-ce696b7f4690",
    "name": "bazgineer",
    "enabled": true,
    "user_token": "r8NhaT213Zm8o1woQF4ZyQyCVjFRgGp3"
  }
}
</code></pre></div></div>

<h2 id="regular-team-users-use-their-tokens">Regular Team Users use their tokens!</h2>

<p>foogineer, bargineer, and bazgineer all have gotten their RBAC user tokens
from their Team A admin, and are now allowed to explore Kongâ€”within the
confines of their Team A workspace. Letâ€™s validate they can in fact do anything
they wish, except over RBAC and Workspaces.</p>

<p>Try listing Workspaces:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/workspaces/ Kong-Admin-Token:dNeYvYAwvjOJdoReVJZXF8vLBXQioKkI
{
  "message": "foogineer, you do not have permissions to read this resource"
}
</code></pre></div></div>

<p>Enable some pluginâ€”e.g., key-auth:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/plugins name=key-auth Kong-Admin-Token:dNeYvYAwvjOJdoReVJZXF8vLBXQioKkI
{
  "created_at": 1531021732000,
  "config": {
    "key_in_body": false,
    "run_on_preflight": true,
    "anonymous": "",
    "hide_credentials": false,
    "key_names": [
      "apikey"
    ]
  },
  "id": "cdc85ef0-804b-4f92-aafd-3ff58512e445",
  "enabled": true,
  "name": "key-auth"
}
</code></pre></div></div>

<p>List currently enabled plugins:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/plugins Kong-Admin-Token:dNeYvYAwvjOJdoReVJZXF8vLBXQioKkI
{
  "total": 1,
  "data": [
    {
      "created_at": 1531021732000,
      "config": {
        "key_in_body": false,
        "run_on_preflight": true,
        "anonymous": "",
        "hide_credentials": false,
        "key_names": [
          "apikey"
        ]
      },
      "id": "cdc85ef0-804b-4f92-aafd-3ff58512e445",
      "name": "key-auth",
      "enabled": true
    }
  ]
}
</code></pre></div></div>

<p>This ends our use case tutorial; it demonstrates the power of RBAC and
workspaces with a real-world scenario. Following, we will approach <strong>Entity-Level
RBAC</strong>, an extension of our powerful access control to entity-level granularity.</p>

<h1 id="entity-level-rbac-a-primer">Entity-Level RBAC: a Primer</h1>

<p>Kong Enterpriseâ€™s new RBAC implementation goes one step further in permissions
granularity: in addition to â€œendpointâ€ permissions, it supports entity-level
permissions, meaning that particular entities, identified by their unique ID,
can be allowed or disallowed access in a role.</p>

<p>Refreshing our minds, RBAC is <a href="/enterprise/0.34-x/rbac/overview#enforcing-rbac">enforced</a> with the <code class="highlighter-rouge">enforce_rbac</code>
configuration directiveâ€”or with its <code class="highlighter-rouge">KONG_ENFORCE_RBAC</code> environment variable
counterpart. Such directive is an enum, with 4 possible values:</p>

<ul>
  <li><code class="highlighter-rouge">on</code>: similarly to the previous RBAC implementation, applies Endpoint-level
access control</li>
  <li><code class="highlighter-rouge">entity</code>: applies <strong>only</strong> Entity-level access control</li>
  <li><code class="highlighter-rouge">both</code>: applies <strong>both Endpoint and Entity level access control</strong></li>
  <li><code class="highlighter-rouge">off</code>: disables RBAC enforcement</li>
</ul>

<p>If one sets it to either <code class="highlighter-rouge">entity</code> or <code class="highlighter-rouge">both</code>, Kong will enforce entity-level
access control. However, as with endpoint-level access control, permissions
must be bootstrapped before enforcement is enabled.</p>

<h2 id="creating-entity-level-permissions">Creating Entity-Level Permissions</h2>

<p>Team A just got one new, temporary, team member: qux. Admin A, the admin of
Team A, has already created his qux RBAC user; he needs, however, to limit
access that qux has over entities in Team A workspace, giving him read access
to only a couple of entitiesâ€”say, a Service and a Route. For that, he will
use Entity-Level RBAC.</p>

<p><strong>Admin A creates a role for the temporary user qux</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles name=qux-role Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "name": "qux-role",
  "created_at": 1531065975000,
  "id": "ffe93269-7993-4308-965e-0286d0bc87b9"
}
</code></pre></div></div>

<p>We will assume the following entities exist:</p>

<p>A service:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/services Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "next": null,
  "data": [
    {
      "host": "httpbin.org",
      "created_at": 1531066074,
      "connect_timeout": 60000,
      "id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43",
      "protocol": "http",
      "name": "service1",
      "read_timeout": 60000,
      "port": 80,
      "path": null,
      "updated_at": 1531066074,
      "retries": 5,
      "write_timeout": 60000
    }
  ]
}
</code></pre></div></div>

<p>and a Route to that Service:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/routes Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "next": null,
  "data": [
    {
      "created_at": 1531066253,
      "id": "d25afc46-dc59-48b2-b04f-d3ebe19f6d4b",
      "hosts": null,
      "updated_at": 1531066253,
      "preserve_host": false,
      "regex_priority": 0,
      "service": {
        "id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43"
      },
      "paths": [
        "/anything"
      ],
      "methods": null,
      "strip_path": false,
      "protocols": [
        "http",
        "https"
      ]
    }
  ]
}
</code></pre></div></div>

<p><strong>Admin A creates entity permissions in qux-role</strong>:</p>

<p>Add service1â€”whose ID is 3ed24101-19a7-4a0b-a10f-2f47bcd4ff43:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/qux-role/entities entity_id=3ed24101-19a7-4a0b-a10f-2f47bcd4ff43 actions=read Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "created_at": 1531066684000,
  "role_id": "ffe93269-7993-4308-965e-0286d0bc87b9",
  "entity_id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43",
  "negative": false,
  "entity_type": "services",
  "actions": [
    "read"
  ]
}
</code></pre></div></div>

<p>Add the routeâ€”whose ID is d25afc46-dc59-48b2-b04f-d3ebe19f6d4b:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/roles/qux-role/entities entity_id=d25afc46-dc59-48b2-b04f-d3ebe19f6d4b actions=read Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "created_at": 1531066728000,
  "role_id": "ffe93269-7993-4308-965e-0286d0bc87b9",
  "entity_id": "d25afc46-dc59-48b2-b04f-d3ebe19f6d4b",
  "negative": false,
  "entity_type": "routes",
  "actions": [
    "read"
  ]
}
</code></pre></div></div>

<p><strong>Admin A adds qux to his role</strong>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/qux/roles roles=qux-role Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "roles": [
    {
      "comment": "Default user role generated for qux",
      "created_at": 1531065373000,
      "name": "qux",
      "id": "31614171-4174-42b4-9fae-43c9ce14830f"
    },
    {
      "created_at": 1531065975000,
      "name": "qux-role",
      "id": "ffe93269-7993-4308-965e-0286d0bc87b9"
    }
  ],
  "user": {
    "created_at": 1531065373000,
    "id": "4d87bf78-5824-4756-b0d0-ceaa9bd9b2d5",
    "name": "qux",
    "enabled": true,
    "user_token": "sUnv6uBehM91amYRNWESsgX3HzqoBnR5"
  }
}
</code></pre></div></div>

<p>Checking permissions appear listed:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/qux/permissions Kong-Admin-Token:n5bhjgv0speXp4N7rSUzUj8PGnl3F5eG
{
  "entities": {
    "d25afc46-dc59-48b2-b04f-d3ebe19f6d4b": {
      "actions": [
        "read"
      ],
      "negative": false
    },
    "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43": {
      "actions": [
        "read"
      ],
      "negative": false
    }
  },
  "endpoints": {}
}
</code></pre></div></div>

<p>That is, 2 entities permissions and no endpoint permissions.</p>

<p>Admin A is done setting up qux, and qux can now use his user token to read
his two entities over Kongâ€™s admin API.</p>

<p>We will assume that Admin A <a href="/enterprise/0.34-x/rbac/overview#enforcing-rbac">enabled entity-level enforcement</a>.
Note that as qux has <strong>no endpoint-level permissions</strong>, if both endpoint and
entity-level enforcement is enabled, he will not be able to read his entities -
endpoint-level validation comes before entity-level.</p>

<p><strong>qux tries listing all RBAC users</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/users/ Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "message": "qux, you do not have permissions to read this resource"
}
</code></pre></div></div>

<p><strong>qux tries listing all Workspaces</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/rbac/workspaces/ Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "message": "qux, you do not have permissions to read this resource"
}
</code></pre></div></div>

<p><strong>qux tries to access service1</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/services/service1 Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "host": "httpbin.org",
  "created_at": 1531066074,
  "connect_timeout": 60000,
  "id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43",
  "protocol": "http",
  "name": "service1",
  "read_timeout": 60000,
  "port": 80,
  "path": null,
  "updated_at": 1531066074,
  "retries": 5,
  "write_timeout": 60000
}
</code></pre></div></div>

<p>Similarly, he can access his Route:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/routes/3ed24101-19a7-4a0b-a10f-2f47bcd4ff43 Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "created_at": 1531066253,
  "strip_path": false,
  "hosts": null,
  "preserve_host": false,
  "regex_priority": 0,
  "updated_at": 1531066253,
  "paths": [
    "/anything"
  ],
  "service": {
    "id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43"
  },
  "methods": null,
  "protocols": [
    "http",
    "https"
  ],
  "id": "d25afc46-dc59-48b2-b04f-d3ebe19f6d4b"
}
</code></pre></div></div>

<h2 id="closing-remarks">Closing Remarks</h2>

<p>We will end this chapter with a few closing remarks.</p>

<h2 id="wildcards-in-permissions">Wildcards in Permissions</h2>

<p>RBAC supports the use of wildcardsâ€”represented by the <code class="highlighter-rouge">*</code> characterâ€”in many
aspects of permissions:</p>

<p><strong>Creating endpoint permissionsâ€”<code class="highlighter-rouge">/rbac/roles/:role/endpoints</code></strong></p>

<p>To create an endpoint permission, one must pass the parameters below, all of
which can be replaced by a * character:</p>

<ul>
  <li><code class="highlighter-rouge">endpoint</code>: <code class="highlighter-rouge">*</code> matches <strong>any endpoint</strong></li>
  <li><code class="highlighter-rouge">workspace</code>: <code class="highlighter-rouge">*</code> matches <strong>any workspace</strong></li>
  <li><code class="highlighter-rouge">actions</code>: <code class="highlighter-rouge">*</code> evaluates to <strong>all actionsâ€”read, update, create, delete</strong></li>
</ul>

<p><strong>Special case</strong>: <code class="highlighter-rouge">endpoint</code>, in addition to a single <code class="highlighter-rouge">*</code>, also accepts <code class="highlighter-rouge">*</code>
within the endpoint itself, replacing a URL segment between <code class="highlighter-rouge">/</code>; for example,
all of the following are valid endpoints:</p>

<ul>
  <li><code class="highlighter-rouge">/rbac/*</code>: where <code class="highlighter-rouge">*</code> replaces any possible segmentâ€”e.g., <code class="highlighter-rouge">/rbac/users</code>,
<code class="highlighter-rouge">/rbac/roles</code>, etc</li>
  <li><code class="highlighter-rouge">/services/*/plugins</code>: <code class="highlighter-rouge">*</code> matches any Service name or ID</li>
</ul>

<p>Note, however, that <code class="highlighter-rouge">*</code> <strong>is not</strong> a generic, shell-like, glob pattern.</p>

<p>If <code class="highlighter-rouge">workspace</code> is ommitted, it defaults to the current requestâ€™s workspace. For
example, a role-endpoint permission created with <code class="highlighter-rouge">/teamA/roles/admin/endpoints</code>
is scoped to workspace <code class="highlighter-rouge">teamA</code>.</p>

<p><strong>Creating entity permissionsâ€”<code class="highlighter-rouge">/rbac/roles/:role/entities</code></strong></p>

<p>Similarly, for entity permissions, the following parameters accept a <code class="highlighter-rouge">*</code>
character:</p>

<ul>
  <li><code class="highlighter-rouge">entity_id</code>: <code class="highlighter-rouge">*</code> matches <strong>any entity ID</strong></li>
</ul>

<h2 id="entities-concealing-in-entity-level-rbac">Entities Concealing in Entity-Level RBAC</h2>

<p>With Entity-Level RBAC enabled, endpoints that list all entities of a
particular collection will only list entities that the user has access to;
in the example above, if user qux listed all Routes, he would only get as
response the entities he has access toâ€”even though there could be more:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/routes Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "next": null,
  "data": [
    {
      "created_at": 1531066253,
      "id": "d25afc46-dc59-48b2-b04f-d3ebe19f6d4b",
      "hosts": null,
      "updated_at": 1531066253,
      "preserve_host": false,
      "regex_priority": 0,
      "service": {
        "id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43"
      },
      "paths": [
        "/anything"
      ],
      "methods": null,
      "strip_path": false,
      "protocols": [
        "http",
        "https"
      ]
    }
  ]
}
</code></pre></div></div>

<p>Some Kong endpoints carry a <code class="highlighter-rouge">total</code> field in responses; with Entity-Level RBAC
enabled, the global count of entities is displayed, but only entities the user
has access to are themselves shown; for example, if Team A has a number of
plugins configured, but qux only has access to one of them, the following
would be the expected output for a GET request to <code class="highlighter-rouge">/teamA/plugins</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/plugins Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "total": 2,
  "data": [
    {
      "created_at": 1531070344000,
      "config": {
        "key_in_body": false,
        "run_on_preflight": true,
        "anonymous": "",
        "hide_credentials": false,
        "key_names": [
          "apikey"
        ]
      },
      "id": "8813dd0b-3e9d-4bcf-8a10-3112654f86e7",
      "name": "key-auth",
      "enabled": true
    }
  ]
}
</code></pre></div></div>

<p>Notice the <code class="highlighter-rouge">total</code> field is 2, but qux only got one entity in the response.</p>

<h2 id="creating-entities-in-entity-level-rbac">Creating Entities in Entity-Level RBAC</h2>

<p>As entity-level RBAC provides access control to individual existing entities,
it does not apply to creation of new entities; for that, endpoint-level
permissions must be configured and enforced. For example, if endpoint-level
permissions are not enforced, qux will be able to create new entities:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>http :8001/teamA/routes paths[]=/anything service.id=3ed24101-19a7-4a0b-a10f-2f47bcd4ff43 strip_path=false Kong-Admin-Token:sUnv6uBehM91amYRNWESsgX3HzqoBnR5
{
  "created_at": 1531070828,
  "strip_path": false,
  "hosts": null,
  "preserve_host": false,
  "regex_priority": 0,
  "updated_at": 1531070828,
  "paths": [
    "/anything"
  ],
  "service": {
    "id": "3ed24101-19a7-4a0b-a10f-2f47bcd4ff43"
  },
  "methods": null,
  "protocols": [
    "http",
    "https"
  ],
  "id": "6ee76f74-3c96-46a9-ae48-72df0717d244"
}
</code></pre></div></div>

<p>and qux will automatically have permissions to perform any actions to entities
he created.</p>

<hr />



          
        </div>
      </div>
    </div>
  </div>
  <div id="scroll-to-top-button">
    <i class="fas fa-chevron-up"></i>
  </div>
  
  <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <i class="fas fa-thumbs-up"></i>
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

  
</div>
<style>
  @media (max-width: 768px) {
    .algolia-docsearch-suggestion--subcategory-column{
      display: none !important;
    }
  }
</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>




<script type="text/javascript">
  docsearch({
    appId: 'T5JKD83LWT',
    apiKey: '1390283021f26e36117242934deb8d9d',
    indexName: 'prod_EE',
    inputSelector: '#getkong-algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 5,
      'facetFilters': ["version: 0.34-x"]
    },
    // Override selected event to allow for local environment navigation
    handleSelected: function (input, event, suggestion) {
      input.setVal('');
      window.location.href = window.location.protocol + "//" + window.location.host + suggestion.url.split(
        "docs.konghq.com")[1]
    }
    // ,debug: true // Set debug to true if you want to inspect the dropdown
  });

</script>


<div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="image">
    <i class="fa fa-times"></i>
  </div>
</div>



    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
          <iframe
            src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c"
            width="100%"
            height="60"
            type="text/html"
            frameborder="0"
            allowTransparency="true"
            scrolling="no"
            style="overflow: hidden; border: 0;"
          ></iframe>
        </div>
        <div class="social">
          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
                aria-label="Meetup"
                class="fa fa-meetup"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i
                aria-label="GitHub"
                class="fa fa-linkedin"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a
              href="https://github.com/kong/kong"
              target="blank"
              class="btn-gh"
            >
              <i
                class="fa fa-github"
                aria-hidden="true"
                aria-label="GitHub"
              ></i>
              Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/kong/?itm_source=website&itm_medium=footer-nav"
                >Kong Gateway</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/kong-enterprise/?itm_source=website&itm_medium=footer-nav"
                >Kong Enterprise</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/get-started/?itm_source=website&itm_medium=footer-nav"
                >Get Started</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/subscriptions/?itm_source=website&itm_medium=footer-nav"
                >Subscriptions</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a
                href="https://konghq.com/resources/?content=ebooks&itm_source=website&itm_medium=footer-nav"
                target="blank"
                >eBooks</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/resources/?content=webinarss&itm_source=website&itm_medium=footer-nav"
                >Webinars</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/resources/?content=whitepaper,datasheet,case-studies&itm_source=website&itm_medium=footer-nav"
                >Briefs</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/blog/?content=webinars&itm_source=website&itm_medium=footer-nav"
                >Blog</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/learning-center/api-gateway/?itm_source=website&itm_medium=footer-nav"
                >API Gateway</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/learning-center/microservices/?itm_source=website&itm_medium=footer-nav"
                >Microservices</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/about-kong-inc/?itm_source=website&itm_medium=footer-nav"
                >About</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/customers/?itm_source=website&itm_medium=footer-nav"
                >Customers</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/investors/?itm_source=website&itm_medium=footer-nav"
                >Investors</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/careers/?itm_source=website&itm_medium=footer-nav"
                >Careers <span>Hiring!</span></a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/partners/?itm_source=website&itm_medium=footer-nav"
                >Partners</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/press-room/?itm_source=website&itm_medium=footer-nav"
                >Press</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/contact/?itm_source=website&itm_medium=footer-nav"
                >Contact</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/kong-summit/?itm_source=website&itm_medium=footer-nav"
                >Kong Summit</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/install/?itm_source=website&itm_medium=footer-nav"
                >Install Kong Gateway</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/community/?itm_source=website&itm_medium=footer-nav"
                >Kong Community</a
              >
            </li>
            <li>
              <a
                href="https://github.com/Kong/kubernetes-ingress-controller/?itm_source=website&itm_medium=footer-nav"
                >Kubernetes Ingress</a
              >
            </li>
            <li>
              <a
                href="https://kuma.io/?itm_source=website&itm_medium=footer-nav"
                >Kuma</a
              >
            </li>
            <li>
              <a
                href="https://insomnia.rest/?itm_source=website&itm_medium=footer-nav"
                >Insomnia</a
              >
            </li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content"
          >&copy; Kong Inc. 2020 &nbsp;
          <a href="http://konghq.com/terms/">Terms</a><b>â€¢</b
          ><a href="http://konghq.com/privacy/">Privacy</a></span
        >
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById("subscription_form").submit();
      document.getElementById("follow_up_subscription_form").submit();
      if (response.length == 0) {
        alert("reCaptcha verification failed");
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1591209063"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $('#oss_subnav.expand').toggleClass('slideup');
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $('nav.navbar.full-width').toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
        setTimeout(function() {
          $('#menu-primary-nav li').removeClass('active');
          $('.active-tab').removeClass('active-tab');
        }, 100);
      });

      var $window = $(window);

      function checkWidth() {
        var windowsize = $window.width();
        if (windowsize > 1080) {
          $('.navbar').removeClass('mobile-triggers');
          $('#menu-primary-nav li').removeClass('active');
          $('.active-tab').removeClass('active-tab');
        } else {
          $('.navbar').addClass('mobile-triggers');
        }
      }
      // Execute on load
      checkWidth();
      // Bind event listener
      $(window).resize(checkWidth);

      $('#menu-primary-nav .nav1 > a').click(function() {
        if ($('nav.navbar').hasClass('mobile-triggers')) {
          event.preventDefault();
          $('.nav3').removeClass('active');
          var position = $(this)
            .parent()
            .position();
          $(this)
            .parent()
            .toggleClass('active');
          $('body')
            .get(0)
            .style.setProperty(
              '--navPosition',
              (position.top - 75) * -1 + 'px'
            );
          $(this)
            .parent()
            .parent()
            .toggleClass('active-tab');
        }
      });

      $('#menu-primary-nav .nav3 > a').click(function() {
        if ($('nav.navbar').hasClass('mobile-triggers')) {
          event.preventDefault();
          $(this)
            .parent()
            .toggleClass('active');
        }
      });
    </script>
  </body>

  
</html>
