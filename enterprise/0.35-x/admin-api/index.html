<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>Admin API - v0.35-x | Kong - Open-Source API Management and Microservice Management</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta name="author" content="KongHQ" />
  <meta property="og:title" content="Open-Source API Management and Microservice Management" />
  <meta property="og:site_name" content="Kong" />
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com" />
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <meta
    property="og:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@thekonginc" />
  <meta name="twitter:creator" content="@thekonginc" />
  <meta name="twitter:url" content="https://docs.konghq.com" />
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more." />
  <meta
    name="twitter:image"
    content="https://docs.konghq.com/assets/images/share.png"
  />
  <meta property="fb:admins" content="227304446" />
  <meta property="fb:admins" content="576641408" />
  <meta
    name="google-site-verification"
    content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"
  />
  <link
    rel="stylesheet"
    href="https://use.fontawesome.com/releases/v5.4.1/css/all.css"
    integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous"
  />

  <!-- New Relic -->
  <script type="text/javascript">
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(20),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,c){try{h?h-=1:o(c||new UncaughtException(t,e,n),!0)}catch(f){try{i("ierr",[f,s.now(),!0])}catch(d){}}return"function"==typeof u&&u.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t,e){var n=e?null:s.now();i("err",[t,n])}var i=t("handle"),a=t(21),c=t("ee"),s=t("loader"),f=t("gos"),u=window.onerror,d=!1,p="nr@seenError",h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(13),t(12),"addEventListener"in window&&t(6),s.xhrWrappable&&t(14),d=!0)}c.on("fn-start",function(t,e,n){d&&(h+=1)}),c.on("fn-err",function(t,e,n){d&&!n[p]&&(f(n,p,function(){return!0}),this.thrown=!0,o(n))}),c.on("fn-end",function(){d&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,s.now(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){M++,S=y.hash,this[u]=b.now()}function o(){M--,y.hash!==S&&i(0,!0);var t=b.now();this[l]=~~this[l]+t-this[u],this[d]=t}function i(t,e){E.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=b.now()})}var c="-start",s="-end",f="-body",u="fn"+c,d="fn"+s,p="cb"+c,h="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location,b=t("loader");if(w[v]&&b.xhrWrappable){var g=t(10),x=t(11),E=t(8),P=t(6),O=t(13),R=t(7),T=t(14),L=t(9),j=t("ee"),N=j.get("tracer");t(15),b.features.spa=!0;var S,M=0;j.on(u,r),j.on(p,r),j.on(d,o),j.on(h,o),j.buffer([u,d,"xhr-done","xhr-resolved"]),P.buffer([u]),O.buffer(["setTimeout"+s,"clearTimeout"+c,u]),T.buffer([u,"new-xhr","send-xhr"+c]),R.buffer([m+c,m+"-done",m+f+c,m+f+s]),E.buffer(["newURL"]),g.buffer([u]),x.buffer(["propagate",p,h,"executor-err","resolve"+c]),N.buffer([u,"no-"+u]),L.buffer(["new-jsonp","cb-start","jsonp-error","jsonp-end"]),a(T,"send-xhr"+c),a(j,"xhr-resolved"),a(j,"xhr-done"),a(R,m+c),a(R,m+"-done"),a(L,"new-jsonp"),a(L,"jsonp-end"),a(L,"cb-start"),E.on("pushState-end",i),E.on("replaceState-end",i),w[v]("hashchange",i,!0),w[v]("load",i,!0),w[v]("popstate",function(){i(0,M>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(13),c=t(12),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",p="resource",h="-start",l="-end",m="fn"+h,v="fn"+l,w="bstTimer",y="pushState",b=t("loader");b.features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=b.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,b.now()])}),a.on(m,function(t,e,n){this.bstStart=b.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),this.bstType])}),c.on(m,function(){this.bstStart=b.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,b.now(),"requestAnimationFrame"])}),o.on(y+h,function(t){this.time=b.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(23)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(20);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,d=a.Response,p=a.fetch,h="prototype";u&&d&&p&&(i(f,function(t,e){r(u[h],e,s),r(d[h],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(23)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){function r(t){function e(){s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}function n(){s.emit("jsonp-error",[],p),s.emit("jsonp-end",[],p),t.removeEventListener("load",e,!1),t.removeEventListener("error",n,!1)}var r=t&&"string"==typeof t.nodeName&&"script"===t.nodeName.toLowerCase();if(r){var o="function"==typeof t.addEventListener;if(o){var a=i(t.src);if(a){var u=c(a),d="function"==typeof u.parent[u.key];if(d){var p={};f.inPlace(u.parent,[u.key],"cb-",p),t.addEventListener("load",e,!1),t.addEventListener("error",n,!1),s.emit("new-jsonp",[t.src],p)}}}}}function o(){return"addEventListener"in window}function i(t){var e=t.match(u);return e?e[1]:null}function a(t,e){var n=t.match(p),r=n[1],o=n[3];return o?a(o,e[r]):e[r]}function c(t){var e=t.match(d);return e&&e.length>=3?{key:e[2],parent:a(e[1],window)}:{key:t,parent:window}}var s=t("ee").get("jsonp"),f=t(23)(s);if(e.exports=s,o()){var u=/[?&](?:callback|cb)=([^&#]+)/,d=/(.*)\.([^.]+)/,p=/^(\w+)(\.|$)(.*)$/,h=["appendChild","insertBefore","replaceChild"];f.inPlace(HTMLElement.prototype,h,"dom-"),f.inPlace(HTMLHeadElement.prototype,h,"dom-"),f.inPlace(HTMLBodyElement.prototype,h,"dom-"),s.on("dom-start",function(t){r(t[0])})}},{}],10:[function(t,e,n){var r=t("ee").get("mutation"),o=t(23)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],11:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(23),a=t("ee").get("promise"),c=i(a),s=t(20),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],12:[function(t,e,n){var r=t("ee").get("raf"),o=t(23)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],13:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration=isNaN(t[1])?0:+t[1],t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(23)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],14:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,y,"fn-",c)}function i(t){b.push(t),l&&(x?x.then(a):v?v(a):(E=-E,P.data=E))}function a(){for(var t=0;t<b.length;t++)r([],b[t]);b.length&&(b=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),d=t(23)(u),p=NREUM.o,h=p.XHR,l=p.MO,m=p.PR,v=p.SI,w="readystatechange",y=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],b=[];e.exports=u;var g=window.XMLHttpRequest=function(t){var e=new h(t);try{u.emit("new-xhr",[e],e),e.addEventListener(w,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(h,g),g.prototype=h.prototype,d.inPlace(g.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var x=m&&m.resolve();if(!v&&!m){var E=1,P=document.createTextNode(E);new l(a).observe(P,{characterData:!0})}}else f.on("fn-end",function(t){t[0]&&t[0].type===w||a()})},{}],15:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=a.now()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var s=t.getResponseHeader("X-NewRelic-App-Data");s&&(e.cat=s.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(16),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,p=t("id"),h=t(19),l=t(18),m=window.XMLHttpRequest;a.features.xhr=!0,t(14),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,h&&(h>34||h<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=a.now(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var c=0;c<d;c++)e.addEventListener(u[c],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=a.now()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[a.now()-this.xhrCbStart,this.onload,e],e)})}},{}],16:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],17:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[f.now()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(20),c=t(21),s=t("ee").get("tracer"),f=t("loader"),u=NREUM;"undefined"==typeof window.newrelic&&(newrelic=u);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",h=p+"ixn-";a(d,function(t,e){u[e]=o(p+e,!0,"api")}),u.addPageAction=o(p+"addPageAction",!0),u.setCurrentRouteName=o(p+"routeName",!0),e.exports=newrelic,u.interaction=function(){return(new r).get()};var l=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(h+"tracer",[f.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[f.now(),r,o],n),o)try{return e.apply(this,arguments)}catch(t){throw s.emit("fn-err",[arguments,this,t],n),t}finally{s.emit("fn-end",[f.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){l[e]=o(h+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,f.now()])}},{}],18:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],19:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],20:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],21:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],22:[function(t,e,n){e.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],23:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(21),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){p([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o,e)}catch(a){p([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){p([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function p(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o,i){if(!p.aborted||i){t&&t(n,r,o);for(var a=e(o),c=l(n),s=c.length,f=0;f<s;f++)c[f].apply(a,r);var d=u[y[n]];return d&&d.push([b,n,r,a]),a}}function h(t,e){w[t]=l(t).concat(e)}function l(t){return w[t]||[]}function m(t){return d[t]=d[t]||o(n)}function v(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var w={},y={},b={on:h,emit:n,get:m,listeners:l,context:e,buffer:v,abort:a,aborted:!1};return b}function i(){return new r}function a(){(u.api||u.feature)&&(p.aborted=!0,u=p.backlog={})}var c="nr@context",s=t("gos"),f=t(20),u={},d={},p=e.exports=o();p.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!x++){var t=g.info=NREUM.info,e=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return u.abort();f(y,function(e,n){t[e]||(t[e]=n)}),s("mark",["onload",a()+g.offset],null,"api");var n=p.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===p.readyState&&i()}function i(){s("mark",["domContent",a()+g.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(c=Math.max((new Date).getTime(),c))-g.offset}var c=(new Date).getTime(),s=t("handle"),f=t(20),u=t("ee"),d=window,p=d.document,h="addEventListener",l="attachEvent",m=d.XMLHttpRequest,v=m&&m.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:m,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-1071.min.js"},b=m&&v&&v[h]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:c,now:a,origin:w,features:{},xhrWrappable:b};t(17),p[h]?(p[h]("DOMContentLoaded",i,!1),d[h]("load",r,!1)):(p[l]("onreadystatechange",o),d[l]("onload",r)),s("mark",["firstbyte",c],null,"api");var x=0,E=t(22)},{}]},{},["loader",2,15,5,3,4]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"187820761",sa:1}
</script>


  <!-- FullStory -->
  <!-- <script>
/* eslint-disable */
window['_fs_debug'] = false;
window['_fs_host'] = 'fullstory.com';
window['_fs_org'] = '7JS2S';
window['_fs_namespace'] = 'FS';
(function(m,n,e,t,l,o,g,y){
    if (e in m) {if(m.console && m.console.log) { m.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].');} return;}
    g=m[e]=function(a,b){g.q?g.q.push([a,b]):g._api(a,b);};g.q=[];
    o=n.createElement(t);o.async=1;o.src='https://'+_fs_host+'/s/fs.js';
    y=n.getElementsByTagName(t)[0];y.parentNode.insertBefore(o,y);
    g.identify=function(i,v){g(l,{uid:i});if(v)g(l,v)};g.setUserVars=function(v){g(l,v)};g.event=function(i,v){g('event',{n:i,p:v})};
    g.shutdown=function(){g("rec",!1)};g.restart=function(){g("rec",!0)};
    g.consent=function(a){g("consent",!arguments.length||a)};
    g.identifyAccount=function(i,v){o='account';v=v||{};v.acctId=i;g(o,v)};
    g.clearUserCookie=function(){};
})(window,document,window['_fs_namespace'],'script','user');
</script>
 -->

  <!-- Delighted -->
  <script type="text/javascript">
/* eslint-disable */
  !function(e,t,r,n,a){if(!e[a]){for(var i=e[a]=[],s=0;s<r.length;s++){var c=r[s];i[c]=i[c]||function(e){return function(){var t=Array.prototype.slice.call(arguments);i.push([e,t])}}(c)}i.SNIPPET_VERSION="1.0.1";var o=t.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://d2yyd1h5u9mauk.cloudfront.net/integrations/web/v1/library/"+n+"/"+a+".js";var u=t.getElementsByTagName("script")[0];u.parentNode.insertBefore(o,u)}}(window,document,["survey","reset","config","init","set","get","event","identify","track","page","screen","group","alias"],"Mvwmq6n6DhInaFYu","delighted");

  delighted.survey();
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com" />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700"
    rel="stylesheet"
  />
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com" />
  <link rel="dns-prefetch" href="//cdn.segment.com" />

  <!-- Recaptcha -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ##gulp-resource-hints## -->

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"
  />
  <link
    rel="stylesheet"
    href="/assets/styles.css?v=1591209063"
  />

  <script>
    !(function(w) {
      var clearbit = (w.clearbit = w.clearbit || []);
      if (!clearbit.initialize)
        if (clearbit.invoked)
          w.console &&
            console.error &&
            console.error("Clearbit snippet included twice.");
        else {
          clearbit.invoked = !0;
          clearbit.methods = [
            "trackSubmit",
            "trackClick",
            "trackLink",
            "trackForm",
            "pageview",
            "identify",
            "reset",
            "group",
            "track",
            "ready",
            "alias",
            "page",
            "once",
            "off",
            "on"
          ];
          clearbit.factory = function(t) {
            return function() {
              var e = Array.prototype.slice.call(arguments);
              e.unshift(t);
              clearbit.push(e);
              return clearbit;
            };
          };
          for (var t = 0; t < clearbit.methods.length; t++) {
            var e = clearbit.methods[t];
            clearbit[e] = clearbit.factory(e);
          }
          clearbit.load = function(t) {
            var e = document.createElement("script");
            e.async = !0;
            e.src =
              ("https:" === document.location.protocol
                ? "https://"
                : "http://") +
              "x.clearbitjs.com/v1/" +
              t +
              "/clearbit.js";
            var n = document.getElementsByTagName("script")[0];
            n.parentNode.insertBefore(e, n);
          };
          clearbit.SNIPPET_VERSION = "3.1.0";
          clearbit.load("pk_1bdbdbad26342e32516473510e95c3ff");
          clearbit.page();
        }
    })(window);
  </script>

  
</head>

<!-- Kong Cookie Policy -->
<div class="cookie-policy-container">
  <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
  <button class="cookie-policy-accept btn button" type="submit">I Agree</button>
</div>



  <body
    id=""
    
    data-spy="scroll"
    data-target="#scroll-sidebar"
    data-offset="350"
  >
    <header class="navbar navbar-inverse navbar-toggleable-lg kong-navbar flex-row align-items-center fixed-top lower_nav expand">
  <div class="container d-flex">
    <a href="https://konghq.com/" class="navbar-brand col col-xl-auto">
    <img src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/img/gradient-logo.svg" alt="Kong Logo">
    </a>
    <button class="navbar-toggler align-self-center" type="button" data-toggle="kong-expand" data-target="#pagesNav" aria-controls="pagesNav" aria-expanded="false" aria-label="Toggle navigation">
      <div></div>
      <div></div>
      <div></div>
    </button>
    <nav class="navbar full-width">
      <div class="collapse navbar-collapse col justify-content-md-end kong-navbar_nav">
        <ul id="menu-primary-nav" class="menu">
          <li class="btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12447 navbar-item"><a href="https://konghq.com/get-started?itm_source=website&itm_medium=nav" class="nav-link">Get Started</a></li>
          <li class="btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12448 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link">Install</a></li>
          <li class="two-row nav1 menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor menu-item-has-children menu-item-12449 navbar-item">
            <a href="#" class="nav-link">Products</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom current-menu-ancestor current-menu-parent menu-item-has-children menu-item-12450 navbar-item">
                <a href="https://konghq.com/kong?itm_source=website&itm_medium=nav" class="nav-link">Kong Gateway</a>
                <div class="nav-btns"><a class="navbtn" href="https://konghq.com/install?itm_source=website&itm_medium=nav">Install Kong Open Source</a></div>
                <ul class="sub-menu">
                  <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12451 navbar-item"><a href="https://konghq.com/kong?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                  <li class="stacked menu-item menu-item-type-custom menu-item-object-custom current-menu-item menu-item-12452 navbar-item">
                    <a href="https://konghq.com/products/kong-gateway/control-api?itm_source=website&itm_medium=nav" aria-current="page" class="nav-link">
                      <img src="/assets/images/nav/control.svg"> Control API
                      <p class="description">Own your Kong experience to customize your API and microservices workflows.</p>
                    </a>
                  </li>
                  <li id="menu-item-12453" class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12453 navbar-item">
                    <a href="https://konghq.com/products/kong-gateway/kong-proxy?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/proxy.svg"> Kong Proxy
                      <p class="description">Deliver performance needed for microservices, service mesh, and cloud native deployments.</p>
                    </a>
                    <ul class="sub-menu">
                      <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12466 navbar-item"><a href="https://konghq.com/products/kong-gateway/kong-proxy?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12467 navbar-item"><a href="https://konghq.com/products/kong-enterprise/multi-protocol?itm_source=website&itm_medium=nav" class="nav-link">Multi-protocol</a></li>
                    </ul>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12454 navbar-item">
                    <a href="https://konghq.com/products/kong-gateway/kong-plugins?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/plugins.svg"> Kong Plugins
                      <p class="description">Unleash the full power of Kong with a robust ecosystem of plugins.</p>
                    </a>
                  </li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12455 navbar-item">
                <a href="https://konghq.com/products/kong-enterprise?itm_source=website&itm_medium=nav" class="nav-link">Kong Enterprise</a>
                <div class="nav-btns"><a class="navbtn" href="https://konghq.com/get-started?itm_source=website&itm_medium=nav">Get Started</a></div>
                <ul class="sub-menu">
                  <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12456 navbar-item"><a href="https://konghq.com/products/kong-enterprise" class="nav-link">Overview</a></li>
                  <li class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12457 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-manager?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/manager.svg"> Kong Manager
                      <p class="description">Monitor and manage all your services with a consumer-grade interface.</p>
                    </a>
                    <ul class="sub-menu">
                      <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12458 navbar-item"><a href="https://konghq.com/products/kong-enterprise/kong-manager?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                    </ul>
                  </li>
                  <li class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12461 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/teams?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/teams.svg"> Teams
                      <p class="description">Organize developers and assign permissions to improve efficiency and compliance.</p>
                    </a>
                    <ul class="sub-menu">
                      <li class="mobile-nav menu-item menu-item-type-custom menu-item-object-custom menu-item-12462 navbar-item"><a href="https://konghq.com/products/kong-enterprise/teams?itm_source=website&itm_medium=nav" class="nav-link">Overview</a></li>
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12463 navbar-item"><a href="https://konghq.com/products/kong-enterprise/role-based-access-control?itm_source=website&itm_medium=nav" class="nav-link">RBAC</a></li>
                      <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12464 navbar-item"><a href="https://konghq.com/products/kong-enterprise/workspaces?itm_source=website&itm_medium=nav" class="nav-link">Workspaces</a></li>
                    </ul>
                  </li>
                  <li class="nav3 menu-item menu-item-type-custom menu-item-object-custom menu-item-12465 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-studio?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/studio.svg"> Kong Studio
                      <p class="description">Empower your developers with the Kong Studio Integrated Development Environment.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12468 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/dev-portal?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/dev-portal.svg"> Dev Portal
                      <p class="description">Accelerate innovation across your organization with the Kong Developer Portal.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12469 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-brain?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/brain-updated.svg"> Brain
                      <p class="description">Automatically standardize documentation and create a visual map of your services.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12470 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-immunity?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/immunity.svg"> Immunity
                      <p class="description">Autonomously identify service issues with machine learning-powered anomaly detection.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12468 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-kubernetes?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/icn-kubernetes.svg"> Kong for Kubernetes
                      <p class="description">The only fully native Kubernetes Ingress Controller for enhanced API management.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12469 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/enterprise-plugins?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/icn-enterprise-plugins.svg"> Enterprise Plugins
                      <p class="description">Instantly implement policies built for global scale with Kong Enterprise Plugins.</p>
                    </a>
                  </li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12470 navbar-item">
                    <a href="https://konghq.com/products/kong-enterprise/kong-immunity?itm_source=website&itm_medium=nav" class="nav-link">
                      <img src="/assets/images/nav/icn-vitals.svg"> Vitals
                      <p class="description">Monitor your Kong Enterprise health and microservice API transactions traversing Kong.</p>
                    </a>
                  </li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="menu-item-12471" class="multicol wide nav1 toplabel menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12471 navbar-item"><a href="#" class="nav-link solutions">Solutions</a>
            <ul class="sub-menu">
              <li id="menu-item-12472" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12472 navbar-item"><a href="#" class="nav-link use-cases">Use Cases</a>
              <ul class="sub-menu">
                <li id="menu-item-12473" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12473 navbar-item"><a href="https://konghq.com/solutions/use-cases/decentralize-applications-and-services?itm_source=website&amp;itm_medium=nav" class="nav-link decentralize-apps-and-services<p-class=&quot;description&quot;>accelerate-your-journey-into-microservices</p>">Decentralize Apps and Services<p class="description">Accelerate your journey into microservices</p></a></li>
                <li id="menu-item-14131" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-14131 navbar-item"><a href="https://konghq.com/solutions/use-cases/secure-and-govern-apis-and-services/?itm_source=website&amp;itm_medium=nav" class="nav-link secure-and-govern-apis<p-class=&quot;description&quot;>empower-teams-to-provide-security,-governance-and-compliance</p>">Secure and Govern APIs<p class="description">Empower teams to provide security, governance and compliance</p></a></li>
                <li id="menu-item-17469" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17469 navbar-item"><a href="https://konghq.com/solutions/use-cases/create-a-developer-platform/?itm_source=website&amp;itm_medium=nav" class="nav-link create-a-developer-platform<p-class=&quot;description&quot;>rapidly-design,-publish-and-consume-apis-and-services</p>">Create a Developer Platform<p class="description">Rapidly design, publish and consume APIs and services</p></a></li>
              </ul>
            </li>
              <li id="menu-item-17470" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-17470 navbar-item"><a href="#" class="nav-link deployment-patterns">Deployment Patterns</a>
              <ul class="sub-menu">
                <li id="menu-item-17471" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17471 navbar-item"><a href="https://konghq.com/solutions/gateway/?itm_source=website&amp;itm_medium=nav" class="nav-link api-gateway<p-class=&quot;description&quot;>take-control-of-your-microservices-with-the-world's-most-popular-api-gateway</p>">API Gateway<p class="description">Take control of your microservices with the worldâ€™s most popular API gateway</p></a></li>
                <li id="menu-item-17472" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17472 navbar-item"><a href="https://konghq.com/solutions/kubernetes-ingress/?itm_source=website&amp;itm_medium=nav" class="nav-link kubernetes<p-class=&quot;description&quot;>own-your-kubernetes-cluster-by-using-kong-as-an-ingress-controller</p>">Kubernetes<p class="description">Own your Kubernetes cluster by using Kong as an Ingress Controller</p></a></li>
                <li id="menu-item-17473" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-17473 navbar-item"><a target="_blank" rel="noopener noreferrer" href="https://kuma.io/?itm_source=website&amp;itm_medium=nav" class="nav-link service-mesh<p-class=&quot;description&quot;>build,-secure-and-observe-your-modern-service-mesh</p>">Service Mesh<p class="description">Build, secure and observe your modern Service Mesh</p></a></li>
              </ul>
            </li>
            </ul>
            </li>
          <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12471 navbar-item">
              <a href="/hub" class="nav-link">Plugins</a>
          </li>
          <li class="one-col nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12475 navbar-item">
            <a href="#" class="nav-link">Open Source</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12476 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/install.svg"> Install Kong Gateway</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12477 navbar-item"><a href="https://konghq.com/community?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/community.svg"> Kong Community</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12478 navbar-item"><a target="_blank" href="https://github.com/Kong/kubernetes-ingress-controller" class="nav-link"><img src="/assets/images/nav/kubernetes.svg"> Kubernetes Ingress</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12479 navbar-item"><a target="_blank" href="https://kuma.io" class="nav-link"><img src="/assets/images/nav/kuma.svg"> Kuma</a></li>
              <li class="nav2 hidden menu-item menu-item-type-custom menu-item-object-custom menu-item-12480 navbar-item"><a target="_blank" href="https://insomnia.rest/" class="nav-link"><img src="/assets/images/nav/insomnia.svg"> Insomnia</a></li>
            </ul>
          </li>
          <li class="multicol wide nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12481 navbar-item docs">
            <a target="_blank" href="https://docs.konghq.com/?itm_source=website&itm_medium=nav" class="nav-link">Docs</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12482 navbar-item">
                <a class="nav-link">Get Started</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12484 navbar-item"><a href="https://konghq.com/install?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/install-thick.svg"> Install Kong Gateway</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12485 navbar-item"><a target="_blank" href="https://docs.konghq.com/enterprise/1.5.x/deployment/installation/overview/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/getting-started-thick.svg"> Install Kong Enterprise</a></li>
                </ul>
              </li>
              <li id="menu-item-12483" class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12483 navbar-item">
                <a class="nav-link">Learn</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12486 navbar-item"><a target="_blank" href="https://docs.konghq.com/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Gateway</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12487 navbar-item"><a target="_blank" href="https://docs.konghq.com/enterprise/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Enterprise</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12488 navbar-item"><a target="_blank" href="https://docs.konghq.com/studio/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Kong Studio</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12489 navbar-item"><a target="_blank" href="https://docs.konghq.com/hub/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/deploy-plugins-master-launch.svg"> Plugins Hub</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li class="multicol nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12490 navbar-item">
            <a href="#" class="nav-link">Resources</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12491 navbar-item">
                <a class="nav-link">Learning</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12495 navbar-item"><a href="https://konghq.com/resources/?content=ebooks&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/ebooks.svg"> eBooks</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12496 navbar-item"><a href="https://konghq.com/resources/?content=webinars&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/webinars.svg"> Webinars</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12497 navbar-item"><a href="https://konghq.com/resources/?content=whitepaper&itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/briefs.svg"> Briefs</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12494 navbar-item"><a href="https://konghq.com/blog?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/blog.svg"> Blog</a></li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12492 navbar-item">
                <a class="nav-link">Community</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12500 navbar-item"><a href="https://konghq.com/community?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/meetups.svg"> Community</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12498 navbar-item"><a target="_blank" href="https://discuss.konghq.com/?_ga=2.147363831.1919773651.1569859116-132287075.1554308608" class="nav-link"><img src="/assets/images/nav/kong-nation.svg"> Kong Nation</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12501 navbar-item"><a href="https://konghq.com/kong-summit?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/summit.svg"> Kong Summit</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12499 navbar-item"><a target="_blank" href="https://github.com/Kong/" class="nav-link"><img src="/assets/images/nav/github.svg"> GitHub</a></li>
                </ul>
              </li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12493 navbar-item">
                <a class="nav-link">Support</a>
                <ul class="sub-menu">
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12502 navbar-item"><a target="_blank" href="https://support.konghq.com/s/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Enterprise Support Portal</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12503 navbar-item"><a href="https://konghq.com/faqs?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> FAQS</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12502 navbar-item"><a href="https://konghq.com/support/kong-professional-services?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Kong Professional Services</a></li>
                  <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-12503 navbar-item"><a href="https://konghq.com/support/kong-university/?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/support-faqs.svg"> Kong University</a></li>
                </ul>
              </li>
            </ul>
          </li>
          <li id="menu-item-12504" class="one-col icn-sm nav1 menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-12504 navbar-item">
            <a href="#" class="nav-link">Company</a>
            <ul class="sub-menu">
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12505 navbar-item"><a href="https://konghq.com/about-kong-inc?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/about.svg"> About</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12505 navbar-item"><a href="https://konghq.com/customers?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/meetups.svg"> Customers</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12506 navbar-item"><a href="https://konghq.com/investors?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/investors.svg"> Investors</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12507 navbar-item"><a href="https://konghq.com/careers?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/careers.svg"> Careers</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12508 navbar-item"><a href="https://konghq.com/partners?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/partners.svg"> Partners</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12509 navbar-item"><a href="https://konghq.com/press-room?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/press.svg"> Press</a></li>
              <li class="nav2 menu-item menu-item-type-custom menu-item-object-custom menu-item-12510 navbar-item"><a href="https://konghq.com/contact?itm_source=website&itm_medium=nav" class="nav-link"><img src="/assets/images/nav/contact.svg"> Contact</a></li>
            </ul>
          </li>
          <li class="demo-btn menu-item menu-item-type-custom menu-item-object-custom menu-item-12511 navbar-item"><a href="https://konghq.com/get-started?itm_source=website&itm_medium=nav" class="nav-link">Get Started</a></li>
        </ul>
      </div>
    </nav>
  </div>
</header>


    <div class="page v2  ">
  <header class="page-header">
    
    <div class="container">
      <nav class="docs-navigation v2">
        <a href="/" >Kong Gateway</a>
        <a href="/enterprise"  class="active" >Kong Enterprise</a>
        <a href="/getting-started-guide/latest/overview" >Getting Started</a>

        <div class="edit-this-page v2">
          <a target="_blank" href="https://github.com/Kong/docs.konghq.com/tree/master/app/enterprise/0.35-x/admin-api/index.md">
            <i class="fa fa-pencil"></i>
            <span>Edit this Page</span>
          </a>
        </div>
      </nav>

      <div class="title-version-search-container">
        <div class="page-header-title">
          <h1>Admin API</h1>
        </div>
        <div class="search-version-row">
          <div class="versions-dropdown dropdown no-right-border">
            <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
              Version 0.35-x
              
              <span class="caret"></span>
            </button>
            <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
              
              
              
              <li >
                <a href="/enterprise/1.5.x/admin-api/"
                    
                >
                  1.5.x
                  <em>(latest)</em>
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/1.3-x/admin-api/"
                    
                >
                  1.3-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.36-x/admin-api/"
                    
                >
                  0.36-x
                  
                </a>
              </li>
              
              
              
              <li  class="active" >
                <a href="/enterprise/0.35-x/admin-api/"
                     class="active" 
                >
                  0.35-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.34-x/admin-api/"
                    
                >
                  0.34-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.33-x"
                    
                >
                  0.33-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.32-x"
                    
                >
                  0.32-x
                  
                </a>
              </li>
              
              
              
              <li >
                <a href="/enterprise/0.31-x"
                    
                >
                  0.31-x
                  
                </a>
              </li>
              
            </ul>
          </div>
          <div class="dropdown" id="searchBar">
            <div id="getkong-algolia-search" class="search-input v2 small">
              <img class="icon" src="/assets/images/icons/icn-magnifying-glass.svg" alt="search">
              <input type="text" placeholder="Type to search " id="getkong-algolia-search-input" />
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>

  <div class="container">
    <aside class="docs-sidebar">
  <i class="fa fa-times close-sidebar"></i>
  

  <ul class="accordion-container">
    
    





<li class="accordion-item">
  
  <input id="accordion-1" type="checkbox" />
  
  
  <label for="accordion-1">
    
    
    Deployment
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-1-1" type="checkbox" />
  
  
  <label for="accordion-1-1">
    
    
    <a href="/enterprise/0.35-x/deployment/licensing/">Licensing</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/licensing"  >
      Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/access-license"  >
      How to Access Your License
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-1-2" type="checkbox" />
  
  
  <label for="accordion-1-2">
    
    
    <a href="/enterprise/0.35-x/deployment/installation/docker/">Installation</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/installation/docker"  >
      Docker
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/installation/ubuntu"  >
      Ubuntu
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/installation/centos"  >
      CentOS
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/installation/amazon-linux"  >
      Amazon Linux
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/changelog"  >
      Changelog
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/migrations"  >
      Migrating to 0.35
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/deployment/migrate-apis-cli"  >
      Migrating APIs to Services
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-2" type="checkbox" />
  
  
  <label for="accordion-2">
    
    
    <a href="/enterprise/0.35-x/getting-started/">Getting Started</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/"  >
      Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/start-kong"  >
      How to Start Kong Enterprise
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/add-workspace"  >
      How to Add a Workspace
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/add-role"  >
      How to Add a Role and Permissions
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/add-admin"  >
      How to Add an Admin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/add-service"  >
      How to Add a Service and Route
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/enable-plugin"  >
      How to Enable a Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/add-consumer"  >
      How to Add a Consumer
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/getting-started/enable-dev-portal"  >
      How to Enable the Dev Portal
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-3" type="checkbox" />
  
  
  <label for="accordion-3">
    
    
    <a href="/enterprise/0.35-x/property-reference/">Guides & References</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/property-reference"  >
      Configuration Property Reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/cli"  >
      CLI Reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/proxy"  >
      Proxy reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/auth"  >
      Authentication reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/loadbalancing"  >
      Load balancing reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/health-checks-circuit-breakers"  >
      Health checks and circuit breakers reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/clustering"  >
      Clustering reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/logging"  >
      Logging reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/network"  >
      Network &amp; Firewall
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/secure-admin-api"  >
      Securing the Admin API
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-3-11" type="checkbox" />
  
  
  <label for="accordion-3-11">
    
    
    <a href="/enterprise/0.35-x/plugin-development/">Plugin Development Guide</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development"  >
      Introduction
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/file-structure"  >
      File structure
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/custom-logic"  >
      Implementing custom logic
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/plugin-configuration"  >
      Plugin configuration
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/access-the-datastore"  >
      Accessing the datastore
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/custom-entities"  >
      Storing custom entities
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/entities-cache"  >
      Caching custom entities
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/admin-api"  >
      Extending the Admin API
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/tests"  >
      Writing tests
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugin-development/distribution"  >
      (un)Installing your plugin
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-3-12" type="checkbox" />
  
  
  <label for="accordion-3-12">
    
    
    <a href="/enterprise/0.35-x/pdk/">Plugin Development Kit</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.client"  >
      kong.client
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.ctx"  >
      kong.ctx
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.ip"  >
      kong.ip
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.log"  >
      kong.log
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.node"  >
      kong.node
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.request"  >
      kong.request
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.response"  >
      kong.response
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.router"  >
      kong.router
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.service"  >
      kong.service
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.service.request"  >
      kong.service.request
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.service.response"  >
      kong.service.response
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/pdk/kong.table"  >
      kong.table
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item active">
  
  <input id="accordion-4" type="checkbox" checked/>
  
  
  <label for="accordion-4">
    
    
    <a href="/enterprise/0.35-x/admin-api/">Admin API</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/"  class="active">
      Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#supported-content-types"  >
      Supported Content Types
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#information-routes"  >
      Information routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#service-object"  >
      Service Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#route-object"  >
      Route Object
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#consumer-object"  >
      Consumer Object routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#plugin-object"  >
      Plugin Object routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#certificate-object"  >
      Certificate Object routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#sni-objects"  >
      SNI Object routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#upstream-objects"  >
      Upstream Object routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/#target-object"  >
      Target Object routes
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-4-12" type="checkbox" />
  
  
  <label for="accordion-4-12">
    
    
    <a href="/enterprise/0.35-x/admin-api/workspaces/reference/">Workspace Object routes</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/workspaces/reference"  >
      Workspaces Reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/workspaces/examples"  >
      Workspace Examples
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-4-13" type="checkbox" />
  
  
  <label for="accordion-4-13">
    
    
    <a href="/enterprise/0.35-x/admin-api/rbac/reference/">RBAC Object routes</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/rbac/reference"  >
      RBAC Reference
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/rbac/examples"  >
      RBAC Examples
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-4-14" type="checkbox" />
  
  
  <label for="accordion-4-14">
    
    
    <a href="/enterprise/0.35-x/admin-api/admins/reference/">Admins</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/admins/reference"  >
      Admin Object routes
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/admins/examples"  >
      Examples
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-4-15" type="checkbox" />
  
  
  <label for="accordion-4-15">
    
    
    <a href="/enterprise/0.35-x/admin-api/vitals/">Vitals</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/vitals"  >
      Vitals Overview
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/vitals/vitals-influx-strategy"  >
      Kong Vitals with InfluxDB
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/vitals/vitals-prometheus-strategy"  >
      Kong Vitals with Prometheus
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/admin-api/audit-log"  >
      Audit Logging
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-5" type="checkbox" />
  
  
  <label for="accordion-5">
    
    
    <a href="/enterprise/0.35-x/kong-manager/overview/">Kong Manager</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/overview"  >
      Overview
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-5-2" type="checkbox" />
  
  
  <label for="accordion-5-2">
    
    
    <a href="/enterprise/0.35-x/kong-manager/networking/configuration/">Networking</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/networking/configuration"  >
      Default and Custom Configuration
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/networking/email"  >
      Configuring to Send Email
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/security"  >
      Securing Kong Manager
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-5-4" type="checkbox" />
  
  
  <label for="accordion-5-4">
    
    
    <a href="/enterprise/0.35-x/kong-manager/authentication/super-admin/">Authentication</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/authentication/super-admin"  >
      How to Create a Super Admin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/authentication/basic"  >
      Basic Auth
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/authentication/ldap"  >
      LDAP
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/authentication/oidc"  >
      OIDC
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/authentication/sessions"  >
      Sessions
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/reset-password"  >
      How to Reset Passwords and RBAC Tokens
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-5-6" type="checkbox" />
  
  
  <label for="accordion-5-6">
    
    
    <a href="/enterprise/0.35-x/kong-manager/administration/workspaces/workspaces/">Administration</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/workspaces/workspaces"  >
      Workspaces
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-5-6-2" type="checkbox" />
  
  
  <label for="accordion-5-6-2">
    
    
    
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/workspaces/workspaces"  >
      Workspaces in Kong Manager
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/workspaces/create-workspace"  >
      How to Create a Workspace
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/workspaces/update-workspace"  >
      How to Update a Workspace
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/rbac/rbac"  >
      RBAC
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-5-6-4" type="checkbox" />
  
  
  <label for="accordion-5-6-4">
    
    
    
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/rbac/rbac"  >
      RBAC in Kong Manager
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/rbac/new-role"  >
      How to Create a New Role
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/admins/invite"  >
      Admins
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-5-6-6" type="checkbox" />
  
  
  <label for="accordion-5-6-6">
    
    
    
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/administration/admins/invite"  >
      How to Invite an Admin
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/kong-manager/vitals"  >
      Vitals
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-6" type="checkbox" />
  
  
  <label for="accordion-6">
    
    
    <a href="/enterprise/0.35-x/developer-portal/introduction/">Kong Dev Portal</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/introduction"  >
      Overview
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-6-2" type="checkbox" />
  
  
  <label for="accordion-6-2">
    
    
    <a href="/enterprise/0.35-x/developer-portal/configuration/">Configuration</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-6-2-1" type="checkbox" />
  
  
  <label for="accordion-6-2-1">
    
    
    <a href="/enterprise/0.35-x/developer-portal/configuration/authentication/">Authentication</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/authentication/basic-auth"  >
      Basic Auth
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/authentication/key-auth"  >
      Key Auth
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/authentication/oidc"  >
      OpenID Connect
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/authentication/adding-registration-fields"  >
      Adding Custom Registration Fields
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/authentication/sessions"  >
      Sessions
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/smtp"  >
      SMTP
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/configuration/workspaces"  >
      Running Multiple Dev Portals with Workspaces
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/networking"  >
      Networking
    </a>
  </li>
  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-6-4" type="checkbox" />
  
  
  <label for="accordion-6-4">
    
    
    <a href="/enterprise/0.35-x/developer-portal/administration/managing-developers/">Administration</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/administration/managing-developers"  >
      Managing Developers
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-6-5" type="checkbox" />
  
  
  <label for="accordion-6-5">
    
    
    <a href="/enterprise/0.35-x/developer-portal/theme-customization/customizing-dev-portal/">Theme Customization</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/theme-customization/customizing-dev-portal"  >
      Customizing the Dev Portal
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-6-6" type="checkbox" />
  
  
  <label for="accordion-6-6">
    
    
    <a href="/enterprise/0.35-x/developer-portal/content-management/file-management/">Content Management</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/content-management/file-management"  >
      File Management
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/developer-portal/faq"  >
      FAQ & Troubleshooting
    </a>
  </li>
  
  
</ul>

  </div>
</li>


    
    





<li class="accordion-item">
  
  <input id="accordion-7" type="checkbox" />
  
  
  <label for="accordion-7">
    
    
    <a href="/enterprise/0.35-x/plugins/">APIs and Plugins</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-7-1" type="checkbox" />
  
  
  <label for="accordion-7-1">
    
    
    <a href="/enterprise/0.35-x/plugins/canary-release/">Plugin Reference</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/canary-release"  >
      Canary Release Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/rate-limiting-advanced"  >
      Rate Limiting Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/request-transformer"  >
      Request Transformer Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/oauth2-introspection"  >
      OAuth2 Introspection Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/openid-connect"  >
      OpenID Connect Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/http-proxy-caching"  >
      HTTP Proxy Caching
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/forward-proxy"  >
      Forward Proxy
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/statsd-advanced"  >
      StatsD Advanced Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/ldap-authentication-advanced"  >
      LDAP Auth Advanced Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/session"  >
      Session Plugin
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/route-by-header"  >
      Route By Header
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/jwt-signer"  >
      JWT Signer
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/upstream-tls"  >
      Upstream TLS
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/vault-auth"  >
      Vault Auth
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/request-validator"  >
      Request Validator
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
  
  
  





<li class="accordion-item">
  
  <input id="accordion-7-2" type="checkbox" />
  
  
  <label for="accordion-7-2">
    
    
    <a href="/enterprise/0.35-x/plugins/allowing-multiple-authentication-methods/">Implementation</a>
    
    
    <i class="fa fa-chevron-down"></i>
    
  </label>
  
  <div>
    
<ul class="items">
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/allowing-multiple-authentication-methods"  >
      Multiple Authentication Methods
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/oidc-azuread"  >
      OpenID Connect with Azure AD
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/oidc-google"  >
      OpenID Connect with Google
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/oidc-okta"  >
      OpenID Connect with Okta
    </a>
  </li>
  
  
  
  
  
  
  <li>
    <a href="/enterprise/0.35-x/plugins/oidc-auth0"  >
      OpenID Connect with Auth0
    </a>
  </li>
  
  
</ul>

  </div>
</li>


  
  
</ul>

  </div>
</li>


    
  </ul>
</aside>


    

    <div class="page-content-container v2" id="documentation">
      <div class="toggles">
        <i class="fas fa-stream sidebar-toggle"></i>
        
      </div>

      <div class="page-content">
        <div class="content show-anchor-links">
          
          
          <div class="alert alert-warning">
            <strong>Careful!</strong> You are browsing documentation for an outdated version of Kong Enterprise. Go <a
                  href="/enterprise/latest">here</a>
            to browse the documentation for the latest version.
          </div>
          

          

          <p>Kong comes with an <strong>internal</strong> RESTful Admin API for administration purposes.
Requests to the Admin API can be sent to any node in the cluster, and Kong will
keep the configuration consistent across all nodes.</p>

<ul>
  <li><code class="highlighter-rouge">8001</code> is the default port on which the Admin API listens.</li>
  <li><code class="highlighter-rouge">8444</code> is the default port for HTTPS traffic to the Admin API.</li>
</ul>

<p>This API is designed for internal use and provides full control over Kong, so
care should be taken when setting up Kong environments to avoid undue public
exposure of this API. See <a href="/enterprise/0.35-x/secure-admin-api">this document</a> for a discussion
of methods to secure the Admin API.</p>

<h2 id="supported-content-types">Supported Content Types</h2>

<p>The Admin API accepts 2 content types on every endpoint:</p>

<ul>
  <li><strong>application/x-www-form-urlencoded</strong></li>
</ul>

<p>Simple enough for basic request bodies, you will probably use it most of the time.
Note that when sending nested values, Kong expects nested objects to be referenced
with dotted keys. Example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config.limit=10&amp;config.period=seconds
</code></pre></div></div>

<p>Arrays and sets can be specified in various ways:</p>

<ol>
  <li>Sending same parameter multiple times:</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hosts=example.com&amp;hosts=example.org
</code></pre></div></div>

<ol>
  <li>Using array notation:</li>
</ol>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hosts[1]=example.com&amp;hosts[2]=example.org
</code></pre></div></div>
<p>or</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>hosts[]=example.com&amp;hosts[]=example.org
</code></pre></div></div>

<p>Array and object notation can also be mixed:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>config.hosts[1]=example.com&amp;config.hosts[2]=example.org
</code></pre></div></div>

<ul>
  <li><strong>application/json</strong></li>
</ul>

<p>Handy for complex bodies (ex: complex plugin configuration), in that case simply send
a JSON representation of the data you want to send. Example:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seconds"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>JSON arrays can be specified as well:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="nl">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"seconds"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"example.org"</span><span class="w"> </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="information-routes">Information routes</h2>

<h3 id="retrieve-node-information">Retrieve node information</h3>

<p>Retrieve generic details about a node.</p>

<div class="endpoint get">/</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"hostname"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6a72192c-a3a1-4c8d-95c6-efabae9fb969"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"lua_version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LuaJIT 2.1.0-beta3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"plugins"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"available_on_server"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="err">...</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"enabled_in_cluster"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="err">...</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"configuration"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"tagline"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Welcome to Kong"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.14.0"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">node_id</code>: A UUID representing the running Kong node. This UUID
is randomly generated when Kong starts, so the node will have a
different <code class="highlighter-rouge">node_id</code> each time it is restarted.</li>
  <li><code class="highlighter-rouge">available_on_server</code>: Names of plugins that are installed on the node.</li>
  <li><code class="highlighter-rouge">enabled_in_cluster</code>: Names of plugins that are enabled/configured.
That is, the plugins configurations currently in the datastore shared
by all Kong nodes.</li>
</ul>

<hr />

<h3 id="retrieve-node-status">Retrieve node status</h3>

<p>Retrieve usage information about a node, with some basic information
about the connections being processed by the underlying nginx process,
and the status of the database connection.</p>

<p>If you want to monitor the Kong process, since Kong is built on top
of nginx, every existing nginx monitoring tool or agent can be used.</p>

<div class="endpoint get">/status</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"server"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"total_requests"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connections_active"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connections_accepted"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connections_handled"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connections_reading"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connections_writing"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="nl">"connections_waiting"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"database"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"reachable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li><code class="highlighter-rouge">server</code>: Metrics about the nginx HTTP/S server.
    <ul>
      <li><code class="highlighter-rouge">total_requests</code>: The total number of client requests.</li>
      <li><code class="highlighter-rouge">connections_active</code>: The current number of active client
connections including Waiting connections.</li>
      <li><code class="highlighter-rouge">connections_accepted</code>: The total number of accepted client
connections.</li>
      <li><code class="highlighter-rouge">connections_handled</code>: The total number of handled connections.
Generally, the parameter value is the same as accepts unless
some resource limits have been reached.</li>
      <li><code class="highlighter-rouge">connections_reading</code>: The current number of connections
where Kong is reading the request header.</li>
      <li><code class="highlighter-rouge">connections_writing</code>: The current number of connections
where nginx is writing the response back to the client.</li>
      <li><code class="highlighter-rouge">connections_waiting</code>: The current number of idle client
connections waiting for a request.</li>
    </ul>
  </li>
  <li><code class="highlighter-rouge">database</code>: Metrics about the database.
    <ul>
      <li><code class="highlighter-rouge">reachable</code>: A boolean value reflecting the state of the
database connection. Please note that this flag <strong>does not</strong>
reflect the health of the database itself.</li>
    </ul>
  </li>
</ul>

<hr />

<h2 id="service-object">Service Object</h2>

<p>Service entities, as the name implies, are abstractions of each of your own
upstream services. Examples of Services would be a data transformation
microservice, a billing API, etc.</p>

<p>The main attribute of a Service is its URL (where Kong should proxy traffic
to), which can be set as a single string or by specifying its <code class="highlighter-rouge">protocol</code>,
<code class="highlighter-rouge">host</code>, <code class="highlighter-rouge">port</code> and <code class="highlighter-rouge">path</code> individually.</p>

<p>Services are associated to Routes (a Service can have many Routes associated
with it). Routes are entry-points in Kong and define rules to match client
requests. Once a Route is matched, Kong proxies the request to its associated
Service. See the <a href="/enterprise/0.35-x/proxy">Proxy Reference</a> for a detailed explanation
of how Kong proxies traffic.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c61e164-6171-4837-8836-8f5298726d53"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"write_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-service">Add Service</h3>

<h5 id="create-service">Create Service</h5>

<div class="endpoint post">/services</div>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code><br /><em>optional</em></td>
      <td>The Service name.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">retries</code><br /><em>optional</em></td>
      <td>The number of retries to execute upon failure to proxy. Defaults to <code class="highlighter-rouge">5</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">protocol</code></td>
      <td>The protocol used to communicate with the upstream. It can be one of <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code>.  Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">host</code></td>
      <td>The host of the upstream server.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">port</code></td>
      <td>The upstream server port. Defaults to <code class="highlighter-rouge">80</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">path</code><br /><em>optional</em></td>
      <td>The path to be used in requests to the upstream server.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">connect_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds for establishing a connection to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">write_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds between two successive write operations for transmitting a request to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">read_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds between two successive read operations for transmitting a request to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">url</code><br /><em>shorthand-attribute</em></td>
      <td>Shorthand attribute to set <code class="highlighter-rouge">protocol</code>, <code class="highlighter-rouge">host</code>, <code class="highlighter-rouge">port</code> and <code class="highlighter-rouge">path</code> at once. This attribute is write-only (the Admin API never â€œreturnsâ€ the url).</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c61e164-6171-4837-8836-8f5298726d53"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"write_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-services">List Services</h3>

<h5 id="list-all-services">List all Services</h5>

<div class="endpoint get">/services</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"f00c6da4-3679-4b44-b9fb-36a19bd3ae83"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"write_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bdab0e47-4e37-4f0b-8fd0-87d95cc4addc"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/another_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"write_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/services?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-service">Retrieve Service</h3>

<h5 id="retrieve-service-1">Retrieve Service</h5>

<div class="endpoint get">/services/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Service to retrieve.</td>
    </tr>
  </tbody>
</table>

<h5 id="retrieve-service-associated-to-a-specific-route">Retrieve Service associated to a specific Route</h5>

<div class="endpoint get">/routes/{route name or id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route associated to the Service to be retrieved.</td>
    </tr>
  </tbody>
</table>

<h5 id="retrieve-service-associated-to-a-specific-plugin">Retrieve Service associated to a specific Plugin</h5>

<div class="endpoint get">/plugins/{plugin id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Service to be retrieved.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c61e164-6171-4837-8836-8f5298726d53"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"write_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-service">Update Service</h3>

<h5 id="update-service-1">Update Service</h5>

<div class="endpoint patch">/services/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Service to update.</td>
    </tr>
  </tbody>
</table>

<h5 id="update-service-associated-to-a-specific-route">Update Service associated to a specific Route</h5>

<div class="endpoint patch">/routes/{route name or id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route associated to the Service to be updated.</td>
    </tr>
  </tbody>
</table>

<h5 id="update-service-associated-to-a-specific-plugin">Update Service associated to a specific Plugin</h5>

<div class="endpoint patch">/plugins/{plugin id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Service to be updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code><br /><em>optional</em></td>
      <td>The Service name.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">retries</code><br /><em>optional</em></td>
      <td>The number of retries to execute upon failure to proxy. Defaults to <code class="highlighter-rouge">5</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">protocol</code></td>
      <td>The protocol used to communicate with the upstream. It can be one of <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code>.  Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">host</code></td>
      <td>The host of the upstream server.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">port</code></td>
      <td>The upstream server port. Defaults to <code class="highlighter-rouge">80</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">path</code><br /><em>optional</em></td>
      <td>The path to be used in requests to the upstream server.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">connect_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds for establishing a connection to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">write_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds between two successive write operations for transmitting a request to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">read_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds between two successive read operations for transmitting a request to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">url</code><br /><em>shorthand-attribute</em></td>
      <td>Shorthand attribute to set <code class="highlighter-rouge">protocol</code>, <code class="highlighter-rouge">host</code>, <code class="highlighter-rouge">port</code> and <code class="highlighter-rouge">path</code> at once. This attribute is write-only (the Admin API never â€œreturnsâ€ the url).</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c61e164-6171-4837-8836-8f5298726d53"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-service"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retries"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"port"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
    </span><span class="nl">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/some_api"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"connect_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"write_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"read_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-service">Update or create Service</h3>

<h5 id="create-or-update-service">Create or update Service</h5>

<div class="endpoint put">/services/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Service to create or update.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-or-update-service-associated-to-a-specific-route">Create or update Service associated to a specific Route</h5>

<div class="endpoint put">/routes/{route name or id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route associated to the Service to be created or updated.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-or-update-service-associated-to-a-specific-plugin">Create or update Service associated to a specific Plugin</h5>

<div class="endpoint put">/plugins/{plugin id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Service to be created or updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code><br /><em>optional</em></td>
      <td>The Service name.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">retries</code><br /><em>optional</em></td>
      <td>The number of retries to execute upon failure to proxy. Defaults to <code class="highlighter-rouge">5</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">protocol</code></td>
      <td>The protocol used to communicate with the upstream. It can be one of <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code>.  Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">host</code></td>
      <td>The host of the upstream server.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">port</code></td>
      <td>The upstream server port. Defaults to <code class="highlighter-rouge">80</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">path</code><br /><em>optional</em></td>
      <td>The path to be used in requests to the upstream server.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">connect_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds for establishing a connection to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">write_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds between two successive write operations for transmitting a request to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">read_timeout</code><br /><em>optional</em></td>
      <td>The timeout in milliseconds between two successive read operations for transmitting a request to the upstream server.  Defaults to <code class="highlighter-rouge">60000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">url</code><br /><em>shorthand-attribute</em></td>
      <td>Shorthand attribute to set <code class="highlighter-rouge">protocol</code>, <code class="highlighter-rouge">host</code>, <code class="highlighter-rouge">port</code> and <code class="highlighter-rouge">path</code> at once. This attribute is write-only (the Admin API never â€œreturnsâ€ the url).</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the Service under the requested resource with the
definition specified in the body. The Service will be identified via the <code class="highlighter-rouge">name
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">name or id</code> attribute has the structure of a UUID, the Service being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">name</code>.</p>

<p>When creating a new Service without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">name</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-service">Delete Service</h3>

<h5 id="delete-service-1">Delete Service</h5>

<div class="endpoint delete">/services/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Service to delete.</td>
    </tr>
  </tbody>
</table>

<h5 id="delete-service-associated-to-a-specific-route">Delete Service associated to a specific Route</h5>

<div class="endpoint delete">/routes/{route name or id}/service</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route associated to the Service to be deleted.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h2 id="route-object">Route Object</h2>

<p>Route entities define rules to match client requests. Each Route is
associated with a Service, and a Service may have multiple Routes associated to
it. Every request matching a given Route will be proxied to its associated
Service.</p>

<p>The combination of Routes and Services (and the separation of concerns between
them) offers a powerful routing mechanism with which it is possible to define
fine-grained entry-points in Kong leading to different upstream services of
your infrastructure.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"173a6cee-90d1-40a7-89cf-0329eca780a6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-route"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"foo.test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/foo"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/bar"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"regex_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strip_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"f5a9c0ca-bdbb-490f-8928-2ca95836239a"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-route">Add Route</h3>

<h5 id="create-route">Create Route</h5>

<div class="endpoint post">/routes</div>

<h5 id="create-route-associated-to-a-specific-service">Create Route associated to a specific Service</h5>

<div class="endpoint post">/services/{service name or id}/routes</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier or the <code class="highlighter-rouge">name</code> attribute of the Service that should be associated to the newly-created Route.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code><br /><em>optional</em></td>
      <td>The name of the Route.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">protocols</code></td>
      <td>A list of the protocols this Route should allow. When set to <code class="highlighter-rouge">["https"]</code>, HTTP requests are answered with a request to upgrade to HTTPS.  Defaults to <code class="highlighter-rouge">["http", "https"]</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">methods</code><br /><em>semi-optional</em></td>
      <td>A list of HTTP methods that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hosts</code><br /><em>semi-optional</em></td>
      <td>A list of domain names that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.  With form-encoded, the notation is <code class="highlighter-rouge">hosts[]=example.com&amp;hosts[]=foo.test</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">paths</code><br /><em>semi-optional</em></td>
      <td>A list of paths that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.  With form-encoded, the notation is <code class="highlighter-rouge">paths[]=/foo&amp;paths[]=/bar</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">regex_priority</code><br /><em>optional</em></td>
      <td>A number used to choose which route resolves a given request when several routes match it using regexes simultaneously. When two routes match the path and have the same <code class="highlighter-rouge">regex_priority</code>, the older one (lowest <code class="highlighter-rouge">created_at</code>) is used. Note that the priority for non-regex routes is different (longer non-regex routes are matched before shorter ones).  Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">strip_path</code><br /><em>optional</em></td>
      <td>When matching a Route via one of the <code class="highlighter-rouge">paths</code>, strip the matching prefix from the upstream request URL.  Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">preserve_host</code><br /><em>optional</em></td>
      <td>When matching a Route via one of the <code class="highlighter-rouge">hosts</code> domain names, use the request <code class="highlighter-rouge">Host</code> header in the upstream request headers. If set to <code class="highlighter-rouge">false</code>, the upstream <code class="highlighter-rouge">Host</code> header will be that of the Serviceâ€™s <code class="highlighter-rouge">host</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">snis</code><br /><em>semi-optional</em></td>
      <td>A list of SNIs that match this Route when using stream routing. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">sources</code><br /><em>semi-optional</em></td>
      <td>A list of IP sources of incoming connections that match this Route when using stream routing. Each entry is an object with fields â€œipâ€ (optionally in CIDR range notation) and/or â€œportâ€. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">destinations</code><br /><em>semi-optional</em></td>
      <td>A list of IP destinations of incoming connections that match this Route when using stream routing. Each entry is an object with fields â€œipâ€ (optionally in CIDR range notation) and/or â€œportâ€. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service</code></td>
      <td>The Service this Route is associated to. This is where the Route proxies traffic to.  With form-encoded, the notation is <code class="highlighter-rouge">service.id=&lt;service_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"service":{"id":"&lt;service_id&gt;"}</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"173a6cee-90d1-40a7-89cf-0329eca780a6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-route"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"foo.test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/foo"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/bar"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"regex_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strip_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"f5a9c0ca-bdbb-490f-8928-2ca95836239a"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-routes">List Routes</h3>

<h5 id="list-all-routes">List all Routes</h5>

<div class="endpoint get">/routes</div>

<h5 id="list-routes-associated-to-a-specific-service">List Routes associated to a specific Service</h5>

<div class="endpoint get">/services/{service name or id}/routes</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier or the <code class="highlighter-rouge">name</code> attribute of the Service whose Routes are to be retrieved. When using this endpoint, only Routes associated to the specified Service will be listed.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"885a0392-ef1b-4de3-aacf-af3f1697ce2c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-route"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"foo.test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/foo"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/bar"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"regex_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strip_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"a3395f66-2af6-4c79-bea2-1b6933764f80"</span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4fe14415-73d5-4f00-9fbc-c72a0fccfcb2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-route"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"tcp"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tls"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"regex_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strip_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"snis"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"foo.test"</span><span class="p">,</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"sources"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">"10.1.0.0/16"</span><span class="p">,</span><span class="w"> </span><span class="nl">"port"</span><span class="p">:</span><span class="mi">1234</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">"10.2.2.2"</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"port"</span><span class="p">:</span><span class="mi">9123</span><span class="p">}],</span><span class="w">
    </span><span class="nl">"destinations"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">"10.1.0.0/16"</span><span class="p">,</span><span class="w"> </span><span class="nl">"port"</span><span class="p">:</span><span class="mi">1234</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"ip"</span><span class="p">:</span><span class="s2">"10.2.2.2"</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="nl">"port"</span><span class="p">:</span><span class="mi">9123</span><span class="p">}],</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"ea29aaa3-3b2d-488c-b90c-56df8e0dd8c6"</span><span class="p">}</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/routes?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-route">Retrieve Route</h3>

<h5 id="retrieve-route-1">Retrieve Route</h5>

<div class="endpoint get">/routes/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route to retrieve.</td>
    </tr>
  </tbody>
</table>

<h5 id="retrieve-route-associated-to-a-specific-plugin">Retrieve Route associated to a specific Plugin</h5>

<div class="endpoint get">/plugins/{plugin id}/route</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Route to be retrieved.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"173a6cee-90d1-40a7-89cf-0329eca780a6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-route"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"foo.test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/foo"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/bar"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"regex_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strip_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"f5a9c0ca-bdbb-490f-8928-2ca95836239a"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-route">Update Route</h3>

<h5 id="update-route-1">Update Route</h5>

<div class="endpoint patch">/routes/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route to update.</td>
    </tr>
  </tbody>
</table>

<h5 id="update-route-associated-to-a-specific-plugin">Update Route associated to a specific Plugin</h5>

<div class="endpoint patch">/plugins/{plugin id}/route</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Route to be updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code><br /><em>optional</em></td>
      <td>The name of the Route.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">protocols</code></td>
      <td>A list of the protocols this Route should allow. When set to <code class="highlighter-rouge">["https"]</code>, HTTP requests are answered with a request to upgrade to HTTPS.  Defaults to <code class="highlighter-rouge">["http", "https"]</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">methods</code><br /><em>semi-optional</em></td>
      <td>A list of HTTP methods that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hosts</code><br /><em>semi-optional</em></td>
      <td>A list of domain names that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.  With form-encoded, the notation is <code class="highlighter-rouge">hosts[]=example.com&amp;hosts[]=foo.test</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">paths</code><br /><em>semi-optional</em></td>
      <td>A list of paths that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.  With form-encoded, the notation is <code class="highlighter-rouge">paths[]=/foo&amp;paths[]=/bar</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">regex_priority</code><br /><em>optional</em></td>
      <td>A number used to choose which route resolves a given request when several routes match it using regexes simultaneously. When two routes match the path and have the same <code class="highlighter-rouge">regex_priority</code>, the older one (lowest <code class="highlighter-rouge">created_at</code>) is used. Note that the priority for non-regex routes is different (longer non-regex routes are matched before shorter ones).  Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">strip_path</code><br /><em>optional</em></td>
      <td>When matching a Route via one of the <code class="highlighter-rouge">paths</code>, strip the matching prefix from the upstream request URL.  Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">preserve_host</code><br /><em>optional</em></td>
      <td>When matching a Route via one of the <code class="highlighter-rouge">hosts</code> domain names, use the request <code class="highlighter-rouge">Host</code> header in the upstream request headers. If set to <code class="highlighter-rouge">false</code>, the upstream <code class="highlighter-rouge">Host</code> header will be that of the Serviceâ€™s <code class="highlighter-rouge">host</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">snis</code><br /><em>semi-optional</em></td>
      <td>A list of SNIs that match this Route when using stream routing. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">sources</code><br /><em>semi-optional</em></td>
      <td>A list of IP sources of incoming connections that match this Route when using stream routing. Each entry is an object with fields â€œipâ€ (optionally in CIDR range notation) and/or â€œportâ€. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">destinations</code><br /><em>semi-optional</em></td>
      <td>A list of IP destinations of incoming connections that match this Route when using stream routing. Each entry is an object with fields â€œipâ€ (optionally in CIDR range notation) and/or â€œportâ€. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service</code></td>
      <td>The Service this Route is associated to. This is where the Route proxies traffic to.  With form-encoded, the notation is <code class="highlighter-rouge">service.id=&lt;service_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"service":{"id":"&lt;service_id&gt;"}</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"173a6cee-90d1-40a7-89cf-0329eca780a6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"updated_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-route"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"protocols"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http"</span><span class="p">,</span><span class="w"> </span><span class="s2">"https"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"methods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GET"</span><span class="p">,</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"hosts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"example.com"</span><span class="p">,</span><span class="w"> </span><span class="s2">"foo.test"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"paths"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"/foo"</span><span class="p">,</span><span class="w"> </span><span class="s2">"/bar"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"regex_priority"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nl">"strip_path"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"preserve_host"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"f5a9c0ca-bdbb-490f-8928-2ca95836239a"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-route">Update or create Route</h3>

<h5 id="create-or-update-route">Create or update Route</h5>

<div class="endpoint put">/routes/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route to create or update.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-or-update-route-associated-to-a-specific-plugin">Create or update Route associated to a specific Plugin</h5>

<div class="endpoint put">/plugins/{plugin id}/route</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Route to be created or updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code><br /><em>optional</em></td>
      <td>The name of the Route.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">protocols</code></td>
      <td>A list of the protocols this Route should allow. When set to <code class="highlighter-rouge">["https"]</code>, HTTP requests are answered with a request to upgrade to HTTPS.  Defaults to <code class="highlighter-rouge">["http", "https"]</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">methods</code><br /><em>semi-optional</em></td>
      <td>A list of HTTP methods that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hosts</code><br /><em>semi-optional</em></td>
      <td>A list of domain names that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.  With form-encoded, the notation is <code class="highlighter-rouge">hosts[]=example.com&amp;hosts[]=foo.test</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">paths</code><br /><em>semi-optional</em></td>
      <td>A list of paths that match this Route. When using <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> protocols, at least one of <code class="highlighter-rouge">hosts</code>, <code class="highlighter-rouge">paths</code>, or <code class="highlighter-rouge">methods</code> must be set.  With form-encoded, the notation is <code class="highlighter-rouge">paths[]=/foo&amp;paths[]=/bar</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">regex_priority</code><br /><em>optional</em></td>
      <td>A number used to choose which route resolves a given request when several routes match it using regexes simultaneously. When two routes match the path and have the same <code class="highlighter-rouge">regex_priority</code>, the older one (lowest <code class="highlighter-rouge">created_at</code>) is used. Note that the priority for non-regex routes is different (longer non-regex routes are matched before shorter ones).  Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">strip_path</code><br /><em>optional</em></td>
      <td>When matching a Route via one of the <code class="highlighter-rouge">paths</code>, strip the matching prefix from the upstream request URL.  Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">preserve_host</code><br /><em>optional</em></td>
      <td>When matching a Route via one of the <code class="highlighter-rouge">hosts</code> domain names, use the request <code class="highlighter-rouge">Host</code> header in the upstream request headers. If set to <code class="highlighter-rouge">false</code>, the upstream <code class="highlighter-rouge">Host</code> header will be that of the Serviceâ€™s <code class="highlighter-rouge">host</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">snis</code><br /><em>semi-optional</em></td>
      <td>A list of SNIs that match this Route when using stream routing. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">sources</code><br /><em>semi-optional</em></td>
      <td>A list of IP sources of incoming connections that match this Route when using stream routing. Each entry is an object with fields â€œipâ€ (optionally in CIDR range notation) and/or â€œportâ€. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">destinations</code><br /><em>semi-optional</em></td>
      <td>A list of IP destinations of incoming connections that match this Route when using stream routing. Each entry is an object with fields â€œipâ€ (optionally in CIDR range notation) and/or â€œportâ€. When using <code class="highlighter-rouge">tcp</code> or <code class="highlighter-rouge">tls</code> protocols, at least one of <code class="highlighter-rouge">snis</code>, <code class="highlighter-rouge">sources</code>, or <code class="highlighter-rouge">destinations</code> must be set.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service</code></td>
      <td>The Service this Route is associated to. This is where the Route proxies traffic to.  With form-encoded, the notation is <code class="highlighter-rouge">service.id=&lt;service_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"service":{"id":"&lt;service_id&gt;"}</code>.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the Route under the requested resource with the
definition specified in the body. The Route will be identified via the <code class="highlighter-rouge">name
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">name or id</code> attribute has the structure of a UUID, the Route being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">name</code>.</p>

<p>When creating a new Route without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">name</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-route">Delete Route</h3>

<h5 id="delete-route-1">Delete Route</h5>

<div class="endpoint delete">/routes/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Route to delete.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h2 id="consumer-object">Consumer Object</h2>

<p>The Consumer object represents a consumer - or a user - of a Service. You can
either rely on Kong as the primary datastore, or you can map the consumer list
with your database to keep consistency between Kong and your existing primary
datastore.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58c8ccbb-eafb-4566-991f-2ed4f678fa70"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-username"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-custom-id"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-consumer">Add Consumer</h3>

<h5 id="create-consumer">Create Consumer</h5>

<div class="endpoint post">/consumers</div>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username</code><br /><em>semi-optional</em></td>
      <td>The unique username of the consumer. You must send either this field or <code class="highlighter-rouge">custom_id</code> with the request.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">custom_id</code><br /><em>semi-optional</em></td>
      <td>Field for storing an existing unique ID for the consumer - useful for mapping Kong with users in your existing database. You must send either this field or <code class="highlighter-rouge">username</code> with the request.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58c8ccbb-eafb-4566-991f-2ed4f678fa70"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-username"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-custom-id"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-consumers">List Consumers</h3>

<h5 id="list-all-consumers">List all Consumers</h5>

<div class="endpoint get">/consumers</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4e8d95d4-40f2-4818-adcb-30e00c349618"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-username"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-custom-id"</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b87eb55d-69a1-41d2-8653-8d706eecefc0"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-username"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-custom-id"</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/consumers?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>âš ï¸ <strong>Note</strong>: <strong>Consumers</strong> associated with <strong>Admins</strong> will <em>not</em> be 
listed with <strong><code class="highlighter-rouge">GET</code></strong> <code class="highlighter-rouge">/consumers</code>. Instead, use 
<a href="/enterprise/0.35-x/admin-api/admins/reference/#list-admins"><strong><code class="highlighter-rouge">GET</code></strong> <code class="highlighter-rouge">/admins</code></a> 
to list all <strong>Admins</strong>.</p>

<hr />

<h3 id="retrieve-consumer">Retrieve Consumer</h3>

<h5 id="retrieve-consumer-1">Retrieve Consumer</h5>

<div class="endpoint get">/consumers/{username or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the username of the Consumer to retrieve.</td>
    </tr>
  </tbody>
</table>

<h5 id="retrieve-consumer-associated-to-a-specific-plugin">Retrieve Consumer associated to a specific Plugin</h5>

<div class="endpoint get">/plugins/{plugin id}/consumer</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Consumer to be retrieved.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58c8ccbb-eafb-4566-991f-2ed4f678fa70"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-username"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-custom-id"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-consumer">Update Consumer</h3>

<h5 id="update-consumer-1">Update Consumer</h5>

<div class="endpoint patch">/consumers/{username or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the username of the Consumer to update.</td>
    </tr>
  </tbody>
</table>

<h5 id="update-consumer-associated-to-a-specific-plugin">Update Consumer associated to a specific Plugin</h5>

<div class="endpoint patch">/plugins/{plugin id}/consumer</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Consumer to be updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username</code><br /><em>semi-optional</em></td>
      <td>The unique username of the consumer. You must send either this field or <code class="highlighter-rouge">custom_id</code> with the request.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">custom_id</code><br /><em>semi-optional</em></td>
      <td>Field for storing an existing unique ID for the consumer - useful for mapping Kong with users in your existing database. You must send either this field or <code class="highlighter-rouge">username</code> with the request.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"58c8ccbb-eafb-4566-991f-2ed4f678fa70"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-username"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"custom_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-custom-id"</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-consumer">Update or create Consumer</h3>

<h5 id="create-or-update-consumer">Create or update Consumer</h5>

<div class="endpoint put">/consumers/{username or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the username of the Consumer to create or update.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-or-update-consumer-associated-to-a-specific-plugin">Create or update Consumer associated to a specific Plugin</h5>

<div class="endpoint put">/plugins/{plugin id}/consumer</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin associated to the Consumer to be created or updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username</code><br /><em>semi-optional</em></td>
      <td>The unique username of the consumer. You must send either this field or <code class="highlighter-rouge">custom_id</code> with the request.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">custom_id</code><br /><em>semi-optional</em></td>
      <td>Field for storing an existing unique ID for the consumer - useful for mapping Kong with users in your existing database. You must send either this field or <code class="highlighter-rouge">username</code> with the request.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the Consumer under the requested resource with the
definition specified in the body. The Consumer will be identified via the <code class="highlighter-rouge">username
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">username or id</code> attribute has the structure of a UUID, the Consumer being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">username</code>.</p>

<p>When creating a new Consumer without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">username</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-consumer">Delete Consumer</h3>

<h5 id="delete-consumer-1">Delete Consumer</h5>

<div class="endpoint delete">/consumers/{username or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">username or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the username of the Consumer to delete.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h2 id="plugin-object">Plugin Object</h2>

<p>A Plugin entity represents a plugin configuration that will be executed during
the HTTP request/response lifecycle. It is how you can add functionalities
to Services that run behind Kong, like Authentication or Rate Limiting for
example. You can find more information about how to install and what values
each plugin takes by visiting the <a href="https://docs.konghq.com/hub/">Kong Hub</a>.</p>

<p>When adding a Plugin Configuration to a Service, every request made by a client to
that Service will run said Plugin. If a Plugin needs to be tuned to different
values for some specific Consumers, you can do so by specifying the
<code class="highlighter-rouge">consumer_id</code> value:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3ad71a8-6685-4b03-a101-980a953544f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"route"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"hour"</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="nl">"minute"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="nl">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<p>See the <a href="#precedence">Precedence</a> section below for more details.</p>

<h4 id="precedence">Precedence</h4>

<p>A plugin will always be run once and only once per request. But the
configuration with which it will run depends on the entities it has been
configured for.</p>

<p>Plugins can be configured for various entities, combination of entities, or
even globally. This is useful, for example, when you wish to configure a plugin
a certain way for most requests, but make <em>authenticated requests</em> behave
slightly differently.</p>

<p>Therefore, there exists an order of precedence for running a plugin when it has
been applied to different entities with different configurations. The rule of
thumb is: the more specific a plugin is with regards to how many entities it
has been configured on, the higher its priority.</p>

<p>The complete order of precedence when a plugin has been configured multiple
times is:</p>

<ol>
  <li>Plugins configured on a combination of: a Route, a Service, and a Consumer.
 (Consumer means the request must be authenticated).</li>
  <li>Plugins configured on a combination of a Route and a Consumer.
 (Consumer means the request must be authenticated).</li>
  <li>Plugins configured on a combination of a Service and a Consumer.
 (Consumer means the request must be authenticated).</li>
  <li>Plugins configured on a combination of a Route and a Service.</li>
  <li>Plugins configured on a Consumer.
 (Consumer means the request must be authenticated).</li>
  <li>Plugins configured on a Route.</li>
  <li>Plugins configured on a Service.</li>
  <li>Plugins configured to run globally.</li>
</ol>

<p><strong>Example</strong>: if the <code class="highlighter-rouge">rate-limiting</code> plugin is applied twice (with different
configurations): for a Service (Plugin config A), and for a Consumer (Plugin
config B), then requests authenticating this Consumer will run Plugin config B
and ignore A. However, requests that do not authenticate this Consumer will
fallback to running Plugin config A. Note that if config B is disabled
(its <code class="highlighter-rouge">enabled</code> flag is set to <code class="highlighter-rouge">false</code>), config A will apply to requests that
would have otherwise matched config B.</p>

<h3 id="add-plugin">Add Plugin</h3>

<h5 id="create-plugin">Create Plugin</h5>

<div class="endpoint post">/plugins</div>

<h5 id="create-plugin-associated-to-a-specific-route">Create Plugin associated to a specific Route</h5>

<div class="endpoint post">/routes/{route id}/plugins</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Route that should be associated to the newly-created Plugin.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-plugin-associated-to-a-specific-service">Create Plugin associated to a specific Service</h5>

<div class="endpoint post">/services/{service id}/plugins</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Service that should be associated to the newly-created Plugin.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-plugin-associated-to-a-specific-consumer">Create Plugin associated to a specific Consumer</h5>

<div class="endpoint post">/consumers/{consumer id}/plugins</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Consumer that should be associated to the newly-created Plugin.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>The name of the Plugin thatâ€™s going to be added. Currently the Plugin must be installed in every Kong instance separately.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route</code><br /><em>optional</em></td>
      <td>If set, the plugin will only activate when receiving requests via the specified route. Leave unset for the plugin to activate regardless of the Route being used.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">route.id=&lt;route_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"route":{"id":"&lt;route_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service</code><br /><em>optional</em></td>
      <td>If set, the plugin will only activate when receiving requests via one of the routes belonging to the specified Service. Leave unset for the plugin to activate regardless of the Service being matched.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">service.id=&lt;service_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"service":{"id":"&lt;service_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer</code><br /><em>optional</em></td>
      <td>If set, the plugin will activate only for requests where the specified has been authenticated. (Note that some plugins can not be restricted to consumers this way.). Leave unset for the plugin to activate regardless of the authenticated consumer.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">consumer.id=&lt;consumer_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"consumer":{"id":"&lt;consumer_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">config</code><br /><em>optional</em></td>
      <td>The configuration properties for the Plugin which can be found on the plugins documentation page in the <a href="https://docs.konghq.com/hub/">Kong Hub</a>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">run_on</code></td>
      <td>Control on which Kong nodes this plugin will run, given a Service Mesh scenario. Accepted values are: * <code class="highlighter-rouge">first</code>, meaning â€œrun on the first Kong node that is encountered by the requestâ€. On an API Getaway scenario, this is the usual operation, since there is only one Kong node in between source and destination. In a sidecar-to-sidecar Service Mesh scenario, this means running the plugin only on the Kong sidecar of the outbound connection. * <code class="highlighter-rouge">second</code>, meaning â€œrun on the second node that is encountered by the requestâ€. This option is only relevant for sidecar-to-sidecar Service Mesh scenarios: this means running the plugin only on the Kong sidecar of the inbound connection. * <code class="highlighter-rouge">all</code> means â€œrun on all nodesâ€, meaning both sidecars in a sidecar-to-sidecar scenario. This is useful for tracing/logging plugins.  Defaults to <code class="highlighter-rouge">"first"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">enabled</code><br /><em>optional</em></td>
      <td>Whether the plugin is applied. Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3ad71a8-6685-4b03-a101-980a953544f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"route"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"hour"</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="nl">"minute"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="nl">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-plugins">List Plugins</h3>

<h5 id="list-all-plugins">List all Plugins</h5>

<div class="endpoint get">/plugins</div>

<h5 id="list-plugins-associated-to-a-specific-route">List Plugins associated to a specific Route</h5>

<div class="endpoint get">/routes/{route id}/plugins</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Route whose Plugins are to be retrieved. When using this endpoint, only Plugins associated to the specified Route will be listed.</td>
    </tr>
  </tbody>
</table>

<h5 id="list-plugins-associated-to-a-specific-service">List Plugins associated to a specific Service</h5>

<div class="endpoint get">/services/{service id}/plugins</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Service whose Plugins are to be retrieved. When using this endpoint, only Plugins associated to the specified Service will be listed.</td>
    </tr>
  </tbody>
</table>

<h5 id="list-plugins-associated-to-a-specific-consumer">List Plugins associated to a specific Consumer</h5>

<div class="endpoint get">/consumers/{consumer id}/plugins</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Consumer whose Plugins are to be retrieved. When using this endpoint, only Plugins associated to the specified Consumer will be listed.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"147f5ef0-1ed6-4711-b77f-489262f8bff7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"route"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"hour"</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="nl">"minute"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="nl">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a2e013e8-7623-4494-a347-6d29108ff68b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"route"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"hour"</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="nl">"minute"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="nl">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/plugins?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-plugin">Retrieve Plugin</h3>

<h5 id="retrieve-plugin-1">Retrieve Plugin</h5>

<div class="endpoint get">/plugins/{plugin id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin to retrieve.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3ad71a8-6685-4b03-a101-980a953544f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"route"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"hour"</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="nl">"minute"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="nl">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-plugin">Update Plugin</h3>

<h5 id="update-plugin-1">Update Plugin</h5>

<div class="endpoint patch">/plugins/{plugin id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin to update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>The name of the Plugin thatâ€™s going to be added. Currently the Plugin must be installed in every Kong instance separately.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route</code><br /><em>optional</em></td>
      <td>If set, the plugin will only activate when receiving requests via the specified route. Leave unset for the plugin to activate regardless of the Route being used.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">route.id=&lt;route_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"route":{"id":"&lt;route_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service</code><br /><em>optional</em></td>
      <td>If set, the plugin will only activate when receiving requests via one of the routes belonging to the specified Service. Leave unset for the plugin to activate regardless of the Service being matched.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">service.id=&lt;service_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"service":{"id":"&lt;service_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer</code><br /><em>optional</em></td>
      <td>If set, the plugin will activate only for requests where the specified has been authenticated. (Note that some plugins can not be restricted to consumers this way.). Leave unset for the plugin to activate regardless of the authenticated consumer.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">consumer.id=&lt;consumer_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"consumer":{"id":"&lt;consumer_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">config</code><br /><em>optional</em></td>
      <td>The configuration properties for the Plugin which can be found on the plugins documentation page in the <a href="https://docs.konghq.com/hub/">Kong Hub</a>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">run_on</code></td>
      <td>Control on which Kong nodes this plugin will run, given a Service Mesh scenario. Accepted values are: * <code class="highlighter-rouge">first</code>, meaning â€œrun on the first Kong node that is encountered by the requestâ€. On an API Getaway scenario, this is the usual operation, since there is only one Kong node in between source and destination. In a sidecar-to-sidecar Service Mesh scenario, this means running the plugin only on the Kong sidecar of the outbound connection. * <code class="highlighter-rouge">second</code>, meaning â€œrun on the second node that is encountered by the requestâ€. This option is only relevant for sidecar-to-sidecar Service Mesh scenarios: this means running the plugin only on the Kong sidecar of the inbound connection. * <code class="highlighter-rouge">all</code> means â€œrun on all nodesâ€, meaning both sidecars in a sidecar-to-sidecar scenario. This is useful for tracing/logging plugins.  Defaults to <code class="highlighter-rouge">"first"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">enabled</code><br /><em>optional</em></td>
      <td>Whether the plugin is applied. Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a3ad71a8-6685-4b03-a101-980a953544f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"route"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"service"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"consumer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"hour"</span><span class="p">:</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="nl">"minute"</span><span class="p">:</span><span class="mi">20</span><span class="p">},</span><span class="w">
    </span><span class="nl">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"first"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-plugin">Update or create Plugin</h3>

<h5 id="create-or-update-plugin">Create or update Plugin</h5>

<div class="endpoint put">/plugins/{plugin id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin to create or update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>The name of the Plugin thatâ€™s going to be added. Currently the Plugin must be installed in every Kong instance separately.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">route</code><br /><em>optional</em></td>
      <td>If set, the plugin will only activate when receiving requests via the specified route. Leave unset for the plugin to activate regardless of the Route being used.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">route.id=&lt;route_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"route":{"id":"&lt;route_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">service</code><br /><em>optional</em></td>
      <td>If set, the plugin will only activate when receiving requests via one of the routes belonging to the specified Service. Leave unset for the plugin to activate regardless of the Service being matched.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">service.id=&lt;service_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"service":{"id":"&lt;service_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">consumer</code><br /><em>optional</em></td>
      <td>If set, the plugin will activate only for requests where the specified has been authenticated. (Note that some plugins can not be restricted to consumers this way.). Leave unset for the plugin to activate regardless of the authenticated consumer.  Defaults to <code class="highlighter-rouge">null</code>. With form-encoded, the notation is <code class="highlighter-rouge">consumer.id=&lt;consumer_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"consumer":{"id":"&lt;consumer_id&gt;"}</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">config</code><br /><em>optional</em></td>
      <td>The configuration properties for the Plugin which can be found on the plugins documentation page in the <a href="https://docs.konghq.com/hub/">Kong Hub</a>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">run_on</code></td>
      <td>Control on which Kong nodes this plugin will run, given a Service Mesh scenario. Accepted values are: * <code class="highlighter-rouge">first</code>, meaning â€œrun on the first Kong node that is encountered by the requestâ€. On an API Getaway scenario, this is the usual operation, since there is only one Kong node in between source and destination. In a sidecar-to-sidecar Service Mesh scenario, this means running the plugin only on the Kong sidecar of the outbound connection. * <code class="highlighter-rouge">second</code>, meaning â€œrun on the second node that is encountered by the requestâ€. This option is only relevant for sidecar-to-sidecar Service Mesh scenarios: this means running the plugin only on the Kong sidecar of the inbound connection. * <code class="highlighter-rouge">all</code> means â€œrun on all nodesâ€, meaning both sidecars in a sidecar-to-sidecar scenario. This is useful for tracing/logging plugins.  Defaults to <code class="highlighter-rouge">"first"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">enabled</code><br /><em>optional</em></td>
      <td>Whether the plugin is applied. Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the Plugin under the requested resource with the
definition specified in the body. The Plugin will be identified via the <code class="highlighter-rouge">name
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">name or id</code> attribute has the structure of a UUID, the Plugin being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">name</code>.</p>

<p>When creating a new Plugin without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">name</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-plugin">Delete Plugin</h3>

<h5 id="delete-plugin-1">Delete Plugin</h5>

<div class="endpoint delete">/plugins/{plugin id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">plugin id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Plugin to delete.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h3 id="retrieve-enabled-plugins">Retrieve Enabled Plugins</h3>

<p>Retrieve a list of all installed plugins on the Kong node.</p>

<div class="endpoint get">/plugins/enabled</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled_plugins"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"jwt"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"acl"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cors"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"oauth2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tcp-log"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"udp-log"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"file-log"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"http-log"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"key-auth"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hmac-auth"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"basic-auth"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ip-restriction"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request-transformer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"response-transformer"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"request-size-limiting"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rate-limiting"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"response-ratelimiting"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"aws-lambda"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bot-detection"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"correlation-id"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"datadog"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"galileo"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ldap-auth"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"loggly"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"statsd"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"syslog"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-plugin-schema">Retrieve Plugin Schema</h3>

<p>Retrieve the schema of a pluginâ€™s configuration. This is useful to
understand what fields a plugin accepts, and can be used for building
third-party integrations to the Kongâ€™s plugin system.</p>

<div class="endpoint get">/plugins/schema/{plugin name}</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"fields"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"hide_credentials"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"boolean"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"key_names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"function"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"array"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="certificate-object">Certificate Object</h2>

<p>A certificate object represents a public certificate/private key pair for an SSL
certificate. These objects are used by Kong to handle SSL/TLS termination for
encrypted requests. Certificates are optionally associated with SNI objects to
tie a cert/key pair to one or more hostnames.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91020192-062d-416f-a275-9addeeaffaf2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN RSA PRIVATE KEY-----..."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-certificate">Add Certificate</h3>

<h5 id="create-certificate">Create Certificate</h5>

<div class="endpoint post">/certificates</div>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cert</code></td>
      <td>PEM-encoded public certificate of the SSL key pair.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">key</code></td>
      <td>PEM-encoded private key of the SSL key pair.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">snis</code><br /><em>shorthand-attribute</em></td>
      <td>An array of zero or more hostnames to associate with this certificate as SNIs. This is a sugar parameter that will, under the hood, create an SNI object and associate it with this certificate for your convenience.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91020192-062d-416f-a275-9addeeaffaf2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN RSA PRIVATE KEY-----..."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-certificates">List Certificates</h3>

<h5 id="list-all-certificates">List all Certificates</h5>

<div class="endpoint get">/certificates</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d26761d5-83a4-4f24-ac6c-cff276f2b79c"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN RSA PRIVATE KEY-----..."</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43429efd-b3a5-4048-94cb-5cc4029909bb"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN RSA PRIVATE KEY-----..."</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/certificates?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-certificate">Retrieve Certificate</h3>

<h5 id="retrieve-certificate-1">Retrieve Certificate</h5>

<div class="endpoint get">/certificates/{certificate id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Certificate to retrieve.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91020192-062d-416f-a275-9addeeaffaf2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN RSA PRIVATE KEY-----..."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-certificate">Update Certificate</h3>

<h5 id="update-certificate-1">Update Certificate</h5>

<div class="endpoint patch">/certificates/{certificate id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Certificate to update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cert</code></td>
      <td>PEM-encoded public certificate of the SSL key pair.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">key</code></td>
      <td>PEM-encoded private key of the SSL key pair.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">snis</code><br /><em>shorthand-attribute</em></td>
      <td>An array of zero or more hostnames to associate with this certificate as SNIs. This is a sugar parameter that will, under the hood, create an SNI object and associate it with this certificate for your convenience.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91020192-062d-416f-a275-9addeeaffaf2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
    </span><span class="nl">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN RSA PRIVATE KEY-----..."</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-certificate">Update or create Certificate</h3>

<h5 id="create-or-update-certificate">Create or update Certificate</h5>

<div class="endpoint put">/certificates/{certificate id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Certificate to create or update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cert</code></td>
      <td>PEM-encoded public certificate of the SSL key pair.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">key</code></td>
      <td>PEM-encoded private key of the SSL key pair.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">snis</code><br /><em>shorthand-attribute</em></td>
      <td>An array of zero or more hostnames to associate with this certificate as SNIs. This is a sugar parameter that will, under the hood, create an SNI object and associate it with this certificate for your convenience.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the Certificate under the requested resource with the
definition specified in the body. The Certificate will be identified via the <code class="highlighter-rouge">name
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">name or id</code> attribute has the structure of a UUID, the Certificate being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">name</code>.</p>

<p>When creating a new Certificate without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">name</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-certificate">Delete Certificate</h3>

<h5 id="delete-certificate-1">Delete Certificate</h5>

<div class="endpoint delete">/certificates/{certificate id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the Certificate to delete.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h2 id="sni-object">SNI Object</h2>

<p>An SNI object represents a many-to-one mapping of hostnames to a certificate.
That is, a certificate object can have many hostnames associated with it; when
Kong receives an SSL request, it uses the SNI field in the Client Hello to
lookup the certificate object based on the SNI associated with the certificate.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04fbeacf-a9f1-4a5d-ae4a-b0407445db3f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-sni"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"a9b2107f-a214-47b3-add4-46b942187924"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-sni">Add SNI</h3>

<h5 id="create-sni">Create SNI</h5>

<div class="endpoint post">/snis</div>

<h5 id="create-sni-associated-to-a-specific-certificate">Create SNI associated to a specific Certificate</h5>

<div class="endpoint post">/certificates/{certificate name or id}/snis</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier or the <code class="highlighter-rouge">name</code> attribute of the Certificate that should be associated to the newly-created SNI.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>The SNI name to associate with the given certificate.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate</code></td>
      <td>The id (a UUID) of the certificate with which to associate the SNI hostname  With form-encoded, the notation is <code class="highlighter-rouge">certificate.id=&lt;certificate_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"certificate":{"id":"&lt;certificate_id&gt;"}</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04fbeacf-a9f1-4a5d-ae4a-b0407445db3f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-sni"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"a9b2107f-a214-47b3-add4-46b942187924"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-snis">List SNIs</h3>

<h5 id="list-all-snis">List all SNIs</h5>

<div class="endpoint get">/snis</div>

<h5 id="list-snis-associated-to-a-specific-certificate">List SNIs associated to a specific Certificate</h5>

<div class="endpoint get">/certificates/{certificate name or id}/snis</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier or the <code class="highlighter-rouge">name</code> attribute of the Certificate whose SNIs are to be retrieved. When using this endpoint, only SNIs associated to the specified Certificate will be listed.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d044b7d4-3dc2-4bbc-8e9f-6b7a69416df6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-sni"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"7fca84d6-7d37-4a74-a7b0-93e576089a41"</span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66c7b5c4-4aaf-4119-af1e-ee3ad75d0af4"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-sni"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"02621eee-8309-4bf6-b36b-a82017a5393e"</span><span class="p">}</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/snis?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-sni">Retrieve SNI</h3>

<h5 id="retrieve-sni-1">Retrieve SNI</h5>

<div class="endpoint get">/snis/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the SNI to retrieve.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04fbeacf-a9f1-4a5d-ae4a-b0407445db3f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-sni"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"a9b2107f-a214-47b3-add4-46b942187924"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-sni">Update SNI</h3>

<h5 id="update-sni-1">Update SNI</h5>

<div class="endpoint patch">/snis/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the SNI to update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>The SNI name to associate with the given certificate.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate</code></td>
      <td>The id (a UUID) of the certificate with which to associate the SNI hostname  With form-encoded, the notation is <code class="highlighter-rouge">certificate.id=&lt;certificate_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"certificate":{"id":"&lt;certificate_id&gt;"}</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"04fbeacf-a9f1-4a5d-ae4a-b0407445db3f"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-sni"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"certificate"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"a9b2107f-a214-47b3-add4-46b942187924"</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-sni">Update or create SNI</h3>

<h5 id="create-or-update-sni">Create or update SNI</h5>

<div class="endpoint put">/snis/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the SNI to create or update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>The SNI name to associate with the given certificate.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate</code></td>
      <td>The id (a UUID) of the certificate with which to associate the SNI hostname  With form-encoded, the notation is <code class="highlighter-rouge">certificate.id=&lt;certificate_id&gt;</code>. With JSON, use <code class="highlighter-rouge">"certificate":{"id":"&lt;certificate_id&gt;"}</code>.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the SNI under the requested resource with the
definition specified in the body. The SNI will be identified via the <code class="highlighter-rouge">name
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">name or id</code> attribute has the structure of a UUID, the SNI being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">name</code>.</p>

<p>When creating a new SNI without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">name</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-sni">Delete SNI</h3>

<h5 id="delete-sni-1">Delete SNI</h5>

<div class="endpoint delete">/snis/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the SNI to delete.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h2 id="certificate-authority-object">Certificate Authority Object</h2>

<p>A certificate authority object represents a public CA certificate.
These objects are used by Kong to verify client certificates presented to the mTLS plugin.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"322dce96-d434-4e0d-9038-311b3520f0a3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566597621</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-certificate-authority">Add Certificate Authority</h3>

<h5 id="create-certificate-authority">Create Certificate Authority</h5>

<div class="endpoint post">/ca_certificates</div>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cert</code></td>
      <td>PEM-encoded public CA certificate.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"322dce96-d434-4e0d-9038-311b3520f0a3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566597621</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-certificate-authorities">List Certificate Authorities</h3>

<h5 id="list-all-certificate-authorities">List all Certificate Authorities</h5>

<div class="endpoint get">/ca_certificates</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"322dce96-d434-4e0d-9038-311b3520f0a3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566597621</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43629afd-bda5-4248-94cb-5cc4029909bb"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566597621</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/ca_certificates?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-certificate-authority">Retrieve Certificate Authority</h3>

<h5 id="retrieve-certificate-authority-1">Retrieve Certificate Authority</h5>

<div class="endpoint get">/ca_certificates/{certificate authority id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate authority id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the certificate authority to retrieve.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"322dce96-d434-4e0d-9038-311b3520f0a3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566597621</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-certificate-authority">Update Certificate Authority</h3>

<h5 id="update-certificate-authority-1">Update Certificate Authority</h5>

<div class="endpoint patch">/ca_certificates/{certificate authority id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate authority id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the certificate authority to update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cert</code></td>
      <td>PEM-encoded public CA certificate.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"322dce96-d434-4e0d-9038-311b3520f0a3"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1566597621</span><span class="p">,</span><span class="w">
    </span><span class="nl">"cert"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-----BEGIN CERTIFICATE-----..."</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-certificate-authority">Update or create Certificate Authority</h3>

<h5 id="create-or-update-certificate-authority">Create or update Certificate Authority</h5>

<div class="endpoint put">/ca_certificates/{certificate authority id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate authority id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the certificate authority to create or update.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">cert</code></td>
      <td>PEM-encoded public CA certificate.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the certificate authority under the requested resource with the
definition specified in the body. The certificate authority will be identified via the ` id` attribute.</p>

<p>When creating a new certificate authority without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-certificate-authority">Delete Certificate Authority</h3>

<h5 id="delete-certificate-authority-1">Delete Certificate Authority</h5>

<div class="endpoint delete">/ca_certificates/{certificate authority id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">certificate authority id</code><br /><strong>required</strong></td>
      <td>The unique identifier of the certificate authority to delete.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h2 id="upstream-object">Upstream Object</h2>

<p>The upstream object represents a virtual hostname and can be used to loadbalance
incoming requests over multiple services (targets). So for example an upstream
named <code class="highlighter-rouge">service.v1.xyz</code> for a Service object whose <code class="highlighter-rouge">host</code> is <code class="highlighter-rouge">service.v1.xyz</code>.
Requests for this Service would be proxied to the targets defined within the upstream.</p>

<p>An upstream also includes a <a href="/enterprise/0.35-x/health-checks-circuit-breakers">health checker</a>, which is able to
enable and disable targets based on their ability or inability to serve
requests. The configuration for the health checker is stored in the upstream
object, and applies to all of its targets.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce44eef5-41ed-47f6-baab-f725cecf98c7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-upstream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on_cookie_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"healthchecks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"https_verify_certificate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w"> </span><span class="mi">504</span><span class="p">,</span><span class="w"> </span><span class="mi">505</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"http_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">],</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"https_sni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"concurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"passive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w"> </span><span class="mi">207</span><span class="p">,</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w"> </span><span class="mi">303</span><span class="p">,</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w"> </span><span class="mi">305</span><span class="p">,</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w"> </span><span class="mi">307</span><span class="p">,</span><span class="w"> </span><span class="mi">308</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-upstream">Add Upstream</h3>

<h5 id="create-upstream">Create Upstream</h5>

<div class="endpoint post">/upstreams</div>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>This is a hostname, which must be equal to the <code class="highlighter-rouge">host</code> of a Service.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on</code><br /><em>optional</em></td>
      <td>What to use as hashing input: <code class="highlighter-rouge">none</code> (resulting in a weighted-round-robin scheme with no hashing), <code class="highlighter-rouge">consumer</code>, <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">header</code>, or <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"none"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_fallback</code><br /><em>optional</em></td>
      <td>What to use as hashing input if the primary <code class="highlighter-rouge">hash_on</code> does not return a hash (eg. header is missing, or no consumer identified). One of: <code class="highlighter-rouge">none</code>, <code class="highlighter-rouge">consumer</code>, <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">header</code>, or <code class="highlighter-rouge">cookie</code>. Not available if <code class="highlighter-rouge">hash_on</code> is set to <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"none"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_header</code><br /><em>semi-optional</em></td>
      <td>The header name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_on</code> is set to <code class="highlighter-rouge">header</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_fallback_header</code><br /><em>semi-optional</em></td>
      <td>The header name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">header</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_cookie</code><br /><em>semi-optional</em></td>
      <td>The cookie name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_on</code> or <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">cookie</code>. If the specified cookie is not in the request, Kong will generate a value and set the cookie in the response.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_cookie_path</code><br /><em>semi-optional</em></td>
      <td>The cookie path to set in the response headers. Only required when <code class="highlighter-rouge">hash_on</code> or <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"/"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">slots</code><br /><em>optional</em></td>
      <td>The number of slots in the loadbalancer algorithm (<code class="highlighter-rouge">10</code>-<code class="highlighter-rouge">65536</code>). Defaults to <code class="highlighter-rouge">10000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.https_verify_certificate</code><br /><em>optional</em></td>
      <td>Whether to check the validity of the SSL certificate of the remote host when performing active health checks using HTTPS. Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses to consider a failure, indicating unhealthiness, when returned by a probe in active health checks. Defaults to <code class="highlighter-rouge">[429, 404, 500, 501, 502, 503, 504, 505]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=429&amp;http_statuses[]=404</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.tcp_failures</code><br /><em>optional</em></td>
      <td>Number of TCP failures in active probes to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.timeouts</code><br /><em>optional</em></td>
      <td>Number of timeouts in active probes to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.http_failures</code><br /><em>optional</em></td>
      <td>Number of HTTP failures in active probes (as defined by <code class="highlighter-rouge">healthchecks.active.unhealthy.http_statuses</code>) to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.interval</code><br /><em>optional</em></td>
      <td>Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.http_path</code><br /><em>optional</em></td>
      <td>Path to use in GET HTTP request to run as a probe on active health checks. Defaults to <code class="highlighter-rouge">"/"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.timeout</code><br /><em>optional</em></td>
      <td>Socket timeout for active health checks (in seconds). Defaults to <code class="highlighter-rouge">1</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses to consider a success, indicating healthiness, when returned by a probe in active health checks. Defaults to <code class="highlighter-rouge">[200, 302]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=200&amp;http_statuses[]=302</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.interval</code><br /><em>optional</em></td>
      <td>Interval between active health checks for healthy targets (in seconds). A value of zero indicates that active probes for healthy targets should not be performed. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.successes</code><br /><em>optional</em></td>
      <td>Number of successes in active probes (as defined by <code class="highlighter-rouge">healthchecks.active.healthy.http_statuses</code>) to consider a target healthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.https_sni</code><br /><em>optional</em></td>
      <td>The hostname to use as an SNI (Server Name Identification) when performing active health checks using HTTPS. This is particularly useful when Targets are configured using IPs, so that the target hostâ€™s certificate can be verified with the proper SNI.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.concurrency</code><br /><em>optional</em></td>
      <td>Number of targets to check concurrently in active health checks. Defaults to <code class="highlighter-rouge">10</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.type</code><br /><em>optional</em></td>
      <td>Whether to perform active health checks using HTTP or HTTPS, or just attempt a TCP connection. Possible values are <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code>. Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.http_failures</code><br /><em>optional</em></td>
      <td>Number of HTTP failures in proxied traffic (as defined by <code class="highlighter-rouge">healthchecks.passive.unhealthy.http_statuses</code>) to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses which represent unhealthiness when produced by proxied traffic, as observed by passive health checks. Defaults to <code class="highlighter-rouge">[429, 500, 503]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=429&amp;http_statuses[]=500</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.tcp_failures</code><br /><em>optional</em></td>
      <td>Number of TCP failures in proxied traffic to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.timeouts</code><br /><em>optional</em></td>
      <td>Number of timeouts in proxied traffic to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.type</code><br /><em>optional</em></td>
      <td>Whether to perform passive health checks interpreting HTTP/HTTPS statuses, or just check for TCP connection success. Possible values are <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> (in passive checks, <code class="highlighter-rouge">http</code> and <code class="highlighter-rouge">https</code> options are equivalent.). Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.healthy.successes</code><br /><em>optional</em></td>
      <td>Number of successes in proxied traffic (as defined by <code class="highlighter-rouge">healthchecks.passive.healthy.http_statuses</code>) to consider a target healthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.healthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses which represent healthiness when produced by proxied traffic, as observed by passive health checks. Defaults to <code class="highlighter-rouge">[200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=200&amp;http_statuses[]=201</code>. With JSON, use an Array.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce44eef5-41ed-47f6-baab-f725cecf98c7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-upstream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on_cookie_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"healthchecks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"https_verify_certificate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w"> </span><span class="mi">504</span><span class="p">,</span><span class="w"> </span><span class="mi">505</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"http_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">],</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"https_sni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"concurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"passive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w"> </span><span class="mi">207</span><span class="p">,</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w"> </span><span class="mi">303</span><span class="p">,</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w"> </span><span class="mi">305</span><span class="p">,</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w"> </span><span class="mi">307</span><span class="p">,</span><span class="w"> </span><span class="mi">308</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-upstreams">List Upstreams</h3>

<h5 id="list-all-upstreams">List all Upstreams</h5>

<div class="endpoint get">/upstreams</div>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01c23299-839c-49a5-a6d5-8864c09184af"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-upstream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on_cookie_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"healthchecks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"https_verify_certificate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w"> </span><span class="mi">504</span><span class="p">,</span><span class="w"> </span><span class="mi">505</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"http_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">],</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"https_sni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"concurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"passive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w"> </span><span class="mi">207</span><span class="p">,</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w"> </span><span class="mi">303</span><span class="p">,</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w"> </span><span class="mi">305</span><span class="p">,</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w"> </span><span class="mi">307</span><span class="p">,</span><span class="w"> </span><span class="mi">308</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a4407883-c166-43fd-80ca-3ca035b0cdb7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-upstream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on_cookie_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"healthchecks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"https_verify_certificate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w"> </span><span class="mi">504</span><span class="p">,</span><span class="w"> </span><span class="mi">505</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"http_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">],</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"https_sni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"concurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"passive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w"> </span><span class="mi">207</span><span class="p">,</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w"> </span><span class="mi">303</span><span class="p">,</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w"> </span><span class="mi">305</span><span class="p">,</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w"> </span><span class="mi">307</span><span class="p">,</span><span class="w"> </span><span class="mi">308</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/upstreams?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="retrieve-upstream">Retrieve Upstream</h3>

<h5 id="retrieve-upstream-1">Retrieve Upstream</h5>

<div class="endpoint get">/upstreams/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Upstream to retrieve.</td>
    </tr>
  </tbody>
</table>

<h5 id="retrieve-upstream-associated-to-a-specific-target">Retrieve Upstream associated to a specific Target</h5>

<div class="endpoint get">/targets/{target host:port or id}/upstream</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target host:port or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the host:port of the Target associated to the Upstream to be retrieved.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce44eef5-41ed-47f6-baab-f725cecf98c7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-upstream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on_cookie_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"healthchecks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"https_verify_certificate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w"> </span><span class="mi">504</span><span class="p">,</span><span class="w"> </span><span class="mi">505</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"http_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">],</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"https_sni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"concurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"passive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w"> </span><span class="mi">207</span><span class="p">,</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w"> </span><span class="mi">303</span><span class="p">,</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w"> </span><span class="mi">305</span><span class="p">,</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w"> </span><span class="mi">307</span><span class="p">,</span><span class="w"> </span><span class="mi">308</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-upstream">Update Upstream</h3>

<h5 id="update-upstream-1">Update Upstream</h5>

<div class="endpoint patch">/upstreams/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Upstream to update.</td>
    </tr>
  </tbody>
</table>

<h5 id="update-upstream-associated-to-a-specific-target">Update Upstream associated to a specific Target</h5>

<div class="endpoint patch">/targets/{target host:port or id}/upstream</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target host:port or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the host:port of the Target associated to the Upstream to be updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>This is a hostname, which must be equal to the <code class="highlighter-rouge">host</code> of a Service.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on</code><br /><em>optional</em></td>
      <td>What to use as hashing input: <code class="highlighter-rouge">none</code> (resulting in a weighted-round-robin scheme with no hashing), <code class="highlighter-rouge">consumer</code>, <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">header</code>, or <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"none"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_fallback</code><br /><em>optional</em></td>
      <td>What to use as hashing input if the primary <code class="highlighter-rouge">hash_on</code> does not return a hash (eg. header is missing, or no consumer identified). One of: <code class="highlighter-rouge">none</code>, <code class="highlighter-rouge">consumer</code>, <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">header</code>, or <code class="highlighter-rouge">cookie</code>. Not available if <code class="highlighter-rouge">hash_on</code> is set to <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"none"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_header</code><br /><em>semi-optional</em></td>
      <td>The header name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_on</code> is set to <code class="highlighter-rouge">header</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_fallback_header</code><br /><em>semi-optional</em></td>
      <td>The header name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">header</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_cookie</code><br /><em>semi-optional</em></td>
      <td>The cookie name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_on</code> or <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">cookie</code>. If the specified cookie is not in the request, Kong will generate a value and set the cookie in the response.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_cookie_path</code><br /><em>semi-optional</em></td>
      <td>The cookie path to set in the response headers. Only required when <code class="highlighter-rouge">hash_on</code> or <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"/"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">slots</code><br /><em>optional</em></td>
      <td>The number of slots in the loadbalancer algorithm (<code class="highlighter-rouge">10</code>-<code class="highlighter-rouge">65536</code>). Defaults to <code class="highlighter-rouge">10000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.https_verify_certificate</code><br /><em>optional</em></td>
      <td>Whether to check the validity of the SSL certificate of the remote host when performing active health checks using HTTPS. Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses to consider a failure, indicating unhealthiness, when returned by a probe in active health checks. Defaults to <code class="highlighter-rouge">[429, 404, 500, 501, 502, 503, 504, 505]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=429&amp;http_statuses[]=404</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.tcp_failures</code><br /><em>optional</em></td>
      <td>Number of TCP failures in active probes to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.timeouts</code><br /><em>optional</em></td>
      <td>Number of timeouts in active probes to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.http_failures</code><br /><em>optional</em></td>
      <td>Number of HTTP failures in active probes (as defined by <code class="highlighter-rouge">healthchecks.active.unhealthy.http_statuses</code>) to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.interval</code><br /><em>optional</em></td>
      <td>Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.http_path</code><br /><em>optional</em></td>
      <td>Path to use in GET HTTP request to run as a probe on active health checks. Defaults to <code class="highlighter-rouge">"/"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.timeout</code><br /><em>optional</em></td>
      <td>Socket timeout for active health checks (in seconds). Defaults to <code class="highlighter-rouge">1</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses to consider a success, indicating healthiness, when returned by a probe in active health checks. Defaults to <code class="highlighter-rouge">[200, 302]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=200&amp;http_statuses[]=302</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.interval</code><br /><em>optional</em></td>
      <td>Interval between active health checks for healthy targets (in seconds). A value of zero indicates that active probes for healthy targets should not be performed. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.successes</code><br /><em>optional</em></td>
      <td>Number of successes in active probes (as defined by <code class="highlighter-rouge">healthchecks.active.healthy.http_statuses</code>) to consider a target healthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.https_sni</code><br /><em>optional</em></td>
      <td>The hostname to use as an SNI (Server Name Identification) when performing active health checks using HTTPS. This is particularly useful when Targets are configured using IPs, so that the target hostâ€™s certificate can be verified with the proper SNI.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.concurrency</code><br /><em>optional</em></td>
      <td>Number of targets to check concurrently in active health checks. Defaults to <code class="highlighter-rouge">10</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.type</code><br /><em>optional</em></td>
      <td>Whether to perform active health checks using HTTP or HTTPS, or just attempt a TCP connection. Possible values are <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code>. Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.http_failures</code><br /><em>optional</em></td>
      <td>Number of HTTP failures in proxied traffic (as defined by <code class="highlighter-rouge">healthchecks.passive.unhealthy.http_statuses</code>) to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses which represent unhealthiness when produced by proxied traffic, as observed by passive health checks. Defaults to <code class="highlighter-rouge">[429, 500, 503]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=429&amp;http_statuses[]=500</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.tcp_failures</code><br /><em>optional</em></td>
      <td>Number of TCP failures in proxied traffic to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.timeouts</code><br /><em>optional</em></td>
      <td>Number of timeouts in proxied traffic to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.type</code><br /><em>optional</em></td>
      <td>Whether to perform passive health checks interpreting HTTP/HTTPS statuses, or just check for TCP connection success. Possible values are <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> (in passive checks, <code class="highlighter-rouge">http</code> and <code class="highlighter-rouge">https</code> options are equivalent.). Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.healthy.successes</code><br /><em>optional</em></td>
      <td>Number of successes in proxied traffic (as defined by <code class="highlighter-rouge">healthchecks.passive.healthy.http_statuses</code>) to consider a target healthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.healthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses which represent healthiness when produced by proxied traffic, as observed by passive health checks. Defaults to <code class="highlighter-rouge">[200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=200&amp;http_statuses[]=201</code>. With JSON, use an Array.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ce44eef5-41ed-47f6-baab-f725cecf98c7"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my-upstream"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_fallback"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"hash_on_cookie_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"slots"</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"healthchecks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"active"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"https_verify_certificate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">404</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">501</span><span class="p">,</span><span class="w"> </span><span class="mi">502</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w"> </span><span class="mi">504</span><span class="p">,</span><span class="w"> </span><span class="mi">505</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"http_path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">],</span><span class="w">
                </span><span class="nl">"interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"https_sni"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"concurrency"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="nl">"passive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"unhealthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"http_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">429</span><span class="p">,</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="mi">503</span><span class="p">],</span><span class="w">
                </span><span class="nl">"tcp_failures"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"timeouts"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"healthy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nl">"successes"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="nl">"http_statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">200</span><span class="p">,</span><span class="w"> </span><span class="mi">201</span><span class="p">,</span><span class="w"> </span><span class="mi">202</span><span class="p">,</span><span class="w"> </span><span class="mi">203</span><span class="p">,</span><span class="w"> </span><span class="mi">204</span><span class="p">,</span><span class="w"> </span><span class="mi">205</span><span class="p">,</span><span class="w"> </span><span class="mi">206</span><span class="p">,</span><span class="w"> </span><span class="mi">207</span><span class="p">,</span><span class="w"> </span><span class="mi">208</span><span class="p">,</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">,</span><span class="w"> </span><span class="mi">301</span><span class="p">,</span><span class="w"> </span><span class="mi">302</span><span class="p">,</span><span class="w"> </span><span class="mi">303</span><span class="p">,</span><span class="w"> </span><span class="mi">304</span><span class="p">,</span><span class="w"> </span><span class="mi">305</span><span class="p">,</span><span class="w"> </span><span class="mi">306</span><span class="p">,</span><span class="w"> </span><span class="mi">307</span><span class="p">,</span><span class="w"> </span><span class="mi">308</span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="update-or-create-upstream">Update or create Upstream</h3>

<h5 id="create-or-update-upstream">Create or update Upstream</h5>

<div class="endpoint put">/upstreams/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Upstream to create or update.</td>
    </tr>
  </tbody>
</table>

<h5 id="create-or-update-upstream-associated-to-a-specific-target">Create or update Upstream associated to a specific Target</h5>

<div class="endpoint put">/targets/{target host:port or id}/upstream</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target host:port or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the host:port of the Target associated to the Upstream to be created or updated.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name</code></td>
      <td>This is a hostname, which must be equal to the <code class="highlighter-rouge">host</code> of a Service.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on</code><br /><em>optional</em></td>
      <td>What to use as hashing input: <code class="highlighter-rouge">none</code> (resulting in a weighted-round-robin scheme with no hashing), <code class="highlighter-rouge">consumer</code>, <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">header</code>, or <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"none"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_fallback</code><br /><em>optional</em></td>
      <td>What to use as hashing input if the primary <code class="highlighter-rouge">hash_on</code> does not return a hash (eg. header is missing, or no consumer identified). One of: <code class="highlighter-rouge">none</code>, <code class="highlighter-rouge">consumer</code>, <code class="highlighter-rouge">ip</code>, <code class="highlighter-rouge">header</code>, or <code class="highlighter-rouge">cookie</code>. Not available if <code class="highlighter-rouge">hash_on</code> is set to <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"none"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_header</code><br /><em>semi-optional</em></td>
      <td>The header name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_on</code> is set to <code class="highlighter-rouge">header</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_fallback_header</code><br /><em>semi-optional</em></td>
      <td>The header name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">header</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_cookie</code><br /><em>semi-optional</em></td>
      <td>The cookie name to take the value from as hash input. Only required when <code class="highlighter-rouge">hash_on</code> or <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">cookie</code>. If the specified cookie is not in the request, Kong will generate a value and set the cookie in the response.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">hash_on_cookie_path</code><br /><em>semi-optional</em></td>
      <td>The cookie path to set in the response headers. Only required when <code class="highlighter-rouge">hash_on</code> or <code class="highlighter-rouge">hash_fallback</code> is set to <code class="highlighter-rouge">cookie</code>. Defaults to <code class="highlighter-rouge">"/"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">slots</code><br /><em>optional</em></td>
      <td>The number of slots in the loadbalancer algorithm (<code class="highlighter-rouge">10</code>-<code class="highlighter-rouge">65536</code>). Defaults to <code class="highlighter-rouge">10000</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.https_verify_certificate</code><br /><em>optional</em></td>
      <td>Whether to check the validity of the SSL certificate of the remote host when performing active health checks using HTTPS. Defaults to <code class="highlighter-rouge">true</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses to consider a failure, indicating unhealthiness, when returned by a probe in active health checks. Defaults to <code class="highlighter-rouge">[429, 404, 500, 501, 502, 503, 504, 505]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=429&amp;http_statuses[]=404</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.tcp_failures</code><br /><em>optional</em></td>
      <td>Number of TCP failures in active probes to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.timeouts</code><br /><em>optional</em></td>
      <td>Number of timeouts in active probes to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.http_failures</code><br /><em>optional</em></td>
      <td>Number of HTTP failures in active probes (as defined by <code class="highlighter-rouge">healthchecks.active.unhealthy.http_statuses</code>) to consider a target unhealthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.unhealthy.interval</code><br /><em>optional</em></td>
      <td>Interval between active health checks for unhealthy targets (in seconds). A value of zero indicates that active probes for unhealthy targets should not be performed. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.http_path</code><br /><em>optional</em></td>
      <td>Path to use in GET HTTP request to run as a probe on active health checks. Defaults to <code class="highlighter-rouge">"/"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.timeout</code><br /><em>optional</em></td>
      <td>Socket timeout for active health checks (in seconds). Defaults to <code class="highlighter-rouge">1</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses to consider a success, indicating healthiness, when returned by a probe in active health checks. Defaults to <code class="highlighter-rouge">[200, 302]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=200&amp;http_statuses[]=302</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.interval</code><br /><em>optional</em></td>
      <td>Interval between active health checks for healthy targets (in seconds). A value of zero indicates that active probes for healthy targets should not be performed. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.healthy.successes</code><br /><em>optional</em></td>
      <td>Number of successes in active probes (as defined by <code class="highlighter-rouge">healthchecks.active.healthy.http_statuses</code>) to consider a target healthy. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.https_sni</code><br /><em>optional</em></td>
      <td>The hostname to use as an SNI (Server Name Identification) when performing active health checks using HTTPS. This is particularly useful when Targets are configured using IPs, so that the target hostâ€™s certificate can be verified with the proper SNI.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.concurrency</code><br /><em>optional</em></td>
      <td>Number of targets to check concurrently in active health checks. Defaults to <code class="highlighter-rouge">10</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.active.type</code><br /><em>optional</em></td>
      <td>Whether to perform active health checks using HTTP or HTTPS, or just attempt a TCP connection. Possible values are <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code>. Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.http_failures</code><br /><em>optional</em></td>
      <td>Number of HTTP failures in proxied traffic (as defined by <code class="highlighter-rouge">healthchecks.passive.unhealthy.http_statuses</code>) to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses which represent unhealthiness when produced by proxied traffic, as observed by passive health checks. Defaults to <code class="highlighter-rouge">[429, 500, 503]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=429&amp;http_statuses[]=500</code>. With JSON, use an Array.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.tcp_failures</code><br /><em>optional</em></td>
      <td>Number of TCP failures in proxied traffic to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.unhealthy.timeouts</code><br /><em>optional</em></td>
      <td>Number of timeouts in proxied traffic to consider a target unhealthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.type</code><br /><em>optional</em></td>
      <td>Whether to perform passive health checks interpreting HTTP/HTTPS statuses, or just check for TCP connection success. Possible values are <code class="highlighter-rouge">tcp</code>, <code class="highlighter-rouge">http</code> or <code class="highlighter-rouge">https</code> (in passive checks, <code class="highlighter-rouge">http</code> and <code class="highlighter-rouge">https</code> options are equivalent.). Defaults to <code class="highlighter-rouge">"http"</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.healthy.successes</code><br /><em>optional</em></td>
      <td>Number of successes in proxied traffic (as defined by <code class="highlighter-rouge">healthchecks.passive.healthy.http_statuses</code>) to consider a target healthy, as observed by passive health checks. Defaults to <code class="highlighter-rouge">0</code>.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">healthchecks.passive.healthy.http_statuses</code><br /><em>optional</em></td>
      <td>An array of HTTP statuses which represent healthiness when produced by proxied traffic, as observed by passive health checks. Defaults to <code class="highlighter-rouge">[200, 201, 202, 203, 204, 205, 206, 207, 208, 226, 300, 301, 302, 303, 304, 305, 306, 307, 308]</code>. With form-encoded, the notation is <code class="highlighter-rouge">http_statuses[]=200&amp;http_statuses[]=201</code>. With JSON, use an Array.</td>
    </tr>
  </tbody>
</table>

<p>Inserts (or replaces) the Upstream under the requested resource with the
definition specified in the body. The Upstream will be identified via the <code class="highlighter-rouge">name
or id</code> attribute.</p>

<p>When the <code class="highlighter-rouge">name or id</code> attribute has the structure of a UUID, the Upstream being
inserted/replaced will be identified by its <code class="highlighter-rouge">id</code>. Otherwise it will be
identified by its <code class="highlighter-rouge">name</code>.</p>

<p>When creating a new Upstream without specifying <code class="highlighter-rouge">id</code> (neither in the URL nor in
the body), then it will be auto-generated.</p>

<p>Notice that specifying a <code class="highlighter-rouge">name</code> in the URL and a different one in the request
body is not allowed.</p>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created or HTTP 200 OK
</code></pre></div></div>

<p>See POST and PATCH responses.</p>

<hr />

<h3 id="delete-upstream">Delete Upstream</h3>

<h5 id="delete-upstream-1">Delete Upstream</h5>

<div class="endpoint delete">/upstreams/{name or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Upstream to delete.</td>
    </tr>
  </tbody>
</table>

<h5 id="delete-upstream-associated-to-a-specific-target">Delete Upstream associated to a specific Target</h5>

<div class="endpoint delete">/targets/{target host:port or id}/upstream</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target host:port or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the host:port of the Target associated to the Upstream to be deleted.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h3 id="show-upstream-health-for-node">Show Upstream health for node</h3>

<p>Displays the health status for all Targets of a given Upstream, according to
the perspective of a specific Kong node. Note that, being node-specific
information, making this same request to different nodes of the Kong cluster
may produce different results. For example, one specific node of the Kong
cluster may be experiencing network issues, causing it to fail to connect to
some Targets: these Targets will be marked as unhealthy by that node
(directing traffic from this node to other Targets that it can successfully
reach), but healthy to all others Kong nodes (which have no problems using that
Target).</p>

<p>The <code class="highlighter-rouge">data</code> field of the response contains an array of Target objects.
The health for each Target is returned in its <code class="highlighter-rouge">health</code> field:</p>

<ul>
  <li>If a Target fails to be activated in the ring balancer due to DNS issues,
its status displays as <code class="highlighter-rouge">DNS_ERROR</code>.</li>
  <li>When <a href="/enterprise/0.35-x/health-checks-circuit-breakers">health checks</a> are not enabled in the Upstream
configuration, the health status for active Targets is displayed as
<code class="highlighter-rouge">HEALTHCHECKS_OFF</code>.</li>
  <li>When health checks are enabled and the Target is determined to be healthy,
either automatically or <a href="#set-target-as-healthy">manually</a>,
its status is displayed as <code class="highlighter-rouge">HEALTHY</code>. This means that this Target is
currently included in this Upstreamâ€™s load balancer ring.</li>
  <li>When a Target has been disabled by either active or passive health checks
(circuit breakers) or <a href="#set-target-as-unhealthy">manually</a>,
its status is displayed as <code class="highlighter-rouge">UNHEALTHY</code>. The load balancer is not directing
any traffic to this Target via this Upstream.</li>
</ul>

<div class="endpoint get">/upstreams/{name or id}/health/</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the Upstream for which to display Target health.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"node_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cbb297c0-14a9-46bc-ad91-1d0ef9b42df9"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1485524883980</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18c0ad90-f942-4098-88db-bbee3e43b27f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"health"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HEALTHY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:20000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upstream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07131005-ba30-4204-a29f-0927d53257b4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1485524914883</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c6f34eb-e6c3-4c1f-ac58-4060e5bca890"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"health"</span><span class="p">:</span><span class="w"> </span><span class="s2">"UNHEALTHY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:20002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upstream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07131005-ba30-4204-a29f-0927d53257b4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h2 id="target-object">Target Object</h2>

<p>A target is an ip address/hostname with a port that identifies an instance of a backend
service. Every upstream can have many targets, and the targets can be
dynamically added. Changes are effectuated on the fly.</p>

<p>Because the upstream maintains a history of target changes, the targets cannot
be deleted or modified. To disable a target, post a new one with <code class="highlighter-rouge">weight=0</code>;
alternatively, use the <code class="highlighter-rouge">DELETE</code> convenience method to accomplish the same.</p>

<p>The current target object definition is the one with the latest <code class="highlighter-rouge">created_at</code>.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ec1a1f6f-2aa4-4e58-93ff-b56368f19b27"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upstream"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"ba641b07-e74a-430a-ab46-94b61e5ea66b"</span><span class="p">},</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com:8000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<h3 id="add-target">Add Target</h3>

<h5 id="create-target-associated-to-a-specific-upstream">Create Target associated to a specific Upstream</h5>

<div class="endpoint post">/upstreams/{upstream host:port or id}/targets</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream host:port or id</code><br /><strong>required</strong></td>
      <td>The unique identifier or the <code class="highlighter-rouge">host:port</code> attribute of the Upstream that should be associated to the newly-created Target.</td>
    </tr>
  </tbody>
</table>

<p><em>Request Body</em></p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target</code></td>
      <td>The target address (ip or hostname) and port. If the hostname resolves to an SRV record, the <code class="highlighter-rouge">port</code> value will be overridden by the value from the DNS record.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">weight</code><br /><em>optional</em></td>
      <td>The weight this target gets within the upstream loadbalancer (<code class="highlighter-rouge">0</code>-<code class="highlighter-rouge">1000</code>). If the hostname resolves to an SRV record, the <code class="highlighter-rouge">weight</code> value will be overridden by the value from the DNS record.  Defaults to <code class="highlighter-rouge">100</code>.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 201 Created
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ec1a1f6f-2aa4-4e58-93ff-b56368f19b27"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upstream"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"ba641b07-e74a-430a-ab46-94b61e5ea66b"</span><span class="p">},</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com:8000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div></div>

<hr />

<h3 id="list-targets">List Targets</h3>

<h5 id="list-targets-associated-to-a-specific-upstream">List Targets associated to a specific Upstream</h5>

<div class="endpoint get">/upstreams/{upstream host:port or id}/targets</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream host:port or id</code><br /><strong>required</strong></td>
      <td>The unique identifier or the <code class="highlighter-rouge">host:port</code> attribute of the Upstream whose Targets are to be retrieved. When using this endpoint, only Targets associated to the specified Upstream will be listed.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9aa116fd-ef4a-4efa-89bf-a0b17c4be982"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upstream"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"127dfc88-ed57-45bf-b77a-a9d3a152ad31"</span><span class="p">},</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com:8000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a9daa3ba-8186-4a0d-96e8-00d80ce7240b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1422386534</span><span class="p">,</span><span class="w">
    </span><span class="nl">"upstream"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="s2">"af8330d3-dbdc-48bd-b1be-55b98608834b"</span><span class="p">},</span><span class="w">
    </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"example.com:8000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
</span><span class="p">}],</span><span class="w">

    </span><span class="nl">"next"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:8001/targets?offset=6378122c-a0a1-438d-a5c6-efabae9fb969"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="delete-target">Delete Target</h3>

<p>Disable a target in the load balancer. Under the hood, this method creates
a new entry for the given target definition with a <code class="highlighter-rouge">weight</code> of 0.</p>

<div class="endpoint delete">/upstreams/{upstream name or id}/targets/{host:port or id}</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the upstream for which to delete the target.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">host:port or id</code><br /><strong>required</strong></td>
      <td>The host:port combination element of the target to remove, or the <code class="highlighter-rouge">id</code> of an existing target entry.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h3 id="set-target-as-healthy">Set target as healthy</h3>

<p>Set the current health status of a target in the load balancer to â€œhealthyâ€
in the entire Kong cluster.</p>

<p>This endpoint can be used to manually re-enable a target that was previously
disabled by the upstreamâ€™s <a href="/enterprise/0.35-x/health-checks-circuit-breakers">health checker</a>. Upstreams only
forward requests to healthy nodes, so this call tells Kong to start using this
target again.</p>

<p>This resets the health counters of the health checkers running in all workers
of the Kong node, and broadcasts a cluster-wide message so that the â€œhealthyâ€
status is propagated to the whole Kong cluster.</p>

<div class="endpoint post">/upstreams/{upstream name or id}/targets/{target or id}/healthy</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the upstream.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target or id</code><br /><strong>required</strong></td>
      <td>The host/port combination element of the target to set as healthy, or the <code class="highlighter-rouge">id</code> of an existing target entry.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h3 id="set-target-as-unhealthy">Set target as unhealthy</h3>

<p>Set the current health status of a target in the load balancer to â€œunhealthyâ€
in the entire Kong cluster.</p>

<p>This endpoint can be used to manually disable a target and have it stop
responding to requests. Upstreams only forward requests to healthy nodes, so
this call tells Kong to start skipping this target in the ring-balancer
algorithm.</p>

<p>This call resets the health counters of the health checkers running in all
workers of the Kong node, and broadcasts a cluster-wide message so that the
â€œunhealthyâ€ status is propagated to the whole Kong cluster.</p>

<p><a href="/enterprise/0.35-x/health-checks-circuit-breakers/#active-health-checks">Active health checks</a> continue to execute for unhealthy
targets. Note that if active health checks are enabled and the probe detects
that the target is actually healthy, it will automatically re-enable it again.
To permanently remove a target from the ring-balancer, you should <a href="#delete-target">delete a
target</a> instead.</p>

<div class="endpoint post">/upstreams/{upstream name or id}/targets/{target or id}/unhealthy</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">upstream name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the upstream.</td>
    </tr>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">target or id</code><br /><strong>required</strong></td>
      <td>The host/port combination element of the target to set as unhealthy, or the <code class="highlighter-rouge">id</code> of an existing target entry.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 204 No Content
</code></pre></div></div>

<hr />

<h3 id="list-all-targets">List all Targets</h3>

<p>Lists all targets of the upstream. Multiple target objects for the same
target may be returned, showing the history of changes for a specific target.
The target object with the latest <code class="highlighter-rouge">created_at</code> is the current definition.</p>

<div class="endpoint get">/upstreams/{name or id}/targets/all/</div>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Attributes</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><code class="highlighter-rouge">name or id</code><br /><strong>required</strong></td>
      <td>The unique identifier <strong>or</strong> the name of the upstream for which to list the targets.</td>
    </tr>
  </tbody>
</table>

<p><em>Response</em></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>HTTP 200 OK
</code></pre></div></div>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1485524883980</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18c0ad90-f942-4098-88db-bbee3e43b27f"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:20000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upstream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07131005-ba30-4204-a29f-0927d53257b4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="mi">1485524914883</span><span class="p">,</span><span class="w">
            </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6c6f34eb-e6c3-4c1f-ac58-4060e5bca890"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"target"</span><span class="p">:</span><span class="w"> </span><span class="s2">"127.0.0.1:20002"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upstream_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07131005-ba30-4204-a29f-0927d53257b4"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h2 id="enterprise-exclusive-admin-api">Enterprise Exclusive Admin API</h2>

<div class="docs-grid">
  <div class="docs-grid-block">
    <h3>
        <img src="/assets/images/icons/documentation/icn-window.svg" />
        <a href="/enterprise/0.35-x/admin-api/workspaces/reference">Workspaces</a>
    </h3>
    <p>Segment your cluster into Workspaces for specific teams.</p>
    <a href="/enterprise/0.35-x/admin-api/workspaces/reference">
        View reference &rarr;
    </a>
  </div>

  <div class="docs-grid-block">
    <h3>
        <img src="/assets/images/icons/documentation/icn-window.svg" />
        <a href="/enterprise/0.35-x/admin-api/rbac/reference">RBAC</a>
    </h3>
    <p>Authenticate Kong Admins with Basic Auth, OIDC, LDAP, and Sessions. Authorize Admins with RBAC and Workspaces.</p>
    <a href="/enterprise/0.35-x/admin-api/rbac/reference">
        Learn more &rarr;
    </a>
  </div>

  <div class="docs-grid-block">
    <h3>
        <img src="/assets/images/icons/documentation/icn-window.svg" />
        <a href="/enterprise/0.35-x/admin-api/admins/reference">Admins</a>
    </h3>
    <p>Create and manage Admins for Kong Enterprise</p>
    <a href="/enterprise/0.35-x/admin-api/admins/reference">Learn more &rarr;</a>
  </div>

  <div class="docs-grid-block">
    <h3>
        <img src="/assets/images/icons/documentation/icn-window.svg" />
        <a href="/enterprise/0.35-x/admin-api/vitals">Vitals</a>
    </h3>
    <p>Enable metrics about the health and performance of Kong.</p>
    <a href="/enterprise/0.35-x/admin-api/vitals">Learn more &rarr;</a>
  </div>

  <div class="docs-grid-block">
    <h3>
        <img src="/assets/images/icons/documentation/icn-window.svg" />
        <a href="/enterprise/0.35-x/admin-api/audit-log">Audit Logging</a>
    </h3>
    <p>Generate and view audit logs.</p>
    <a href="/enterprise/0.35-x/admin-api/audit-log">Learn more &rarr;</a>
  </div>
</div>

<hr />



          
        </div>
      </div>
    </div>
  </div>
  <div id="scroll-to-top-button">
    <i class="fas fa-chevron-up"></i>
  </div>
  
  <div class="feedback-widget-container">
  <input id="feedback-widget-checkbox" type="checkbox">
  <label for="feedback-widget-checkbox">
    <i class="fas fa-thumbs-up"></i>
  </label>
  <div class="feedback-container">
    <div class="feedback-thankyou">
      Thank you for your feedback.
    </div>
    <div class="feedback-comment">
      <textarea id="feedback-comment-text" rows="3" placeholder="Please let us know what we can improve on this page..."></textarea>
      <div class="feedback-comment-buttons">
        <button id="feedback-comment-button-back">Back</button>
        <button id="feedback-comment-button-submit" class="button-primary">Submit</button>
      </div>
    </div>
    <div class="feedback-options">
      <div class="feedback-options-title">Was this page useful?</div>
      <div class="feedback-options-buttons">
        <i data-feedback-result="yes" class="feedback-options-button far fa-thumbs-up"></i>
        <i data-feedback-result="no" class="feedback-options-button far fa-thumbs-down"></i>
      </div>
    </div>
  </div>
</div>

  
</div>
<style>
  @media (max-width: 768px) {
    .algolia-docsearch-suggestion--subcategory-column{
      display: none !important;
    }
  }
</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>




<script type="text/javascript">
  docsearch({
    appId: 'T5JKD83LWT',
    apiKey: '1390283021f26e36117242934deb8d9d',
    indexName: 'prod_EE',
    inputSelector: '#getkong-algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 5,
      'facetFilters': ["version: 0.35-x"]
    },
    // Override selected event to allow for local environment navigation
    handleSelected: function (input, event, suggestion) {
      input.setVal('');
      window.location.href = window.location.protocol + "//" + window.location.host + suggestion.url.split(
        "docs.konghq.com")[1]
    }
    // ,debug: true // Set debug to true if you want to inspect the dropdown
  });

</script>


<div id="image-modal" data-image-expand-disabled="">
  <div class="image-modal-backdrop"></div>
  <div class="image-container">
    <img src="" alt="image">
    <i class="fa fa-times"></i>
  </div>
</div>



    <footer class="marketing-footer--light-gray">
  <section>
    <ul class="newsletter">
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/Kogo-gradient.svg" alt="Kong" />
        </div>
        <div class="form">
          <iframe
            src="https://go.konghq.com/l/392112/2019-02-14/bhxq9c"
            width="100%"
            height="60"
            type="text/html"
            frameborder="0"
            allowTransparency="true"
            scrolling="no"
            style="overflow: hidden; border: 0;"
          ></iframe>
        </div>
        <div class="social">
          <div class="social-link">
            <a href="https://www.facebook.com/konghq/" title="Facebook"
              ><i
                aria-label="Facebook"
                class="fa fa-facebook-official"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://twitter.com/thekonginc" title="Twitter"
              ><i
                aria-label="Twitter"
                class="fa fa-twitter"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"
              ><i
                aria-label="Meetup"
                class="fa fa-meetup"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a href="https://linkedin.com/company/278819" title="LinkedIn"
              ><i
                aria-label="GitHub"
                class="fa fa-linkedin"
                aria-hidden="true"
              ></i
            ></a>
          </div>
          <div class="social-link">
            <a
              href="https://github.com/kong/kong"
              target="blank"
              class="btn-gh"
            >
              <i
                class="fa fa-github"
                aria-hidden="true"
                aria-label="GitHub"
              ></i>
              Star
            </a>
          </div>
        </div>
      </li>
      <li>
        <nav>
          <h5>Products</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/kong/?itm_source=website&itm_medium=footer-nav"
                >Kong Gateway</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/kong-enterprise/?itm_source=website&itm_medium=footer-nav"
                >Kong Enterprise</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/get-started/?itm_source=website&itm_medium=footer-nav"
                >Get Started</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/subscriptions/?itm_source=website&itm_medium=footer-nav"
                >Subscriptions</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Resources</h5>
          <ul>
            <li>
              <a
                href="https://konghq.com/resources/?content=ebooks&itm_source=website&itm_medium=footer-nav"
                target="blank"
                >eBooks</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/resources/?content=webinarss&itm_source=website&itm_medium=footer-nav"
                >Webinars</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/resources/?content=whitepaper,datasheet,case-studies&itm_source=website&itm_medium=footer-nav"
                >Briefs</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/blog/?content=webinars&itm_source=website&itm_medium=footer-nav"
                >Blog</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/learning-center/api-gateway/?itm_source=website&itm_medium=footer-nav"
                >API Gateway</a
              >
            </li>
            <li>
              <a
                href="https://konghq.com/learning-center/microservices/?itm_source=website&itm_medium=footer-nav"
                >Microservices</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Company</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/about-kong-inc/?itm_source=website&itm_medium=footer-nav"
                >About</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/customers/?itm_source=website&itm_medium=footer-nav"
                >Customers</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/investors/?itm_source=website&itm_medium=footer-nav"
                >Investors</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/careers/?itm_source=website&itm_medium=footer-nav"
                >Careers <span>Hiring!</span></a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/partners/?itm_source=website&itm_medium=footer-nav"
                >Partners</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/press-room/?itm_source=website&itm_medium=footer-nav"
                >Press</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/contact/?itm_source=website&itm_medium=footer-nav"
                >Contact</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/kong-summit/?itm_source=website&itm_medium=footer-nav"
                >Kong Summit</a
              >
            </li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h5>Open Source</h5>
          <ul>
            <li>
              <a
                href="http://konghq.com/install/?itm_source=website&itm_medium=footer-nav"
                >Install Kong Gateway</a
              >
            </li>
            <li>
              <a
                href="http://konghq.com/community/?itm_source=website&itm_medium=footer-nav"
                >Kong Community</a
              >
            </li>
            <li>
              <a
                href="https://github.com/Kong/kubernetes-ingress-controller/?itm_source=website&itm_medium=footer-nav"
                >Kubernetes Ingress</a
              >
            </li>
            <li>
              <a
                href="https://kuma.io/?itm_source=website&itm_medium=footer-nav"
                >Kuma</a
              >
            </li>
            <li>
              <a
                href="https://insomnia.rest/?itm_source=website&itm_medium=footer-nav"
                >Insomnia</a
              >
            </li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content"
          >&copy; Kong Inc. 2020 &nbsp;
          <a href="http://konghq.com/terms/">Terms</a><b>â€¢</b
          ><a href="http://konghq.com/privacy/">Privacy</a></span
        >
      </li>
    </ul>
  </section>

  <script type="text/javascript">
    function onSubmit(response) {
      document.getElementById("subscription_form").submit();
      document.getElementById("follow_up_subscription_form").submit();
      if (response.length == 0) {
        alert("reCaptcha verification failed");
      }
    }
  </script>
</footer>
 <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var className =
        ".show-anchor-links h1, .show-anchor-links h2, .show-anchor-links h3, " +
        ".show-anchor-links h4, .show-anchor-links h5, .show-anchor-links h6";
      var headers = document.querySelectorAll(className);

      for (var i = 0; i < headers.length; i++) {
        var header = headers[i];
        if (typeof header.id !== "undefined" && header.id !== "") {
          header.prepend(anchorForId(header.id));
        }
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1591209063"></script>

    <div id="fb-root"></div>

    <script
      src="https://2tjosk2rxzc21medji3nfn1g-wpengine.netdna-ssl.com/wp-content/themes/konghq/assets/js/vendor/bootstrap.min.js"
      async
      defer
    ></script>

    <script
      id="github-bjs"
      src="https://buttons.github.io/buttons.js"
      async
      defer
    ></script>
    <script
      id="twitter-wjs"
      type="text/javascript"
      src="https://platform.twitter.com/widgets.js"
      async
      defer
    ></script>
    <script
      id="facebook-jssdk"
      type="text/javascript"
      src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506"
      async
      defer
    ></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load() {
          var s = document.createElement('script');
          s.type = 'text/javascript';
          s.src =
            ('https:' == document.location.protocol
              ? 'https://pi'
              : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0];
          c.parentNode.insertBefore(s, c);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', async_load);
        } else {
          window.addEventListener('load', async_load, false);
        }
      })();
    </script>

    <script type="text/javascript">
      var _vwo_code = (function() {
        var account_id = 125292,
          settings_tolerance = 2000,
          library_tolerance = 2500,
          use_existing_jquery = true,
          // DO NOT EDIT BELOW THIS LINE
          f = false,
          d = document;
        return {
          use_existing_jquery: function() {
            return use_existing_jquery;
          },
          library_tolerance: function() {
            return library_tolerance;
          },
          finish: function() {
            if (!f) {
              f = true;
              var a = d.getElementById('_vis_opt_path_hides');
              if (a) a.parentNode.removeChild(a);
            }
          },
          finished: function() {
            return f;
          },
          load: function(a) {
            var b = d.createElement('script');
            b.src = a;
            b.type = 'text/javascript';
            b.innerText;
            b.onerror = function() {
              _vwo_code.finish();
            };
            d.getElementsByTagName('head')[0].appendChild(b);
          },
          init: function() {
            settings_timer = setTimeout(
              '_vwo_code.finish()',
              settings_tolerance
            );
            this.load(
              '//dev.visualwebsiteoptimizer.com/j.php?a=' +
                account_id +
                '&u=' +
                encodeURIComponent(d.URL) +
                '&r=' +
                Math.random()
            );
            var a = d.createElement('style'),
              b = '',
              h = d.getElementsByTagName('head')[0];
            a.setAttribute('id', '_vis_opt_path_hides');
            a.setAttribute('type', 'text/css');
            if (a.styleSheet) a.styleSheet.cssText = b;
            else a.appendChild(d.createTextNode(b));
            h.appendChild(a);
            return settings_timer;
          }
        };
      })();
      _vwo_settings_timer = _vwo_code.init();
    </script>

    <script type="text/javascript">
      !(function() {
        var analytics = (window.analytics = window.analytics || []);
        if (!analytics.initialize)
          if (analytics.invoked)
            window.console &&
              console.error &&
              console.error('Segment snippet included twice.');
          else {
            analytics.invoked = !0;
            analytics.methods = [
              'trackSubmit',
              'trackClick',
              'trackLink',
              'trackForm',
              'pageview',
              'identify',
              'group',
              'track',
              'ready',
              'alias',
              'page',
              'once',
              'off',
              'on'
            ];
            analytics.factory = function(t) {
              return function() {
                var e = Array.prototype.slice.call(arguments);
                e.unshift(t);
                analytics.push(e);
                return analytics;
              };
            };
            for (var t = 0; t < analytics.methods.length; t++) {
              var e = analytics.methods[t];
              analytics[e] = analytics.factory(e);
            }
            analytics.load = function(t) {
              var e = document.createElement('script');
              e.type = 'text/javascript';
              e.async = !0;
              e.src =
                ('https:' === document.location.protocol
                  ? 'https://'
                  : 'http://') +
                'cdn.segment.com/analytics.js/v1/' +
                t +
                '/analytics.min.js';
              var n = document.getElementsByTagName('script')[0];
              n.parentNode.insertBefore(e, n);
            };
            analytics.SNIPPET_VERSION = '3.0.1';
            analytics.load('WDj0nSS7hpyxwL3evgbOzK755s0NUye6');
            analytics.page();
          }
      })();
    </script>

    <script>
      // Collapse Toggler
      $('button[data-toggle="kong-expand"]').on('click', function(e) {
        e.stopPropagation();
        var $this = $(this);
        $('#oss_subnav.expand').toggleClass('slideup');
        $($this.data('target')).toggleClass('kong-navbar-collapse--expand');
        $('nav.navbar.full-width').toggleClass('kong-navbar-collapse--expand');
        $this.toggleClass('active').attr('aria-expanded', true);
        $('.kong-navbar-collapse_section').removeClass('shift');
        $('.subnav, .trigger, .remove').removeClass('active');
        setTimeout(function() {
          $('#menu-primary-nav li').removeClass('active');
          $('.active-tab').removeClass('active-tab');
        }, 100);
      });

      var $window = $(window);

      function checkWidth() {
        var windowsize = $window.width();
        if (windowsize > 1080) {
          $('.navbar').removeClass('mobile-triggers');
          $('#menu-primary-nav li').removeClass('active');
          $('.active-tab').removeClass('active-tab');
        } else {
          $('.navbar').addClass('mobile-triggers');
        }
      }
      // Execute on load
      checkWidth();
      // Bind event listener
      $(window).resize(checkWidth);

      $('#menu-primary-nav .nav1 > a').click(function() {
        if ($('nav.navbar').hasClass('mobile-triggers')) {
          event.preventDefault();
          $('.nav3').removeClass('active');
          var position = $(this)
            .parent()
            .position();
          $(this)
            .parent()
            .toggleClass('active');
          $('body')
            .get(0)
            .style.setProperty(
              '--navPosition',
              (position.top - 75) * -1 + 'px'
            );
          $(this)
            .parent()
            .parent()
            .toggleClass('active-tab');
        }
      });

      $('#menu-primary-nav .nav3 > a').click(function() {
        if ($('nav.navbar').hasClass('mobile-triggers')) {
          event.preventDefault();
          $(this)
            .parent()
            .toggleClass('active');
        }
      });
    </script>
  </body>

  
</html>
