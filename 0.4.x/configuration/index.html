<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Configuration Reference - v0.4.x | Kong - Open-Source API Management and Microservice Management</title>
  <meta name="description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="author" content="KongHQ"/>
  <meta property="og:title" content="Open-Source API Management and Microservice Management"/>
  <meta property="og:site_name" content="Kong"/>
  <!-- use share link for facebook -->
  <meta property="og:url" content="https://docs.konghq.com"/>
  <meta property="og:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more."/>
  <meta property="og:type" content="website"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:image" content="https://docs.konghq.com/assets/images/share.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@thekonginc"/>
  <meta name="twitter:creator" content="@thekonginc"/>
  <meta name="twitter:url" content="https://docs.konghq.com"/>
  <meta name="twitter:description" content="Secure, Manage &amp; Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="twitter:image" content="https://docs.konghq.com/assets/images/share.png">
  <meta property="fb:admins" content="227304446"/>
  <meta property="fb:admins" content="576641408"/>
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"/>

  <!-- New Relic -->
  <script>
/* eslint-disable */
window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(15),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{d?d-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(16),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,d=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(l){"stack"in l&&(t(8),t(7),"addEventListener"in window&&t(5),s.xhrWrappable&&t(9),u=!0)}c.on("fn-start",function(t,e,n){u&&(d+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&d>0&&(d-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(8),c=t(7),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",d="bstResource",l="resource",p="-start",h="-end",m="fn"+p,w="fn"+h,v="bstTimer",y="pushState";t("loader").features.stn=!0,t(6);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=Date.now())}),o.on(w,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,Date.now()])}),a.on(m,function(t,e,n){this.bstStart=Date.now(),this.bstType=n}),a.on(w,function(t,e){i(v,[e,this.bstStart,Date.now(),this.bstType])}),c.on(m,function(){this.bstStart=Date.now()}),c.on(w,function(t,e){i(v,[e,this.bstStart,Date.now(),"requestAnimationFrame"])}),o.on(y+p,function(t){this.time=Date.now(),this.startPath=location.pathname+location.hash}),o.on(y+h,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(d,[window.performance.getEntriesByType(l)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,{passive:!0}),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],5:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,d],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(17)(a,!0),s=t("gos"),f=XMLHttpRequest,u="addEventListener",d="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){var n=t[1],r=s(n,"nr@wrapped",function(){function t(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)}var e={object:t,"function":n}[typeof n];return e?c(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=t[1]=r}),a.on(d+"-start",function(t){t[1]=this.wrapped||t[1]})},{}],6:[function(t,e,n){var r=t("ee").get("history"),o=t(17)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(t,e,n){var r=t("ee").get("raf"),o=t(17)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],8:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(17)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",d="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+d),a.inPlace(window,[s],s+d),a.inPlace(window,[f,"clearImmediate"],f+d),i.on(s+u,r),i.on(c+u,o)},{}],9:[function(t,e,n){function r(t,e){d.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),d.inPlace(t,w,"fn-",c)}function i(t){v.push(t),h&&(g=-g,b.data=g)}function a(){for(var t=0;t<v.length;t++)r([],v[t]);v.length&&(v=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(5);var f=t("ee"),u=f.get("xhr"),d=t(17)(u),l=NREUM.o,p=l.XHR,h=l.MO,m="readystatechange",w=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],v=[];e.exports=u;var y=window.XMLHttpRequest=function(t){var e=new p(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(p,y),y.prototype=p.prototype,d.inPlace(y.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),h){var g=1,b=document.createTextNode(g);new h(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],10:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<d;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return h(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(11),f=t("ee"),u=["load","error","abort","timeout"],d=u.length,l=t("id"),p=t(14),h=t(13),m=window.XMLHttpRequest;a.features.xhr=!0,t(9),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,p&&(p>34||p<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=h(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<d;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+l(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],11:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],12:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(15),c=t(16),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(u,function(t,e){f[e]=o(d+e,!0,"api")}),f.addPageAction=o(d+"addPageAction",!0),f.setCurrentRouteName=o(d+"routeName",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var p=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(l+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){p[e]=o(l+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],13:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],14:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],15:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],16:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],17:[function(t,e,n){function r(t){return!(t&&t instanceof Function&&t.apply&&!t[a])}var o=t("ee"),i=t(16),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t,e){function n(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(f){l([f,"",[r,a,o],c])}u(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(d){throw u(e+"err",[r,a,d],c),d}finally{u(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,d(t,nrWrapper),nrWrapper)}function f(t,e,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<e.length;s++)c=e[s],a=t[c],r(a)||(t[c]=n(a,f?c+o:o,i,c))}function u(n,r,o){if(!s||e){var i=s;s=!0;try{t.emit(n,r,o)}catch(a){l([a,n,r,o])}s=i}}function d(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){l([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function l(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),n.inPlace=f,n.flag=a,n}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?s(t,c,i):i()}function n(n,r,o){if(!l.aborted){t&&t(n,r,o);for(var i=e(o),a=h(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var f=u[y[n]];return f&&f.push([g,n,r,i]),i}}function p(t,e){v[t]=h(t).concat(e)}function h(t){return v[t]||[]}function m(t){return d[t]=d[t]||o(n)}function w(t,e){f(t,function(t,n){e=e||"feature",y[n]=e,e in u||(u[e]=[])})}var v={},y={},g={on:p,emit:n,get:m,listeners:h,context:e,buffer:w,abort:a,aborted:!1};return g}function i(){return new r}function a(){(u.api||u.feature)&&(l.aborted=!0,u=l.backlog={})}var c="nr@context",s=t("gos"),f=t(15),u={},d={},l=e.exports=o();l.backlog=u},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!b++){var t=g.info=NREUM.info,e=d.getElementsByTagName("script")[0];if(setTimeout(f.abort,3e4),!(t&&t.licenseKey&&t.applicationID&&e))return f.abort();s(v,function(e,n){t[e]||(t[e]=n)}),c("mark",["onload",a()],null,"api");var n=d.createElement("script");n.src="https://"+t.agent,e.parentNode.insertBefore(n,e)}}function o(){"complete"===d.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(15),f=t("ee"),u=window,d=u.document,l="addEventListener",p="attachEvent",h=u.XMLHttpRequest,m=h&&h.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:h,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver},t(12);var w=""+location,v={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1016.min.js"},y=h&&m&&m[l]&&!/CriOS/.test(navigator.userAgent),g=e.exports={offset:a(),origin:w,features:{},xhrWrappable:y};d[l]?(d[l]("DOMContentLoaded",i,!1),u[l]("load",r,!1)):(d[p]("onreadystatechange",o),u[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var b=0},{}]},{},["loader",2,10,4,3]);
;NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"13e44ec848",applicationID:"46444088",sa:1}
</script>


  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "KongHQ",
      "url": "https://docs.konghq.com",
      "logo": "https://docs.konghq.com/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/konginc",
        "https://twitter.com/thekonginc",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>

  <!-- Preload assets -->
  <link rel="dns-prefetch" href="//cloud.typography.com">
  <link rel="dns-prefetch" href="//dev.visualwebsiteoptimizer.com">
  <link rel="dns-prefetch" href="//cdn.segment.com">
  ##gulp-resource-hints##

  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <link rel="stylesheet" href="/assets/styles.css?v=1530848338"/>
</head>


  <body id="" >
    <header class="site-header">
  <div class="enterprise">
    <div class="cookie-policy-container">
      <p>In order to give you better service we use cookies. By continuing to use our website, you agree to the use of cookies as described in our <a href=" https://konghq.com/cookie-policy/">Cookie Policy</a>
      <button class="cookie-policy-accept button button-dark" type="submit">I agree</button>
    </div>
    <div class="container">
      <nav class="enterprise-sites one-half column">
        <ul>
          <li>
            <a href="https://konghq.com/kong-enterprise-edition">Enterprise</a>
          </li>
          <li>
            <a href="https://konghq.com/kong-community-edition">Kong API Gateway</a>
          </li>
        </ul>
      </nav>
      <nav class="enterprise-contact one-half column">
        <ul>
          <li>
            <a href="https://support.konghq.com/">Support</a>
          </li>
          <li>
            <a href="https://konghq.com/request-demo">Request Demo</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <!-- .enterprise -->
  <div class="navbar">
    <div class="container">
      <a href="/" class="navbar-brand">
        <!-- <img src="/assets/images/branding.svg" alt="Kong" width="99" height="32"> -->
        <img src="/assets/images/Kogo.svg" alt="Kong">
      </a>
      <iframe class="header-star" src="https://ghbtns.com/github-btn.html?user=Kong&amp;repo=kong&amp;type=star" frameborder="0"
        scrolling="0" width="55" height="20"></iframe>
      <button data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar" class="navbar-toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <nav id="navbar" class="navbar-nav">
        <ul>
          <li>
            <a href="/" class="active">Docs</a>
          </li>
          <li>
            <a href="https://konghq.com/about-kong-inc/">About</a>
          </li>
          <li>
            <a href="https://konghq.com/plugins">Plugins</a>
          </li>
          <li>
            <a href="https://konghq.com/community-resources/">Community</a>
          </li>
          <li>
            <a href="https://konghq.com/kong-enterprise-edition/">Enterprise</a>
          </li>
          <li>
            <a href="https://github.com/Kong/kong" target="_blank">GitHub</a>
          </li>
          <li class="hidden-lg">
            <a href="https://support.konghq.com/">Support</a>
          </li>
          <li>
            <a href="https://konghq.com/install" class="button button-dark" data-analytics='{"event": "Clicked download", "type": "button", "location": "header"}'>Installation</a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
  <!-- .navbar -->
</header>


    <div class="page ">
  <header class="page-header">
    <div class="container">
        <div class="edit-this-page">
            <a target="_blank" href="https://github.com/Kong/docs.konghq.com/tree/master/app/0.4.x/configuration.md"><i class="fa fa-github"></i> Edit this Page</a>
          </div>
      <nav class="docs-navigation">
        <a href="/"  class="active">Kong Community Edition (CE)</a>
        <a href="/enterprise" >Kong Enterprise Edition (EE)</a>
      </nav>
      <div class="page-header-icon">
        <img src="/assets/images/icons/icn-documentation-ce.svg" alt="Documentation" />
      </div>
      <div class="page-header-title">
        <p>Documentation</p>
        <h1></h1>
        <h1>Community Edition (0.4.x)</h1>
      </div>

      
        <div class="dropdown page-header-right">
          <button class="page-header-btn" id="version-dropdown" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            Version 0.4.x
            
            <span class="caret"></span>
          </button>

          <ul class="dropdown-menu dropdown-menu-right" role="menu" aria-labelledby="version-dropdown">
            
              
                <li>
                  <a href="/0.14.x">
                    0.14.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.13.x">
                    0.13.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.12.x">
                    0.12.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.11.x">
                    0.11.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.10.x">
                    0.10.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.9.x">
                    0.9.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.8.x">
                    0.8.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.7.x">
                    0.7.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.6.x">
                    0.6.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.5.x">
                    0.5.x
                  </a>
                </li>
              
            
              
            
              
                <li>
                  <a href="/0.3.x">
                    0.3.x
                  </a>
                </li>
              
            
              
                <li>
                  <a href="/0.2.x">
                    0.2.x
                  </a>
                </li>
              
            
          </ul>
          
          <div id="getkong-algolia-search" class="search-input">
            <i class="fa fa-search"></i>
            <input type="text" placeholder="Search" id="getkong-algolia-search-input" />
          </div>
          
        </div>
      
    </div>
  </header>

  <div class="container">
    <aside class="page-navigation">
      

      

      
      <nav>
        
          <h5>Getting Started</h5>
        
        <ul>
          
          
          <li>
            <a href="/0.4.x/getting-started/introduction" >
              Introduction
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/getting-started/quickstart" >
              Five-minute quickstart
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/getting-started/adding-your-api" >
              Adding your API
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/getting-started/enabling-plugins" >
              Enabling Plugins
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/getting-started/adding-consumers" >
              Adding Consumers
            </a>
            
          </li>
          
        </ul>
      </nav>
      
      <nav>
        
          <h5>Guides</h5>
        
        <ul>
          
          
          <li>
            <a href="/0.4.x/configuration" class="active">
              Configuration reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/cli" >
              CLI reference
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/proxy" >
              Proxy reference
            </a>
            
          </li>
          
        </ul>
      </nav>
      
      <nav>
        
          <a href="/0.4.x/admin-api/"><h5>Admin API</h5></a>
        
        <ul>
          
          
          <li>
            <a href="/0.4.x/admin-api/#supported-content-types" >
              Supported Content Types
            </a>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/admin-api/#information-routes" >
              Information routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.4.x/admin-api/#retrieve-node-information" >Retrieve node information</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#retrieve-node-status" >Retrieve node status</a>
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/admin-api/#api-object" >
              API Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.4.x/admin-api/#add-api" >Add API</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#retrieve-api" >Retrieve API</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#list-apis" >List APIs</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#update-api" >Update API</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#update-or-create-api" >Update or create API</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#delete-api" >Delete API</a>
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/admin-api/#consumer-object" >
              Consumer Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.4.x/admin-api/#create-consumer" >Create Consumer</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#retrieve-consumer" >Retrieve Consumer</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#list-consumers" >List Consumers</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#update-consumer" >Update Consumer</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#update-or-create-consumer" >Update or create Consumer</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#delete-consumer" >Delete Consumer</a>
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/admin-api/#plugin-object" >
              Plugin Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.4.x/admin-api/#retrieve-installed-plugins" >Retrieve Installed Plugins</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#retrieve-plugin-schema" >Retrieve Plugin Schema</a>
              </li>
              
            </ul>
            
          </li>
          
          
          <li>
            <a href="/0.4.x/admin-api/#plugin-configuration-object" >
              Plugin Configuration Object routes
            </a>
            
            <ul>
              
              
              <li>
                <a href="/0.4.x/admin-api/#create-plugin-configuration" >Create Plugin Configuration</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#list-per-api-plugin-configurations" >List per-API Plugin Configurations</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#list-all-plugin-configurations" >List all Plugin Configurations</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#update-plugin-configuration" >Update Plugin Configuration</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#update-or-create-plugin-configuration" >Update or create Plugin Configuration</a>
              </li>
              
              
              <li>
                <a href="/0.4.x/admin-api/#delete-plugin-configuration" >Delete Plugin Configuration</a>
              </li>
              
            </ul>
            
          </li>
          
        </ul>
      </nav>
      
    </aside>

    <div class="page-content-container" id="documentation">
      <div class="page-content">
        <div class="content">
          
            <div class="alert alert-ee">
              Maybe you were looking for the <a href="/enterprise"><strong>Enterprise Edition (EE) Documentation</strong></a> instead?
            </div>
          
          
          <div class="alert alert-warning">
            <strong>Careful!</strong> You are browsing documentation for an outdated version of Kong. Go <a href="/latest">here</a> to browse the documentation for the latest version.
          </div>
          

          <h1 id="configuration-reference">Configuration Reference</h1>

<p>The Kong configuration file is a <a href="http://yaml.org">YAML</a> file that can be specified when using Kong through the <a href="/0.4.x/cli">CLI</a>. This file allows you
to configure and customize Kong to your needs. From the ports it uses, the database it conncts to, and even the internal NGINX server itself.</p>

<h2 id="where-should-i-place-my-configuration-file">Where should I place my configuration file?</h2>

<p>When using Kong, you can specify the location of your configuration file from any command using the <code>-c</code> argument. See the <a href="/0.4.x/cli">CLI reference</a> for more information.</p>

<p>However, when no configuration file is passed to Kong, it will look under <code>/etc/kong/kong.yml</code> for a fallback configuration file. Should no file be present in this location, Kong will then load a default configuration from its Luarocks install path.</p>

<h2 id="property-reference">Property Reference</h2>

<p>This reference describes every property defined in a typical configuration file and their default values.</p>

<p>They are all <strong>required</strong>.</p>

<h3 id="summary">Summary</h3>

<ul>
<li><a href="#proxy_port"><strong>proxy_port</strong></a></li>
<li><a href="#proxy_ssl_port"><strong>proxy_ssl_port</strong></a></li>
<li><a href="#admin_api_port"><strong>admin_api_port</strong></a></li>
<li><a href="#dnsmasq_port"><strong>dnsmasq_port</strong></a></li>
<li><a href="#nginx_working_dir"><strong>nginx_working_dir</strong></a></li>
<li><a href="#plugins_available"><strong>plugins_available</strong></a></li>
<li><a href="#send_anonymous_reports"><strong>send_anonymous_reports</strong></a></li>
<li><a href="#databases_available"><strong>databases_available</strong></a></li>
<li><a href="#database"><strong>database</strong></a></li>
<li><a href="#database_cache_expiration"><strong>database_cache_expiration</strong></a></li>
<li><a href="#ssl_cert_path"><strong>ssl_cert_path</strong></a></li>
<li><a href="#ssl_key_path"><strong>ssl_key_path</strong></a></li>
<li><a href="#memory_cache_size"><strong>memory_cache_size</strong></a></li>
<li><a href="#nginx"><strong>nginx</strong></a></li>
</ul>

<hr>

<h3 id="proxy_port"><strong>proxy_port</strong></h3>

<p>Port which Kong proxies requests through, developers using your API will make requests against this port.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">proxy_port</span><span class="pi">:</span> <span class="s">8000</span>
</code></pre></div>
<hr>

<h3 id="proxy_ssl_port"><strong>proxy_ssl_port</strong></h3>

<p>Port which Kong proxies requests through under <code>https</code>, developers using your API will make requests against this port.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">proxy_ssl_port</span><span class="pi">:</span> <span class="s">8443</span>
</code></pre></div>
<hr>

<h3 id="admin_api_port"><strong>admin_api_port</strong></h3>

<p>Port which the <a href="/0.4.x/admin-api/">RESTful Admin API</a> is served through.</p>

<p><strong>Note:</strong> This port is used to manage your Kong instances, therefore it should be placed behind a firewall
or closed off network to ensure security.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">admin_api_port</span><span class="pi">:</span> <span class="s">8001</span>
</code></pre></div>
<hr>

<h3 id="dnsmasq_port"><strong>dnsmasq_port</strong></h3>

<p>Port where <a href="http://www.thekelleys.org.uk/dnsmasq/doc.html">Dnsmasq</a> will listen to.</p>

<p><strong>Note:</strong> This port is used to properly resolve DNS addresses by Kong, therefore it should be placed behind a firewall or closed off network to ensure security.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">dnsmasq_port</span><span class="pi">:</span> <span class="s">8053</span>
</code></pre></div>
<hr>

<h3 id="nginx_working_dir"><strong>nginx_working_dir</strong></h3>

<p>Similar to the NGINX <code>--prefix</code> option, it defines a directory that will contain server files, such as access and error logs, or the Kong pid file.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">nginx_working_dir</span><span class="pi">:</span> <span class="s">/usr/local/kong/</span>
</code></pre></div>
<hr>

<h3 id="plugins_available"><strong>plugins_available</strong></h3>

<p>A list of plugins installed on this node that Kong will load and try to execute during the lifetime of a request. Kong will look for a <a href="/0.4.x/admin-api/#plugin-object"><code>plugin configuration</code></a> entry for each plugin in this list during each request to determine whether the plugin should be executed. Removing plugins from this list will reduce load on your Kong instance.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">plugins_available</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">keyauth</span>
  <span class="pi">-</span> <span class="s">basicauth</span>
  <span class="pi">-</span> <span class="s">ratelimiting</span>
  <span class="pi">-</span> <span class="s">tcplog</span>
  <span class="pi">-</span> <span class="s">httplog</span>
  <span class="pi">-</span> <span class="s">udplog</span>
  <span class="pi">-</span> <span class="s">filelog</span>
  <span class="pi">-</span> <span class="s">request_transformer</span>
  <span class="pi">-</span> <span class="s">cors</span>
  <span class="pi">-</span> <span class="s">requestsizelimiting</span>
</code></pre></div>
<hr>

<h3 id="send_anonymous_reports"><strong>send_anonymous_reports</strong></h3>

<p>If set to <code>true</code>, Kong will collect anonymous error reports which helps us maintain and improve Kong.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">send_anonymous_reports</span><span class="pi">:</span> <span class="s">true</span>
</code></pre></div>
<hr>

<h3 id="databases_available"><strong>databases_available</strong></h3>

<p>A dictionary of databases Kong can connect to, and their respective properties.</p>

<p>Currently, Kong only supports <a href="http://cassandra.apache.org/">Cassandra v3.x.x</a> as a database.</p>

<div class="alert alert-warning">
  <strong>Note:</strong> If you don't want to manage/scale your own Cassandra cluster, we suggest using <a href="https://www.instaclustr.com/products/kong/?utm_source=partnership&utm_medium=link&utm_campaign=mashape" target="_blank">Instaclustr</a> for Cassandra in the cloud.
</div>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">databases_available</span><span class="pi">:</span>
  <span class="s">cassandra</span><span class="pi">:</span>
    <span class="s">properties</span><span class="pi">:</span>
      <span class="s">hosts</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="s2">"</span><span class="s">localhost:9042"</span>
      <span class="s">timeout</span><span class="pi">:</span> <span class="s">1000</span>
      <span class="s">keyspace</span><span class="pi">:</span> <span class="s">kong</span>
      <span class="s">keepalive</span><span class="pi">:</span> <span class="s">60000</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties</code></strong></p>

<p>A dictionary of properties needed for Kong to connect to a given database (where <code>.*</code> is the name of the database).</p>

<p><strong><code>databases_available.*.properties.hosts</code></strong></p>

<p>The hosts(s) on which Kong should connect to for accessing your Cassandra cluster. Can either be a string or a list of strings containing the host and the port of your node(s).</p>

<p><strong>Example:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">properties</span><span class="pi">:</span>
  <span class="s">hosts</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">52.5.149.55"</span>      <span class="c1"># will connect on port 9042 (default)</span>
    <span class="pi">-</span> <span class="s2">"</span><span class="s">52.5.149.56:9000"</span> <span class="c1"># will connect on port 9000</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.timeout</code></strong></p>

<p>Sets the timeout (in milliseconds) for sockets performing operations between Kong and Cassandra.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">timeout</span><span class="pi">:</span> <span class="s">1000</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.keyspace</code></strong></p>

<p>The keyspace in which Kong operates on your cluster.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">keyspace</span><span class="pi">:</span> <span class="s">kong</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.user</code></strong></p>

<p>User to authenticate with if your cluster has authentication enabled.</p>

<p><strong>Example:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">user</span><span class="pi">:</span> <span class="s">cassandra</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.password</code></strong></p>

<p>The password to use if your cluster has authentication enabled.</p>

<p><strong>Example:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">password</span><span class="pi">:</span> <span class="s">cassandra</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.ssl</code></strong></p>

<p>Enable client-to-node encryption with your Cassandra cluster.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">ssl</span><span class="pi">:</span> <span class="s">false</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.ssl_verify</code></strong></p>

<p>Enable SSL certificate verification. If true, an <code>ssl_certificate</code> must also be provided.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">ssl_verify</span><span class="pi">:</span> <span class="s">false</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.ssl_certificate</code></strong></p>

<p>Absolute path to the certificate authority file.</p>

<p><strong>Example:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">ssl_certificate</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/path/to/cluster-ca-certificate.pem"</span>
</code></pre></div>
<p><strong><code>databases_available.*.properties.keepalive</code></strong></p>

<p>The time (in milliseconds) during which Cassandra sockets can be reused by Kong before being closed.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">keepalive</span><span class="pi">:</span> <span class="s">60000</span>
</code></pre></div>
<hr>

<h3 id="database"><strong>database</strong></h3>

<p>The desired database to use for this Kong instance as a string, matching one of the databases defined under <a href="#databases_available"><code>databases_available</code></a>.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">database</span><span class="pi">:</span> <span class="s">cassandra</span>
</code></pre></div>
<hr>

<h3 id="database_cache_expiration"><strong>database_cache_expiration</strong></h3>

<p>A value specifying (in seconds) how long Kong will keep database entities in memory. Setting this to a high value will cause Kong to avoid making multiple queries to the database in order to retrieve an API&#39;s target URL. However, this also means you may be required to wait a while before the
cached value is flushed and reflects any potential changes made during that time.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">database_cache_expiration</span><span class="pi">:</span> <span class="s">5</span> <span class="c1"># in seconds</span>
</code></pre></div>
<hr>

<h3 id="ssl_cert_path"><strong>ssl_cert_path</strong></h3>

<p>The path to the SSL certificate that Kong will use when listening on the <code>https</code> port.</p>

<p><strong>Default:</strong></p>

<p>By default this property is commented out, which will force Kong to use an auto-generated self-signed certificate stored in the working directory (<a href="#nginx_working_dir"><code>nginx_working_dir</code></a>).</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># ssl_cert_path: /path/to/certificate.pem</span>
</code></pre></div>
<hr>

<h3 id="ssl_key_path"><strong>ssl_key_path</strong></h3>

<p>The path to the SSL certificate key that Kong will use when listening on the <code>https</code> port.</p>

<p><strong>Default:</strong></p>

<p>By default this property is commented out, which will force Kong to use an auto-generated self-signed certificate key stored in the working directory (<a href="#nginx_working_dir"><code>nginx_working_dir</code></a>).</p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="c1"># ssl_key_path: /path/to/certificate.key</span>
</code></pre></div>
<hr>

<h3 id="memory_cache_size"><strong>memory_cache_size</strong></h3>

<p>A value specifying (in MB) the size of the internal preallocated in-memory cache. Kong uses an in-memory cache to store database entities in order to optimize access to the underlying datastore. The cache size needs to be as big as the size of the entities being used by Kong at any given time. The default value is <code>128</code>, and the potential maximum value is the total size of the datastore.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">memory_cache_size</span><span class="pi">:</span> <span class="s">128</span> <span class="c1"># in megabytes</span>
</code></pre></div>
<hr>

<h3 id="nginx"><strong>nginx</strong></h3>

<p>The NGINX configuration (or <code>nginx.conf</code>) that will be used for this instance.</p>

<p><strong>Warning:</strong> Modifying the NGINX configuration can lead to unexpected results, edit the configuration only if you are confident about doing so.</p>

<p><strong>Default:</strong></p>
<div class="highlight"><pre><code class="language-yaml" data-lang="yaml"><span class="s">nginx</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="no">worker_processes auto;</span>
  <span class="no">error_log logs/error.log error;</span>
  <span class="no">daemon on;</span>

  <span class="no">worker_rlimit_nofile {{auto_worker_rlimit_nofile}};</span>

  <span class="no">env KONG_CONF;</span>

  <span class="no">events {</span>
    <span class="no">worker_connections {{auto_worker_connections}};</span>
    <span class="no">multi_accept on;</span>
  <span class="no">}</span>

  <span class="no">http {</span>
    <span class="no">resolver {{dns_resolver}};</span>
    <span class="no">charset UTF-8;</span>

    <span class="no">access_log logs/access.log;</span>
    <span class="no">access_log off;</span>

    <span class="no"># Timeouts</span>
    <span class="no">keepalive_timeout 60s;</span>
    <span class="no">client_header_timeout 60s;</span>
    <span class="no">client_body_timeout 60s;</span>
    <span class="no">send_timeout 60s;</span>

    <span class="no"># Proxy Settings</span>
    <span class="no">proxy_buffer_size 128k;</span>
    <span class="no">proxy_buffers 4 256k;</span>
    <span class="no">proxy_busy_buffers_size 256k;</span>
    <span class="no">proxy_ssl_server_name on;</span>

    <span class="no"># IP Address</span>
    <span class="no">real_ip_header X-Forwarded-For;</span>
    <span class="no">set_real_ip_from 0.0.0.0/0;</span>
    <span class="no">real_ip_recursive on;</span>

    <span class="no"># Other Settings</span>
    <span class="no">client_max_body_size 128m;</span>
    <span class="no">underscores_in_headers on;</span>
    <span class="no">reset_timedout_connection on;</span>
    <span class="no">tcp_nopush on;</span>

    <span class="no">################################################</span>
    <span class="no">#  The following code is required to run Kong  #</span>
    <span class="no"># Please be careful if you'd like to change it #</span>
    <span class="no">################################################</span>

    <span class="no"># Lua Settings</span>
    <span class="no">lua_package_path ';;';</span>
    <span class="no">lua_code_cache on;</span>
    <span class="no">lua_max_running_timers 4096;</span>
    <span class="no">lua_max_pending_timers 16384;</span>
    <span class="no">lua_shared_dict cache {{memory_cache_size}}m;</span>
    <span class="no">lua_socket_log_errors off;</span>


    <span class="no">init_by_lua '</span>
      <span class="no">kong = require "kong"</span>
      <span class="no">local status, err = pcall(kong.init)</span>
      <span class="no">if not status then</span>
        <span class="no">ngx.log(ngx.ERR, "Startup error: "..err)</span>
        <span class="no">os.exit(1)</span>
      <span class="no">end</span>
    <span class="no">';</span>

    <span class="no">server {</span>
      <span class="no">server_name _;</span>
      <span class="no">listen {{proxy_port}};</span>
      <span class="no">listen {{proxy_ssl_port}} ssl;</span>

      <span class="no">ssl_certificate_by_lua 'kong.exec_plugins_certificate()';</span>

      <span class="no">ssl_certificate {{ssl_cert}};</span>
      <span class="no">ssl_certificate_key {{ssl_key}};</span>

      <span class="no">location / {</span>
        <span class="no">default_type 'text/plain';</span>

        <span class="no"># This property will be used later by proxy_pass</span>
        <span class="no">set $backend_url nil;</span>

        <span class="no"># Authenticate the user and load the API info</span>
        <span class="no">access_by_lua 'kong.exec_plugins_access()';</span>

        <span class="no"># Proxy the request</span>
        <span class="no">proxy_set_header X-Real-IP $remote_addr;</span>
        <span class="no">proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span>
        <span class="no">proxy_set_header X-Forwarded-Proto $scheme;</span>
        <span class="no">proxy_pass $backend_url;</span>
        <span class="no">proxy_pass_header Server;</span>

        <span class="no"># Add additional response headers</span>
        <span class="no">header_filter_by_lua 'kong.exec_plugins_header_filter()';</span>

        <span class="no"># Change the response body</span>
        <span class="no">body_filter_by_lua 'kong.exec_plugins_body_filter()';</span>

        <span class="no"># Log the request</span>
        <span class="no">log_by_lua 'kong.exec_plugins_log()';</span>
      <span class="no">}</span>

      <span class="no">location /robots.txt {</span>
        <span class="no">return 200 'User-agent: *\nDisallow: /';</span>
      <span class="no">}</span>

      <span class="no">error_page 500 /500.html;</span>
      <span class="no">location = /500.html {</span>
        <span class="no">internal;</span>
        <span class="no">content_by_lua '</span>
          <span class="no">local responses = require "kong.tools.responses"</span>
          <span class="no">responses.send_HTTP_INTERNAL_SERVER_ERROR("An unexpected error occurred")</span>
        <span class="no">';</span>
      <span class="no">}</span>
    <span class="no">}</span>

    <span class="no">server {</span>
      <span class="no">listen {{admin_api_port}};</span>

      <span class="no">location / {</span>
        <span class="no">default_type application/json;</span>
        <span class="no">content_by_lua '</span>
          <span class="no">ngx.header["Access-Control-Allow-Origin"] = "*"</span>
          <span class="no">if ngx.req.get_method() == "OPTIONS" then</span>
            <span class="no">ngx.header["Access-Control-Allow-Methods"] = "GET,HEAD,PUT,PATCH,POST,DELETE"</span>
            <span class="no">ngx.exit(204)</span>
          <span class="no">end</span>
          <span class="no">local lapis = require "lapis"</span>
          <span class="no">lapis.serve("kong.api.app")</span>
        <span class="no">';</span>
      <span class="no">}</span>

      <span class="no">location /nginx_status {</span>
        <span class="no">internal;</span>
        <span class="no">stub_status;</span>
      <span class="no">}</span>

      <span class="no">location /robots.txt {</span>
        <span class="no">return 200 'User-agent: *\nDisallow: /';</span>
      <span class="no">}</span>

      <span class="no"># Do not remove, additional configuration placeholder for some plugins</span>
      <span class="no"># {{additional_configuration}};</span>
    <span class="no">}</span>
  <span class="no">}</span>
</code></pre></div>

        </div>
      </div>
    </div>
  </div>
</div>
<style>
  @media (max-width: 768px) {
    .algolia-docsearch-suggestion--subcategory-column{
      display: none !important;
    }
  }
</style>

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
    apiKey: '691286ef280379144076a4f8df47a1d1',
    indexName: 'getkong',
    inputSelector: '#getkong-algolia-search-input',
    algoliaOptions: {
      hitsPerPage: 5,
      'facetFilters': ["version: 0.4.x"]
    },
    // Override selected event to allow for local environment navigation
    handleSelected: function (input, event, suggestion) {
      input.setVal('');
      window.location.href = window.location.protocol + "//" + window.location.host + suggestion.url.split("docs.konghq.com")[1]
    }
    // ,debug: true // Set debug to true if you want to inspect the dropdown
  });
</script>



    
  <section class="section subscribe-section" id="newsletter">
  <div class="container">
    <header class="section-header">
      <h4>Keep up with the latest features</h4>
    </header>

    <div class="row">
      <div class="one-half column offset-by-three">
        <noscript>
          <iframe id="newsletter-iframe" src="https://go.pardot.com/l/392112/2017-08-16/b2qn8v" width="100%" height="100" type="text/html"
            frameborder="0" allowTransparency="true" style="border: 0"></iframe>
        </noscript>
        <script type="text/javascript">
          var form = 'https://go.pardot.com/l/392112/2017-08-16/b2qn8v';
          var params = window.location.search;
          var thisScript = document.scripts[document.scripts.length - 1];
          var iframe = document.createElement('iframe');

          iframe.setAttribute('src', form + params);
          iframe.setAttribute('width', '100%');
          iframe.setAttribute('height', 100);
          iframe.setAttribute('type', 'text/html');
          iframe.setAttribute('frameborder', 0);
          iframe.setAttribute('allowTransparency', 'true');
          iframe.setAttribute('id', 'newsletter-iframe');
          iframe.style.border = '0';

          thisScript.parentElement.replaceChild(iframe, thisScript);
        </script>
      </div>
    </div>
  </div>
</section>



<footer class="marketing-footer--light-gray">
  <section>
    <ul>
      <li class="logo-wrapper">
        <div class="logo">
          <img src="/assets/images/kong-blue.png" alt="Kong Inc">
        </div>
      </li>
      <li>
        <nav>
          <h4>Company</h4>
          <ul>
            <li><a href="https://konghq.com/about-kong-inc/">About</a></li>
            <li><a href="https://konghq.com/investors/">Investors</a></li>
            <li><a href="http://konghq.com/blog/">Blog</a></li>
            <li><a href="https://konghq.com/jobs/">Jobs</a></li>
            <li><a href="https://konghq.com/contact/">Contact</a></li>
            <li><a href="https://support.konghq.com">Support</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Products</h4>
          <ul>
            <li><a href="https://docs.konghq.com/">Kong</a></li>
            <li><a href="https://konghq.com/api-dev-portal/">Dev Portal</a></li>
            <li><a href="https://konghq.com/api-analytics/">API Analytics</a></li>
            <li><a href="https://konghq.com/kong-enterprise-edition/">Enterprise</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Open Source</h4>
          <ul>
            <li><a href="http://mockbin.org/">Mockbin</a></li>
            <li><a href="http://apiembed.com/">API Embed</a></li>
            <li><a href="http://unirest.io/">Unirest</a></li>
            <li><a href="http://guardianjs.com/">Guardian JS</a></li>
            <li><a href="http://oauthbible.com/">OAuth Bible</a></li>
          </ul>
        </nav>
      </li>
      <li>
        <nav>
          <h4>Legal</h4>
          <ul>
            <li><a href="https://konghq.com/terms/">Terms of Service</a></li>
            <li><a href="https://konghq.com/privacy/">Privacy Policy</a></li>
          </ul>
        </nav>
      </li>
    </ul>
  </section>

  <section class="legal">
    <ul>
      <li>
        <span class="mashape-footer-content">&copy; Kong Inc. 2018</span>
      </li>
      <li>
        <div class="social-link">
          <a href="https://github.com/Kong" title="Github"><i aria-label="Github" class="fa fa-github" aria-hidden="true"></i></a></div>
        <div class="social-link">
          <a href="https://www.facebook.com/konghq/" title="Facebook"><i aria-label="Facebook" class="fa fa-facebook-official" aria-hidden="true"></i></a></div>
        <div class="social-link">
          <a href="https://www.meetup.com/topics/kong/all/" title="Meetup"><img aria-label="Meetup" alt="Meetup" src="/assets/images/footer/icn-meetup-black.svg"></a>
        </div>
        <div class="social-link">
          <a href="https://twitter.com/thekonginc" title="Twitter"><i aria-label="Twitter" class="fa fa-twitter" aria-hidden="true"></i></a>
        </div>
      </li>
    </ul>
  </section>
</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };
  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];
      if (typeof header.id !== "undefined" && header.id !== "") {
        header.prepend(anchorForId(header.id));
      }
    }
  };
  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementById("documentation");
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>


    <script src="/assets/app.js?v=1530848338"></script>

    <div id="fb-root"></div>

    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>
    <script id="twitter-wjs" type="text/javascript" src="https://platform.twitter.com/widgets.js" async defer></script>
    <script id="facebook-jssdk" type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506" async defer></script>

    <script type="text/javascript">
      piAId = '393112';
      piCId = '48375';

      (function() {
        function async_load(){
          var s = document.createElement('script'); s.type = 'text/javascript';
          s.src = ('https:' == document.location.protocol ? 'https://pi' : 'http://cdn') + '.pardot.com/pd.js';
          var c = document.getElementsByTagName('script')[0]; c.parentNode.insertBefore(s, c);
        }
        if(window.attachEvent) { window.attachEvent('onload', async_load); }
        else { window.addEventListener('load', async_load, false); }
      })();
    </script>

    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=125292,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=true,
      // DO NOT EDIT BELOW THIS LINE
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
        analytics.load("WDj0nSS7hpyxwL3evgbOzK755s0NUye6");
        analytics.page()
      }}();
    </script>

  </body>


</html>
