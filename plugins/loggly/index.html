<!DOCTYPE html>
<html lang="en" itemscope itemtype="http://schema.org/Article">
  
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>

  <title>Plugins - Loggly | Kong - Open-Source API Management and Microservice Management</title>
  <meta name="description" content="Secure, Manage & Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="author" content="Mashape"/>
  <meta property="og:title" content="Open-Source API Management and Microservice Management"/>
  <meta property="og:site_name" content="Kong"/>
  <!-- use share link for facebook -->
  <meta property="og:url" content="http://getkong.org"/>
  <meta property="og:description" content="Secure, Manage & Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more."/>
  <meta property="og:type" content="website"/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:image" content="https://getkong.org/assets/images/share.png"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:site" content="@mashape"/>
  <meta name="twitter:creator" content="@mashape"/>
  <meta name="twitter:url" content="https://getkong.org"/>
  <meta name="twitter:description" content="Secure, Manage & Extend your APIs or Microservices with plugins for authentication, logging, rate-limiting, transformations and more.">
  <meta name="twitter:image" content="https://getkong.org/assets/images/share.png">
  <meta property="fb:admins" content="227304446"/>
  <meta property="fb:admins" content="576641408"/>
  <meta name="google-site-verification" content="CrU3zp02dNKTe8NSAipL4NCPkrIjDXG8fViTZ-MIzP4"/>
  <script type="application/ld+json">
    {
      "@context": "http://schema.org",
      "@type": "Organization",
      "name": "Mashape",
      "url": "https://getkong.org",
      "logo": "https://getkong.org/assets/images/logo.png",
      "sameAs": [
        "https://www.facebook.com/Mashape",
        "https://twitter.com/mashape",
        "https://plus.google.com/+mashape"
      ]
    }
  </script>
  <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico"/>
  <link rel="stylesheet" href="//cloud.typography.com/7506032/804186/css/fonts.css"/>
  <link rel="stylesheet" href="/assets/styles.css?v=1475801475"/>
</head>


  <body id="page-plugin" >
    <header class="site-header">
  <div class="enterprise">
    <div class="container">
      <nav class="enterprise-sites one-half column">
        <ul>
          <li class="active"><a href="http://getkong.org">Kong</a></li>
          <li><a href="http://gelato.io">Gelato</a></li>
          <li><a href="http://getgalileo.io">Galileo</a></li>
          <li><a href="http://www.mashape.com/enterprise/">Enterprise</a></li>
        </ul>
      </nav>
      <nav class="enterprise-contact one-half column">
        <ul>
          <li><a href="https://www.mashape.com/enterprise/#demo-form">Request Demo</a></li>
          <li><a href="tel:+18664021473">Sales: +1 (866) 402-1473</a></li>
        </ul>
      </nav>
    </div>
  </div><!-- .enterprise -->
  <div class="navbar">
    <div class="container">
      <a href="/" class="navbar-brand"><img src="/assets/images/branding.svg" alt="Kong" width="99" height="32"></a>
      <iframe class="header-star" src="https://ghbtns.com/github-btn.html?user=Mashape&amp;repo=kong&amp;type=star"frameborder="0" scrolling="0" width="55" height="20"></iframe>
      <button data-toggle="collapse" data-target="#navbar" aria-expanded="true" aria-controls="navbar" class="navbar-toggle">
        <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
      </button>
      <nav id="navbar" class="navbar-nav">
        <ul>
          <li><a href="/about/" >About</a></li>
          <li><a href="/docs/" >Docs</a></li>
          <li><a href="/plugins/" >Plugins</a></li>
          <li><a href="/community/" >Community</a></li>
          <li><a href="https://www.mashape.com/enterprise/">Enterprise</a></li>
          <li><a href="https://github.com/Mashape/kong" target="_blank">GitHub</a></li>
          <li>
            <a href="/install/" class="button button-dark" data-analytics='{"event": "Clicked download", "type": "button", "location": "header"}'>Installation</a>
          </li>
        </ul>
      </nav>
    </div>
  </div><!-- .navbar -->
</header>


    <div class="page page-plugin">
  
  <header class="page-header">
    <div class="container">
      
        <div class="page-header-icon">
          <img src="/assets/images/icons/plugins/loggly.png" alt="" />
        </div>
      

      <div class="page-header-title">
        
          <ul class="breadcrumbs">
            
              <li class="breadcrumb-item"><a href="/plugins">Plugins</a></li>
            
          </ul>
        

        <h1>Loggly</h1>

        
      </div>

      
        <div class="page-header-right">
          <a class="page-header-btn" href="mailto:support@mashape.com?subject=Loggly Plugin Bug" target="_blank">Report Bug</a>
        </div>
      

      
    </div>
  </header>



  <div class="container">
    <aside class="page-navigation">

      
        <nav>
          
            <h5>Getting Started</h5>
          

          <ul>
            
              <li>
                <a href="#configuration">Configuration</a>

                
              </li>
            
          </ul>
        </nav>
      
        <nav>
          
            <h5>Usage</h5>
          

          <ul>
            
              <li>
                <a href="#log-format">Log Format</a>

                
              </li>
            
              <li>
                <a href="#kong-process-errors">Kong Process Errors</a>

                
              </li>
            
          </ul>
        </nav>
      
    </aside>

    <div class="page-content-container">
      <div class="page-content">
        <div class="content">
          <p>Log request and response data over UDP to <a href="https://www.loggly.com">Loggly</a>.</p>

<hr>

<h2 id="configuration">Configuration</h2>

<p>Configuring the plugin is straightforward, you can add it on top of an <a href="/docs/latest/admin-api/#api-object">API</a> (or <a href="/docs/latest/admin-api/#consumer-object">Consumer</a>) by executing the following request on your Kong server:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>curl -X POST http://kong:8001/apis/<span class="o">{</span>api<span class="o">}</span>/plugins <span class="se">\</span>
    --data <span class="s2">&quot;name=loggly&quot;</span> <span class="se">\</span>
    --data <span class="s2">&quot;config.key=YOUR_LOGGLY_SERVICE_TOKEN&quot;</span>
</code></pre></div>
<p><code>api</code>: The <code>id</code> or <code>name</code> of the API that this plugin configuration will target</p>

<p>You can also apply it for every API using the <code>http://kong:8001/plugins/</code> endpoint. Read the <a href="/docs/latest/admin-api/#add-plugin">Plugin Reference</a> for more information.</p>

<table><thead>
<tr>
<th>parameter</th>
<th>default</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>name</code></td>
<td></td>
<td>The name of the plugin to use, in this case: <code>loggly</code></td>
</tr>
<tr>
<td><code>consumer_id</code><br><em>optional</em></td>
<td></td>
<td>The CONSUMER ID that this plugin configuration will target. This value can only be used if <a href="/about/faq/#how-can-i-add-an-authentication-layer-on-a-microservice/api?">authentication has been enabled</a> so that the system can identify the user making the request.</td>
</tr>
<tr>
<td><code>config.host</code><br><em>optional</em></td>
<td><code>logs-01.loggly.com</code></td>
<td>The IP address or host name of Loggly server</td>
</tr>
<tr>
<td><code>config.port</code><br><em>optional</em></td>
<td><code>514</code></td>
<td>The UDP port to send data to on the Loggly server</td>
</tr>
<tr>
<td><code>config.key</code></td>
<td></td>
<td>Loggly <a href="https://www.loggly.com/docs/customer-token-authentication-token/">customer token</a>.</td>
</tr>
<tr>
<td><code>config.tags</code><br><em>optional</em></td>
<td><code>kong</code></td>
<td>An optional list of <a href="https://www.loggly.com/docs/tags/">tags</a> to support segmentation &amp; filtering of logs.</td>
</tr>
<tr>
<td><code>config.timeout</code><br><em>optional</em></td>
<td><code>10000</code></td>
<td>An optional timeout in milliseconds when sending data to the Loggly server</td>
</tr>
<tr>
<td><code>config.successful_severity</code><br><em>optional</em></td>
<td><code>info</code></td>
<td>An optional logging severity assigned to the all successful requests with response status code 400 .</td>
</tr>
<tr>
<td><code>config.client_errors_severity</code><br><em>optional</em></td>
<td><code>info</code></td>
<td>An optional logging severity assigned to the all failed requests with response status code 400 or higher but less than 500.</td>
</tr>
<tr>
<td><code>config.server_errors_severity</code><br><em>optional</em></td>
<td><code>info</code></td>
<td>An optional logging severity assigned to the all failed requests with response status code 500 or higher.</td>
</tr>
<tr>
<td><code>config.log_level</code><br><em>optional</em></td>
<td><code>info</code></td>
<td>An optional logging severity, any request with equal or higher severity will be logged to Loggly.</td>
</tr>
</tbody></table>

<hr>

<h2 id="log-format">Log Format</h2>

<p>Every request will be transmitted to Loggly in <a href="https://en.wikipedia.org/wiki/Syslog">SYSLOG</a> standard, with <code>message</code> component in the following format:</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
    <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;method&quot;</span><span class="p">:</span> <span class="s2">&quot;GET&quot;</span><span class="p">,</span>
        <span class="nt">&quot;uri&quot;</span><span class="p">:</span> <span class="s2">&quot;/get&quot;</span><span class="p">,</span>
        <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;75&quot;</span><span class="p">,</span>
        <span class="nt">&quot;request_uri&quot;</span><span class="p">:</span> <span class="s2">&quot;http://httpbin.org:8000/get&quot;</span><span class="p">,</span>
        <span class="nt">&quot;querystring&quot;</span><span class="p">:</span> <span class="p">{},</span>
        <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;accept&quot;</span><span class="p">:</span> <span class="s2">&quot;*/*&quot;</span><span class="p">,</span>
            <span class="nt">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;httpbin.org&quot;</span><span class="p">,</span>
            <span class="nt">&quot;user-agent&quot;</span><span class="p">:</span> <span class="s2">&quot;curl/7.37.1&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;response&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="nt">&quot;size&quot;</span><span class="p">:</span> <span class="s2">&quot;434&quot;</span><span class="p">,</span>
        <span class="nt">&quot;headers&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">&quot;Content-Length&quot;</span><span class="p">:</span> <span class="s2">&quot;197&quot;</span><span class="p">,</span>
            <span class="nt">&quot;via&quot;</span><span class="p">:</span> <span class="s2">&quot;kong/0.3.0&quot;</span><span class="p">,</span>
            <span class="nt">&quot;Connection&quot;</span><span class="p">:</span> <span class="s2">&quot;close&quot;</span><span class="p">,</span>
            <span class="nt">&quot;access-control-allow-credentials&quot;</span><span class="p">:</span> <span class="s2">&quot;true&quot;</span><span class="p">,</span>
            <span class="nt">&quot;Content-Type&quot;</span><span class="p">:</span> <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
            <span class="nt">&quot;server&quot;</span><span class="p">:</span> <span class="s2">&quot;nginx&quot;</span><span class="p">,</span>
            <span class="nt">&quot;access-control-allow-origin&quot;</span><span class="p">:</span> <span class="s2">&quot;*&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">&quot;authenticated_entity&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;consumer_id&quot;</span><span class="p">:</span> <span class="s2">&quot;80f74eef-31b8-45d5-c525-ae532297ea8e&quot;</span><span class="p">,</span>
        <span class="nt">&quot;created_at&quot;</span><span class="p">:</span>   <span class="mi">1437643103000</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;eaa330c0-4cff-47f5-c79e-b2e4f355207e&quot;</span><span class="p">,</span>
        <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;2b64e2f0193851d4135a2e885cd08a65&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;api&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;request_host&quot;</span><span class="p">:</span> <span class="s2">&quot;test.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;upstream_url&quot;</span><span class="p">:</span> <span class="s2">&quot;http://httpbin.org/&quot;</span><span class="p">,</span>
        <span class="nt">&quot;created_at&quot;</span><span class="p">:</span> <span class="mi">1432855823000</span><span class="p">,</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;test.com&quot;</span><span class="p">,</span>
        <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;fbaf95a1-cd04-4bf6-cb73-6cb3285fef58&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;latencies&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;proxy&quot;</span><span class="p">:</span> <span class="mi">1430</span><span class="p">,</span>
        <span class="nt">&quot;kong&quot;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="nt">&quot;request&quot;</span><span class="p">:</span> <span class="mi">1921</span>
    <span class="p">},</span>
    <span class="nt">&quot;started_at&quot;</span><span class="p">:</span> <span class="mi">1433209822425</span><span class="p">,</span>
    <span class="nt">&quot;client_ip&quot;</span><span class="p">:</span> <span class="s2">&quot;127.0.0.1&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>A few considerations on the above JSON object:</p>

<ul>
<li><code>request</code> contains properties about the request sent by the client</li>
<li><code>response</code> contains properties about the response sent to the client</li>
<li><code>api</code> contains Kong properties about the specific API requested</li>
<li><code>authenticated_entity</code> contains Kong properties about the authenticated consumer (if an authentication plugin has been enabled)</li>
<li><code>latencies</code> contains some data about the latencies involved:

<ul>
<li><code>proxy</code> is the time it took for the final service to process the request</li>
<li><code>kong</code> is the internal Kong latency that it took to run all the plugins</li>
<li><code>request</code> is the time elapsed between the first bytes were read from the client and after the last bytes were sent to the client. Useful for detecting slow clients.</li>
</ul></li>
</ul>

<hr>

<h2 id="kong-process-errors">Kong Process Errors</h2>

<p>This logging plugin will only log HTTP request and response data. If you are looking for the Kong process error file (which is the nginx error file), then you can find it at the following path: {<a href="/docs/0.9.x/configuration/#prefix">prefix</a>}/logs/error.log</p>

        </div>
      </div>
    </div>
  </div>
</div>


    <footer class="footer">
  
    <section class="section subscribe-section" id="newsletter">
  <div class="container">
    <header class="section-header">
      <h4>Keep up with the latest features</h4>
    </header>


    <form action="/" class="subscribe-form">
      <div class="spinner">
        <div class="bounce1"></div>
        <div class="bounce2"></div>
        <div class="bounce3"></div>
      </div>

      <div class="alert alert-success" role="alert">Thank You!</div>

      <div class="input-group">
        <input type="email" name="email" placeholder="youre@awesome.com" required/>
        <button class="button button-primary" type="submit">Subscribe</button>
      </div>
    </form>
  </div>
</section>

  

  <div class="footer-bar">
    <div class="container">
      <ul class="footer-social">
        <li>
          <!-- verse link.web with link.share in the header -->
          <div class="fb-share-button" data-href="https://getkong.org" data-layout="button"></div>
        </li>
        <li>
          <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://getkong.org" data-text="KONG - the open-source management layer for APIs and Microservices" data-hashtags="opensource,API,management">Tweet</a>
        </li>
        <li>
          <a class="github-button" href="https://github.com/Mashape/kong" data-icon="octicon-star" data-count-href="/mashape/kong/stargazers" data-count-api="/repos/mashape/kong#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star mashape/kong on GitHub">Star</a>
        </li>
      </ul>
    <span>
      <a href="https://mashape.com">
        <img src="/assets/images/branding-footer.svg" alt="Mashape" width="22" height="26"/>
        &copy; <strong>2016 Mashape Inc</strong>
      </a>
    </span>
      <span class="footer-separator"></span>
      <span class="footer-nav">
        <a href="/license">License</a>
        <a href="/terms">Terms</a>
        <a href="/privacy">Privacy</a>
        <a href="https://www.mashape.com/enterprise/">Enterprise</a>
        <a href="http://blog.mashape.com/category/open-source/" target="_blank">News</a>
      </span>
    </div>
  </div>
</footer>


    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/assets/app.js?v=1475801475"></script>

    <div id="fb-root"></div>

    <a id="support-bubble" href="https://gitter.im/Mashape/kong" class="js-gitter-toggle-chat-button" data-gitter-toggle-chat-state="true"></a>

    <script id="github-bjs" src="https://buttons.github.io/buttons.js" async defer></script>
    <script id="twitter-wjs" type="text/javascript" src="https://platform.twitter.com/widgets.js" async defer></script>
    <script id="facebook-jssdk" type="text/javascript" src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.3&appId=842731852424506" async defer></script>

    <script type='text/javascript'>
      var _vwo_code=(function(){
      var account_id=125292,
      settings_tolerance=2000,
      library_tolerance=2500,
      use_existing_jquery=true,
      // DO NOT EDIT BELOW THIS LINE
      f=false,d=document;return{use_existing_jquery:function(){return use_existing_jquery;},library_tolerance:function(){return library_tolerance;},finish:function(){if(!f){f=true;var a=d.getElementById('_vis_opt_path_hides');if(a)a.parentNode.removeChild(a);}},finished:function(){return f;},load:function(a){var b=d.createElement('script');b.src=a;b.type='text/javascript';b.innerText;b.onerror=function(){_vwo_code.finish();};d.getElementsByTagName('head')[0].appendChild(b);},init:function(){settings_timer=setTimeout('_vwo_code.finish()',settings_tolerance);this.load('//dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(d.URL)+'&r='+Math.random());var a=d.createElement('style'),b='body{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}',h=d.getElementsByTagName('head')[0];a.setAttribute('id','_vis_opt_path_hides');a.setAttribute('type','text/css');if(a.styleSheet)a.styleSheet.cssText=b;else a.appendChild(d.createTextNode(b));h.appendChild(a);return settings_timer;}};}());_vwo_settings_timer=_vwo_code.init();
    </script>

    <script type="text/javascript">
      !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.0.1";
        analytics.load("WDj0nSS7hpyxwL3evgbOzK755s0NUye6");
        analytics.page()
      }}();
    </script>

    <script type="text/javascript" src="//mashape.github.io/notification-bar/embed.js" async defer></script>
    <script src="https://sidecar.gitter.im/dist/sidecar.v1.js" async defer></script>
  </body>
</html>
